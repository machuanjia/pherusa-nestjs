{"version":3,"sources":["components/Mixin/index.tsx","views/user/UserCollection.tsx","views/user/index.tsx","apis/scrum.ts","apis/tasks.ts","apis/project.ts","apis/index.ts"],"names":["listMixin","ComposedComponent","props","instance","fetchAction","getDetailAction","createAction","updateAction","deleteAction","beforeFetch","afterFtech","searchText","pagination","showSizeChanger","onShowSizeChange","bind","onChange","pageChange","pageSizeOptions","hideOnSinglePage","pageIndex","pageSize","total","state","data","loading","isCollectionVisible","entity","this","getList","e","code","keyCode","value","target","current","page","setState","isVisible","isRefresh","values","openCollection","closeCollection","_id","then","init","pi","ps","keyword","res","id","err","console","log","error","record","index","searchAction","getRowKey","collectionCallBack","editEntity","deleteEntity","ref","getInstance","Component","UserCollecrtionComponent","preventDefault","callback","rule","isPhone","labelCol","span","wrapperCol","onFinish","handleSubmit","initialValues","username","password","Item","label","name","rules","required","message","placeholder","type","htmlType","className","i18n","t","onClick","cancel","UserView","getUsers","getUserDetail","createUser","updateUser","deleteUser","columns","title","dataIndex","key","render","text","width","placement","EditOutlined","editAction","DeleteOutlined","rowKey","bordered","dataSource","onKeyDown","suffix","SearchOutlined","icon","PlusOutlined","getTable","visible","MODAL_SIZE","md","destroyOnClose","footer","onCancel","getProjectScrums","params","request","url","method","createScrum","updateScrum","createTask","updateTask","deleteTask","getTaskDetail","getTasks","sortTasks","summaryTask","getSummary","getProjects","createProject","getProjectDetail","updateProject","deleteProject"],"mappings":"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","file":"static/js/959.32779478.chunk.js","sourcesContent":["import React, { Component } from 'react'\n\ntype IListState = {\n  data: Record<string, unknown>[]\n  loading: boolean\n  isCollectionVisible: boolean\n  entity: Record<string, unknown>\n}\nexport const listMixin = (ComposedComponent) =>\n  class extends Component<any, IListState> {\n    private instance = null\n    private fetchAction = null\n    private getDetailAction = null\n    private createAction = null\n    private updateAction = null\n    private deleteAction = null\n\n    private beforeFetch = null\n    private afterFtech = null\n    private searchText = ''\n    private pagination = {\n      showSizeChanger: true,\n      onShowSizeChange: this.onShowSizeChange.bind(this),\n      onChange: this.pageChange.bind(this),\n      pageSizeOptions: ['10', '20', '30', '40', '50', '60', '100'],\n      hideOnSinglePage: false,\n      pageIndex: 1,\n      pageSize: 20,\n      total: 0,\n    }\n    constructor(props) {\n      super(props)\n      this.state = {\n        data: [],\n        loading: false,\n        isCollectionVisible: false,\n        entity: null,\n      }\n    }\n\n    componentDidMount() {\n      this.beforeFetch()\n      this.getList()\n      this.afterFtech()\n    }\n\n    searchAction(e) {\n      const code = e.keyCode\n      const { value } = e.target\n      if (code === 13) {\n        this.searchText = value\n        this.pagination.pageIndex = 1\n        this.pagination.pageSize = 20\n        this.getList()\n      }\n    }\n\n    onShowSizeChange(current, pageSize) {\n      this.pagination.pageSize = pageSize\n      this.getList()\n    }\n\n    pageChange(page) {\n      this.pagination.pageIndex = page\n      this.getList()\n    }\n\n    openCollection() {\n      this.setState({\n        isCollectionVisible: true,\n      })\n    }\n\n    closeCollection() {\n      this.setState({\n        isCollectionVisible: false,\n      })\n    }\n\n    collectionCallBack({ isVisible, isRefresh, values = '' }) {\n      isVisible && this.openCollection()\n      !isVisible && this.closeCollection()\n      if (values) {\n        if (!this.state.entity) {\n          // 新建\n          this.createAction(values).then(() => {\n            this.pagination.pageIndex = 1\n            this.getList()\n          })\n        } else {\n          // 修改\n          this.updateAction(this.state.entity._id, values).then(() => {\n            this.pagination.pageIndex = 1\n            this.getList()\n          })\n        }\n      } else {\n        isRefresh && this.getList()\n      }\n    }\n\n    getInstance(instance) {\n      if (instance) {\n        this.instance = instance\n        const {\n          fetchAction = () => {},\n          getDetailAction = () => {},\n          createAction = () => {},\n          updateAction = () => {},\n          deleteAction = () => {},\n          beforeFetch = () => {},\n          afterFtech = () => {},\n        } = this.instance.init()\n        this.fetchAction = fetchAction\n        this.getDetailAction = getDetailAction\n        this.createAction = createAction\n        this.updateAction = updateAction\n        this.deleteAction = deleteAction\n        this.beforeFetch = beforeFetch\n        this.afterFtech = afterFtech\n      }\n    }\n\n    getList() {\n      this.setState({\n        loading: true,\n      })\n      this.fetchAction({\n        pi: this.pagination.pageIndex - 1,\n        ps: this.pagination.pageSize,\n        keyword: this.searchText,\n      }).then((res) => {\n        const { page, total, data } = res\n        this.pagination.total = total\n        this.pagination.pageIndex = page\n        this.setState({\n          loading: false,\n          data,\n        })\n      })\n    }\n\n    editEntity(id: string) {\n      this.getDetailAction(id).then(\n        (data) => {\n          this.setState({\n            entity: data,\n            isCollectionVisible: true,\n          })\n        },\n        (err) => {\n          console.log(err)\n        },\n      )\n    }\n\n    deleteEntity(id: string) {\n      this.deleteAction(id).then(\n        () => {\n          this.pagination.pageIndex = 1\n          this.getList()\n        },\n        (error) => {\n          console.log(error)\n        },\n      )\n    }\n\n    getRowKey(record, index) {\n      return record.id || record._id || index\n    }\n\n    render() {\n      const { loading, data, isCollectionVisible, entity } = this.state\n      return (\n        <ComposedComponent\n          loading={loading}\n          data={data}\n          entity={entity}\n          pagination={this.pagination}\n          isCollectionVisible={isCollectionVisible}\n          searchAction={this.searchAction.bind(this)}\n          openCollection={this.openCollection.bind(this)}\n          closeCollection={this.closeCollection.bind(this)}\n          getRowKey={this.getRowKey.bind(this)}\n          getList={this.getList.bind(this)}\n          collectionCallBack={this.collectionCallBack.bind(this)}\n          editEntity={this.editEntity.bind(this)}\n          deleteEntity={this.deleteEntity.bind(this)}\n          {...this.props}\n          ref={this.getInstance.bind(this)}\n        />\n      )\n    }\n  }\n","/*\n * @Author: D.Y\n * @Date: 2021-02-04 15:27:20\n * @LastEditTime: 2021-04-17 11:00:12\n * @LastEditors: D.Y\n * @FilePath: /arthemis-client/src/views/user/UserCollection.tsx\n * @Description:\n */\nimport React, { Component } from 'react'\nimport { Form, Input, Button } from 'antd'\nimport i18n from 'i18next'\nimport { isPhone } from '@utils/index'\nimport type { IUser } from '@interfaces/user'\n\ntype IUserCollectionProps = {\n  callback: ({ isVisible, isRefresh, values }) => unknown\n  form: any\n  entity: IUser\n}\ntype IUserCollectionState = {\n  loading: boolean\n}\n\nexport default class UserCollecrtionComponent extends Component<\n  IUserCollectionProps,\n  IUserCollectionState\n> {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: false,\n    }\n  }\n  componentDidMount() {\n    // console.log(this.props.entity);\n  }\n  cancel(e) {\n    e.preventDefault()\n    this.props.callback({\n      isVisible: false,\n      isRefresh: false,\n      values: '',\n    })\n  }\n  handleSubmit(values) {\n    this.props.callback({\n      isVisible: false,\n      isRefresh: true,\n      values,\n    })\n  }\n  checkPhone(rule, value, callback) {\n    isPhone(value) ? callback() : callback('请输入正确的手机号码')\n  }\n  render() {\n    const { entity } = this.props\n    return (\n      <Form\n        labelCol={{ span: 24 }}\n        wrapperCol={{ span: 24 }}\n        onFinish={this.handleSubmit.bind(this)}\n        initialValues={{\n          username: entity ? entity.username : '',\n          password: entity ? entity.password : '',\n        }}\n      >\n        <Form.Item\n          label=\"用户名\"\n          name=\"username\"\n          rules={[{ required: true, message: '请输入用户名' }]}\n        >\n          <Input placeholder=\"请输入用户名\" />\n        </Form.Item>\n        <Form.Item label=\"密码\" name=\"password\" rules={[{ required: true, message: '请输入密码' }]}>\n          <Input placeholder=\"请输入密码\" type=\"password\" />\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\" className=\"m-r-12\">\n            {i18n.t('action.save')}\n          </Button>\n          <Button onClick={this.cancel.bind(this)}> {i18n.t('action.cancel')}</Button>\n        </Form.Item>\n      </Form>\n    )\n  }\n}\n","import React, { Component, Fragment } from 'react'\nimport { Table, Input, Button, Tooltip, Modal } from 'antd'\n\nimport { ContentLayoutComponent } from '@components/index'\nimport { MODAL_SIZE } from '@constants/index'\nimport UserCollecrtionComponent from './UserCollection'\nimport { listMixin } from '@components/Mixin'\nimport { getUsers, getUserDetail, updateUser, deleteUser, createUser } from '@apis/index'\nimport type { IListMixin } from '@interfaces/mixin'\nimport {\n  SettingOutlined,\n  EditOutlined,\n  DeleteOutlined,\n  SearchOutlined,\n  PlusOutlined,\n} from '@ant-design/icons'\nimport i18n from 'i18next'\n\nclass UserView extends Component<IListMixin, any> {\n  init() {\n    return {\n      fetchAction: getUsers,\n      getDetailAction: getUserDetail,\n      createAction: createUser,\n      updateAction: updateUser,\n      deleteAction: deleteUser,\n    }\n  }\n\n  editAction(record) {\n    this.props.editEntity(record._id)\n  }\n\n  deleteAction(record) {\n    this.props.deleteEntity(record._id)\n  }\n\n  getTable() {\n    const { data, loading, pagination, getRowKey } = this.props\n    const columns = [\n      {\n        title: i18n.t('list.name'),\n        dataIndex: 'username',\n        key: 'username',\n        render: (text) => text,\n      },\n      {\n        title: i18n.t('list.password'),\n        dataIndex: 'password',\n        key: 'password',\n      },\n      //   {\n      //     title: i18n.t('list.address'),\n      //     dataIndex: 'address',\n      //     key: 'address',\n      //   },\n      {\n        title: i18n.t('list.operation'),\n        key: 'action',\n        width: 200,\n        render: (text, record) => (\n          <span>\n            {/* <span className=\"m-l-12 m-r-12 icon-action\">\n              <SettingOutlined /> {i18n.t('action.setting')}\n            </span> */}\n            <span className=\"m-l-12 m-r-12 icon-action\">\n              <Tooltip placement=\"top\" title={i18n.t('action.edit')}>\n                <EditOutlined onClick={this.editAction.bind(this, record)} />\n              </Tooltip>\n            </span>\n            <span className=\"m-l-12 m-r-12 icon-action\">\n              <Tooltip placement=\"top\" title={i18n.t('action.delete')}>\n                <DeleteOutlined onClick={this.deleteAction.bind(this, record)} />\n              </Tooltip>\n            </span>\n          </span>\n        ),\n      },\n    ]\n\n    return (\n      <Table\n        rowKey={getRowKey}\n        pagination={pagination}\n        loading={loading}\n        bordered={true}\n        columns={columns}\n        dataSource={data}\n      />\n    )\n  }\n\n  render() {\n    const {\n      searchAction,\n      isCollectionVisible,\n      openCollection,\n      closeCollection,\n      collectionCallBack,\n      entity,\n    } = this.props\n    return (\n      <ContentLayoutComponent>\n        <Fragment key=\"left\">\n          <Input\n            className=\"search\"\n            onKeyDown={searchAction}\n            suffix={<SearchOutlined />}\n            placeholder={i18n.t('list.search')}\n          />\n        </Fragment>\n        <Fragment key=\"actions\">\n          <Button\n            type=\"primary\"\n            icon={<PlusOutlined />}\n            className={`${'action-btn'}`}\n            onClick={openCollection}\n          >\n            {i18n.t('action.create')}\n          </Button>\n        </Fragment>\n        <Fragment key=\"main\">\n          {this.getTable()}\n          <Modal\n            title={i18n.t('action.create')}\n            visible={isCollectionVisible}\n            width={MODAL_SIZE.md}\n            destroyOnClose={true}\n            footer={false}\n            onCancel={closeCollection}\n          >\n            {\n              // @ts-ignore\n              <UserCollecrtionComponent entity={entity} callback={collectionCallBack} />\n            }\n          </Modal>\n        </Fragment>\n      </ContentLayoutComponent>\n    )\n  }\n}\n\nexport default listMixin(UserView)\n","/*\n * @Author: D.Y\n * @Date: 2021-04-20 19:17:58\n * @LastEditTime: 2021-04-24 09:36:00\n * @LastEditors: D.Y\n * @FilePath: /arthemis-client/src/apis/scrum.ts\n * @Description:\n */\nimport type { IScrum } from '@interfaces/scrum'\nimport request from '@utils/request'\n\nexport const getProjectScrums = (params = {}) => {\n  return request({\n    url: '/scrums',\n    method: 'get',\n    params,\n  })\n}\n\nexport const createScrum = (data: IScrum) => {\n  return request({\n    url: '/scrums',\n    method: 'post',\n    data,\n  })\n}\n\nexport const updateScrum = (_id, data: IScrum) => {\n  return request({\n    url: `/scrums/${_id}`,\n    method: 'put',\n    data,\n  })\n}\n\nexport const getScrumDetail = (_id, params = {}) => {\n  return request({\n    url: `/scrums/${_id}`,\n    method: 'get',\n    params,\n  })\n}\n\nexport const deleteScrum = (_id) => {\n  return request({\n    url: `/scrums/${_id}`,\n    method: 'delete',\n  })\n}\n","/*\n * @Author: D.Y\n * @Date: 2021-04-14 19:16:26\n * @LastEditTime: 2021-04-21 10:02:26\n * @LastEditors: D.Y\n * @FilePath: /arthemis-client/src/apis/tasks.ts\n * @Description:\n */\nimport type { Task } from '@interfaces/task'\nimport request from '@utils/request'\n\nexport const createTask = (data: Task) => {\n  return request({\n    url: '/tasks',\n    method: 'post',\n    data,\n  })\n}\n\nexport const updateTask = (_id: string, data: Task) => {\n  return request({\n    url: `/tasks/${_id}`,\n    method: 'put',\n    data,\n  })\n}\n\nexport const deleteTask = (_id: string) => {\n  return request({\n    url: `/tasks/${_id}`,\n    method: 'delete',\n  })\n}\n\nexport const getTaskDetail = (_id: string, params = {}) => {\n  return request({\n    url: `/tasks/${_id}`,\n    method: 'get',\n    params,\n  })\n}\n\nexport const getTasks = (params = {}) => {\n  return request({\n    url: '/tasks',\n    method: 'get',\n    params,\n  })\n}\n\nexport const sortTasks = (\n  _id: string,\n  data: {\n    fromId: string\n    toId: string\n    oldIndex: number\n    newIndex: number\n  },\n) => {\n  return request({\n    url: `/tasks/${_id}/sort`,\n    method: 'post',\n    data,\n  })\n}\n\nexport const summaryTask = (data: { content: string; dateNumber: string }) => {\n  return request({\n    url: '/task-summary',\n    method: 'post',\n    data,\n  })\n}\nexport const getSummary = (params = {}) => {\n  return request({\n    url: '/task-summary',\n    method: 'get',\n    params,\n  })\n}\n","/*\n * @Author: D.Y\n * @Date: 2021-02-04 15:27:20\n * @LastEditTime: 2021-04-20 15:54:24\n * @LastEditors: D.Y\n * @FilePath: /arthemis-client/src/apis/project.ts\n * @Description: \n */\n\nimport type { IProject } from '@interfaces/project'\nimport request from '@utils/request'\n\n\nexport const getProjects = (params = {}) => {\n  return request({\n    url: '/projects',\n    method: 'get',\n    params,\n  })\n}\n\nexport const createProject = (data: IProject) => {\n  return request({\n    url: '/projects',\n    method: 'post',\n    data,\n  })\n}\n\nexport const getProjectDetail = (id: string, params = {}) => {\n  return request({\n    url: `/projects/${id}`,\n    method: 'get',\n    params,\n  })\n}\n\nexport const updateProject = (id: string, data: IProject) => {\n  return request({\n    url: `/projects/${id}`,\n    method: 'put',\n    data,\n  })\n}\n\nexport const deleteProject = (id: string) => {\n  return request({\n    url: `/projects/${id}`,\n    method: 'delete',\n  })\n}\n","/*\n * @Author: D.Y\n * @Date: 2021-02-04 18:55:58\n * @LastEditTime: 2021-04-20 19:18:06\n * @LastEditors: D.Y\n * @FilePath: /arthemis-client/src/apis/index.ts\n * @Description:\n */\nexport * from './tasks'\nexport * from './users'\nexport * from './project'\nexport * from './scrum'\n"],"sourceRoot":""}