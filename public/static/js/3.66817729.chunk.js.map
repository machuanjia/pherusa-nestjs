{"version":3,"sources":["../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/objectSpread2.js","../node_modules/xtend/immutable.js","../node_modules/micromark/dist/util/normalize-identifier.js","../node_modules/micromark/dist/util/miniflat.js","../node_modules/micromark/dist/util/chunked-push.js","../node_modules/micromark/dist/character/unicode-punctuation.js","../node_modules/micromark/dist/character/unicode-whitespace.js","../node_modules/micromark/dist/character/ascii-control.js","../node_modules/micromark/dist/tokenize/label-end.js","../node_modules/repeat-string/index.js","../node_modules/antd/lib/date-picker/generatePicker/index.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../src/langs.ts","../../../src/index.tsx","../../../../src/commands/bold.tsx","../../../../src/commands/italic.tsx","../../../../src/commands/header.tsx","../../../../src/commands/strike.tsx","../../../../src/commands/underline.tsx","../../../../src/commands/olist.tsx","../../../../src/commands/ulist.tsx","../../../../src/commands/link.tsx","../../../../src/commands/todo.tsx","../../../../src/commands/image.tsx","../../../../src/commands/fullscreen.tsx","../../../../src/commands/preview.tsx","../../../../src/commands/index.tsx","../../../../../src/components/ToolBar/index.tsx","../node_modules/antd/lib/date-picker/style/index.js","../node_modules/antd/lib/tag/style/index.js","../home/runner/work/react-sortablejs/react-sortablejs/node_modules/@parcel/scope-hoisting/lib/helpers.js","util.ts","react-sortable.tsx","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/extends.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/regenerator/index.js","../node_modules/react-markdown/lib/react-markdown.js","../node_modules/is-buffer/index.js","../node_modules/micromark/dist/constant/has-own-property.js","../node_modules/micromark/dist/util/size-chunks.js","../node_modules/micromark/dist/util/subtokenize.js","../node_modules/micromark/dist/initialize/text.js","../node_modules/micromark/dist/util/combine-extensions.js","../node_modules/micromark/dist/util/classify-character.js","../node_modules/micromark/dist/character/ascii-digit.js","../node_modules/micromark/dist/tokenize/factory-destination.js","../node_modules/micromark/dist/tokenize/factory-label.js","../node_modules/micromark/dist/tokenize/factory-whitespace.js","../node_modules/micromark/dist/tokenize/factory-title.js","../node_modules/micromark/dist/tokenize/thematic-break.js","../node_modules/unist-util-visit-parents/index.js","../node_modules/unist-util-is/convert.js","../node_modules/remark-gfm/index.js","../node_modules/mdast-util-to-markdown/lib/util/container-phrasing.js","../node_modules/antd/lib/date-picker/index.js","../node_modules/antd/lib/tag/index.js","../node_modules/antd/node_modules/@ant-design/icons/CalendarOutlined.js","../node_modules/antd/node_modules/@ant-design/icons/ClockCircleOutlined.js","../node_modules/antd/lib/date-picker/util.js","../node_modules/rc-picker/es/PanelContext.js","../node_modules/rc-picker/es/panels/Header.js","../node_modules/rc-picker/es/panels/DecadePanel/DecadeHeader.js","../node_modules/rc-picker/es/utils/timeUtil.js","../node_modules/rc-picker/es/panels/PanelBody.js","../node_modules/rc-picker/es/panels/DecadePanel/DecadeBody.js","../node_modules/rc-picker/es/utils/uiUtil.js","../node_modules/rc-picker/es/panels/DecadePanel/index.js","../node_modules/rc-picker/es/utils/dateUtil.js","../node_modules/rc-picker/es/panels/TimePanel/TimeHeader.js","../node_modules/rc-picker/es/panels/TimePanel/TimeUnitColumn.js","../node_modules/rc-picker/es/utils/miscUtil.js","../node_modules/rc-picker/es/panels/TimePanel/TimeBody.js","../node_modules/rc-picker/es/panels/TimePanel/index.js","../node_modules/rc-picker/es/RangeContext.js","../node_modules/rc-picker/es/hooks/useCellClassName.js","../node_modules/rc-picker/es/panels/DatePanel/DateBody.js","../node_modules/rc-picker/es/panels/DatePanel/DateHeader.js","../node_modules/rc-picker/es/panels/DatePanel/index.js","../node_modules/rc-picker/es/panels/DatetimePanel/index.js","../node_modules/rc-picker/es/panels/WeekPanel/index.js","../node_modules/rc-picker/es/panels/MonthPanel/MonthHeader.js","../node_modules/rc-picker/es/panels/MonthPanel/MonthBody.js","../node_modules/rc-picker/es/panels/MonthPanel/index.js","../node_modules/rc-picker/es/panels/QuarterPanel/QuarterHeader.js","../node_modules/rc-picker/es/panels/QuarterPanel/QuarterBody.js","../node_modules/rc-picker/es/panels/QuarterPanel/index.js","../node_modules/rc-picker/es/panels/YearPanel/YearHeader.js","../node_modules/rc-picker/es/panels/YearPanel/YearBody.js","../node_modules/rc-picker/es/panels/YearPanel/index.js","../node_modules/rc-picker/es/utils/getExtraFooter.js","../node_modules/rc-picker/es/utils/getRanges.js","../node_modules/rc-picker/es/PickerPanel.js","../node_modules/rc-picker/es/PickerTrigger.js","../node_modules/rc-picker/es/hooks/usePickerInput.js","../node_modules/rc-picker/es/hooks/useTextValueMapping.js","../node_modules/rc-picker/es/hooks/useValueTexts.js","../node_modules/rc-picker/es/hooks/useHoverValue.js","../node_modules/rc-picker/es/Picker.js","../node_modules/rc-picker/es/hooks/useRangeViewDates.js","../node_modules/rc-picker/es/RangePicker.js","../node_modules/rc-picker/es/hooks/useRangeDisabled.js","../node_modules/rc-picker/es/index.js","../node_modules/sortablejs/modular/sortable.esm.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../../../../../src/components/CodeMirror/index.tsx","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/createSuper.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/codemirror/mode/markdown/markdown.js","../node_modules/codemirror/mode/xml/xml.js","../node_modules/codemirror/mode/meta.js","../node_modules/react-markdown/node_modules/unified/index.js","../node_modules/bail/index.js","../node_modules/extend/index.js","../node_modules/react-markdown/node_modules/is-plain-obj/index.js","../node_modules/trough/index.js","../node_modules/trough/wrap.js","../node_modules/vfile/index.js","../node_modules/vfile/lib/index.js","../node_modules/vfile/node_modules/vfile-message/index.js","../node_modules/vfile/node_modules/unist-util-stringify-position/index.js","../node_modules/vfile/lib/core.js","../node_modules/vfile/lib/minpath.browser.js","../node_modules/vfile/lib/minproc.browser.js","../node_modules/remark-parse/index.js","../node_modules/mdast-util-from-markdown/index.js","../node_modules/mdast-util-from-markdown/dist/index.js","../node_modules/mdast-util-to-string/index.js","../node_modules/micromark/dist/util/safe-from-int.js","../node_modules/micromark/dist/parse.js","../node_modules/micromark/dist/initialize/content.js","../node_modules/micromark/dist/initialize/document.js","../node_modules/micromark/dist/initialize/flow.js","../node_modules/micromark/dist/tokenize/content.js","../node_modules/micromark/dist/constant/splice.js","../node_modules/micromark/dist/util/create-tokenizer.js","../node_modules/micromark/dist/util/serialize-chunks.js","../node_modules/micromark/dist/util/slice-chunks.js","../node_modules/micromark/dist/constructs.js","../node_modules/micromark/dist/tokenize/attention.js","../node_modules/micromark/dist/constant/unicode-punctuation-regex.js","../node_modules/micromark/dist/util/move-point.js","../node_modules/micromark/dist/tokenize/autolink.js","../node_modules/micromark/dist/character/ascii-atext.js","../node_modules/micromark/dist/tokenize/block-quote.js","../node_modules/micromark/dist/tokenize/character-escape.js","../node_modules/micromark/dist/character/ascii-punctuation.js","../node_modules/micromark/dist/tokenize/character-reference.js","../node_modules/micromark/node_modules/parse-entities/decode-entity.browser.js","../node_modules/micromark/dist/character/ascii-hex-digit.js","../node_modules/micromark/dist/tokenize/code-fenced.js","../node_modules/micromark/dist/tokenize/code-indented.js","../node_modules/micromark/dist/tokenize/code-text.js","../node_modules/micromark/dist/tokenize/definition.js","../node_modules/micromark/dist/tokenize/hard-break-escape.js","../node_modules/micromark/dist/tokenize/heading-atx.js","../node_modules/micromark/dist/tokenize/html-flow.js","../node_modules/micromark/dist/constant/html-block-names.js","../node_modules/micromark/dist/constant/html-raw-names.js","../node_modules/micromark/dist/tokenize/html-text.js","../node_modules/micromark/dist/tokenize/label-start-image.js","../node_modules/micromark/dist/tokenize/label-start-link.js","../node_modules/micromark/dist/tokenize/line-ending.js","../node_modules/micromark/dist/tokenize/list.js","../node_modules/micromark/dist/tokenize/setext-underline.js","../node_modules/micromark/dist/preprocess.js","../node_modules/micromark/dist/postprocess.js","../node_modules/mdast-util-from-markdown/node_modules/parse-entities/decode-entity.browser.js","../node_modules/mdast-util-from-markdown/node_modules/unist-util-stringify-position/index.js","../node_modules/mdast-add-list-metadata/index.js","../node_modules/mdast-add-list-metadata/node_modules/unist-util-visit-parents/index.js","../node_modules/react-markdown/lib/plugins/naive-html.js","../node_modules/unist-util-visit-parents/color.browser.js","../node_modules/react-markdown/lib/plugins/disallow-node.js","../node_modules/react-markdown/lib/ast-to-react.js","../node_modules/react-markdown/lib/wrap-table-rows.js","../node_modules/react-markdown/lib/get-definitions.js","../node_modules/react-markdown/lib/uri-transformer.js","../node_modules/react-markdown/lib/renderers.js","../node_modules/react-markdown/lib/symbols.js","../node_modules/micromark-extension-gfm/index.js","../node_modules/micromark-extension-gfm/syntax.js","../node_modules/micromark-extension-gfm-autolink-literal/index.js","../node_modules/micromark-extension-gfm-autolink-literal/syntax.js","../node_modules/micromark-extension-gfm-strikethrough/index.js","../node_modules/micromark-extension-gfm-table/index.js","../node_modules/micromark-extension-gfm-table/syntax.js","../node_modules/micromark-extension-gfm-task-list-item/index.js","../node_modules/micromark-extension-gfm-task-list-item/syntax.js","../node_modules/mdast-util-gfm/from-markdown.js","../node_modules/mdast-util-gfm-autolink-literal/from-markdown.js","../node_modules/ccount/index.js","../node_modules/mdast-util-find-and-replace/index.js","../node_modules/mdast-util-find-and-replace/node_modules/escape-string-regexp/index.js","../node_modules/mdast-util-gfm-strikethrough/from-markdown.js","../node_modules/mdast-util-gfm-table/from-markdown.js","../node_modules/mdast-util-gfm-task-list-item/from-markdown.js","../node_modules/mdast-util-gfm/to-markdown.js","../node_modules/mdast-util-gfm-autolink-literal/to-markdown.js","../node_modules/mdast-util-gfm-strikethrough/to-markdown.js","../node_modules/mdast-util-gfm-table/to-markdown.js","../node_modules/mdast-util-to-markdown/lib/handle/inline-code.js","../node_modules/mdast-util-to-markdown/lib/util/pattern-compile.js","../node_modules/markdown-table/index.js","../node_modules/mdast-util-gfm-task-list-item/to-markdown.js","../node_modules/mdast-util-to-markdown/lib/handle/list-item.js","../node_modules/mdast-util-to-markdown/lib/util/check-bullet.js","../node_modules/mdast-util-to-markdown/lib/util/check-list-item-indent.js","../node_modules/mdast-util-to-markdown/lib/util/container-flow.js","../node_modules/mdast-util-to-markdown/lib/util/indent-lines.js","../node_modules/mdast-util-to-markdown/lib/configure.js","../node_modules/@uiw/react-markdown-editor/node_modules/prismjs/prism.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@uiw/react-markdown-editor/node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/rc-picker/lib/generate/moment.js","../node_modules/antd/lib/date-picker/PickerButton.js","../node_modules/antd/lib/date-picker/PickerTag.js","../node_modules/antd/lib/tag/CheckableTag.js","../node_modules/antd/lib/date-picker/generatePicker/generateSinglePicker.js","../node_modules/antd/node_modules/@ant-design/icons/lib/icons/CalendarOutlined.js","../node_modules/@ant-design/icons-svg/lib/asn/CalendarOutlined.js","../node_modules/antd/node_modules/@ant-design/icons/lib/icons/ClockCircleOutlined.js","../node_modules/@ant-design/icons-svg/lib/asn/ClockCircleOutlined.js","../node_modules/antd/lib/date-picker/generatePicker/generateRangePicker.js","../node_modules/antd/node_modules/@ant-design/icons/SwapRightOutlined.js","../node_modules/antd/node_modules/@ant-design/icons/lib/icons/SwapRightOutlined.js","../node_modules/@ant-design/icons-svg/lib/asn/SwapRightOutlined.js","../node_modules/micromark/dist/character/markdown-line-ending.js","../node_modules/micromark/dist/tokenize/factory-space.js","../node_modules/micromark/dist/character/markdown-space.js","../node_modules/micromark/dist/util/chunked-splice.js","../node_modules/micromark/dist/character/markdown-line-ending-or-space.js","../node_modules/micromark/dist/util/regex-check.js","../node_modules/micromark/dist/util/shallow.js","../node_modules/micromark/dist/constant/assign.js","../node_modules/micromark/dist/util/prefix-size.js","../node_modules/micromark/dist/character/ascii-alphanumeric.js","../node_modules/@uiw/react-markdown-editor/node_modules/prismjs/components/prism-markup.js","../node_modules/codemirror/lib/codemirror.js","../node_modules/micromark/dist/constant/from-char-code.js","../node_modules/micromark/dist/tokenize/partial-blank-line.js","../node_modules/micromark/dist/util/resolve-all.js","../node_modules/micromark/dist/character/ascii-alpha.js","../node_modules/react-markdown/node_modules/unist-util-visit/index.js"],"names":["arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","module","exports","arr","i","defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","target","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","hasOwnProperty","call","prototype","value","replace","toLowerCase","toUpperCase","undefined","chunkedSplice","require","list","items","unicodePunctuationRegex","unicodePunctuation","regexCheck","unicodeWhitespace","code","markdownLineEndingOrSpace","chunkedPush","normalizeIdentifier","resolveAll","shallow","factoryDestination","factoryLabel","factoryTitle","factoryWhitespace","labelEnd","name","tokenize","effects","ok","nok","labelStart","defined","self","this","index","events","type","_balanced","_inactive","balanced","parser","indexOf","sliceSerialize","start","end","now","enter","consume","exit","afterLabelEnd","attempt","resourceConstruct","fullReferenceConstruct","collapsedReferenceConstruct","resolveTo","context","group","label","text","token","open","close","media","offset","slice","constructs","insideSpan","null","_used","splice","destinationAfter","between","afterLabel","cache","res","str","num","TypeError","max","substr","_interopRequireDefault","getTimeProps","props","format","picker","showHour","showMinute","showSecond","use12Hours","firstFormat","Array","isArray","toArray","showTimeObj","_extends2","includes","showTime","Components","_PickerButton","_PickerTag","_generateSinglePicker2","_generateRangePicker","button","rangeItem","_default","generateConfig","_generateSinglePicker","DatePicker","WeekPicker","MonthPicker","YearPicker","TimePicker","QuarterPicker","RangePicker","MergedDatePicker","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","n","toString","constructor","from","test","_createForOfIteratorHelper","allowArrayLike","it","Symbol","iterator","F","s","done","e","_e","f","err","normalCompletion","didErr","step","next","_e2","_toConsumableArray","iter","_defineProperty","obj","configurable","writable","_objectSpread2","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","Promise","then","_asyncToGenerator","fn","args","_objectWithoutProperties","excluded","sourceKeys","sourceSymbolKeys","propertyIsEnumerable","langData","meta","markup","a","css","p","clike","javascript","r","abap","abnf","actionscript","ada","apacheconf","apl","applescript","arduino","arff","asciidoc","asm6502","aspnet","autohotkey","autoit","bash","basic","batch","bison","bnf","brainfuck","bro","c","csharp","cpp","cil","coffeescript","cmake","clojure","crystal","csp","d","dart","diff","django","docker","ebnf","eiffel","ejs","elixir","elm","erb","erlang","fsharp","flow","fortran","gcode","gedcom","gherkin","git","glsl","gml","go","graphql","groovy","haml","handlebars","haskell","haxe","hcl","http","hpkp","hsts","ichigojam","icon","inform7","ini","io","j","java","javadoc","javadoclike","javastacktrace","jolie","jq","jsdoc","json","jsonp","json5","julia","keyman","kotlin","latex","less","lilypond","liquid","lisp","livescript","lolcode","lua","makefile","markdown","matlab","mel","mizar","monkey","n1ql","n4js","nasm","nginx","nim","nix","nsis","objectivec","ocaml","opencl","oz","parigp","pascal","pascaligo","pcaxis","perl","php","phpdoc","plsql","powershell","processing","prolog","properties","protobuf","pug","puppet","pure","python","q","qore","jsx","tsx","renpy","reason","regex","rest","rip","roboconf","ruby","rust","sas","sass","scss","scala","scheme","smalltalk","smarty","soy","sql","stylus","swift","tap","tcl","textile","toml","tt2","twig","typescript","vala","vbnet","velocity","verilog","vhdl","vim","wasm","wiki","xeora","xojo","xquery","yaml","langs","alias","Set","ext","className","style","onScroll","onMouseOver","other","mdp","React","loadedLang","codes","val","tag","lang","loadLang","Prism","useEffect","highlight","useImperativeHandle","cls","reactMarkdownProps","allowDangerousHtml","allowNode","node","plugins","bold","keyCommand","width","height","viewBox","fill","execute","selection","editor","position","italic","header","strike","underline","olist","ulist","link","todo","image","Fullscreen","container","preview","useState","full","setFull","initEditorHeight","useRef","containerRef","editorRef","window","clientHeight","document","onClick","fullscreen","command","editorProps","Preview","containerEditor","visible","setVisible","defaultCommands","prefixCls","toolbars","mode","htmlProps","buttonProps","btn","MarkdownEditor","onChange","toolbarsMode","visibleEditor","previewProps","codemirrorProps","setValue","codeMirror","createRef","previewContainer","setEditor","ref","current","toolBarProps","codeEditor","useMemo","data","data-visible","instance","$parcel$interopDefault","__esModule","default","removeNode","parentElement","removeChild","removeNodes","customs","curr","element","insertNodes","parent","newChild","refChild","oldIndex","children","insertBefore","createCustoms","evt","getMode","custom","item","newIndex","$bf037e368b3040002dda64d69d3f$var$_objectSpread","swapItem","oldIndicies","map","multiDragElement","newIndicies","inputs","sort","b","handleStateRemove","normalized","newList","$bf037e368b3040002dda64d69d3f$var$_toConsumableArray","concat","reverse","handleStateAdd","clone","newItem","store","dragging","ReactSortable","Component","_this","chosen","selected","setList","sortable","invariant","newOptions","makeOptions","Sortable","create","classicProps","id","createElement","$ff006f4a88ed11a8119708ec3f19c5db$var$_objectSpread","getChildren","dataIdAttr","selectedClass","chosenClass","dragClass","fallbackClass","ghostClass","swapClass","dataid","Children","child","prevClassName","filtered","$ff006f4a88ed11a8119708ec3f19c5db$var$_defineProperty","classNames","cloneElement","onAdd","onChoose","onClone","onEnd","onFilter","onRemove","onSort","onStart","onUnchoose","onUpdate","onMove","onSpill","onSelect","onDeselect","$bf037e368b3040002dda64d69d3f$var$_objectWithoutProperties","_this2","prepareOnHandlerPropAndDOM","prepareOnHandlerProp","originalEvt","defaultValue","willInsertAfter","result","evtName","_this3","callOnHandlerProp","_this4","propEvent","$bf037e368b3040002dda64d69d3f$export$createCustoms","$ff006f4a88ed11a8119708ec3f19c5db$var$_toConsumableArray","$bf037e368b3040002dda64d69d3f$export$removeNodes","$bf037e368b3040002dda64d69d3f$export$handleStateAdd","$bf037e368b3040002dda64d69d3f$export$getMode","$bf037e368b3040002dda64d69d3f$export$insertNodes","pullMode","$bf037e368b3040002dda64d69d3f$export$handleStateRemove","customClones","clones","_this5","removeOnSpill","revertOnSpill","$bf037e368b3040002dda64d69d3f$export$removeNode","console","log","el","find","k","_extends","assign","arrayLikeToArray","objectWithoutPropertiesLoose","_typeof","assertThisInitialized","xtend","unified","parse","PropTypes","addListMetadata","naiveHtml","disallowNode","astToReact","wrapTableRows","getDefinitions","uriTransformer","defaultRenderers","allTypes","ReactMarkdown","src","allowedTypes","disallowedTypes","Error","renderers","processor","use","tree","runSync","renderProps","definitions","transforms","removalMethod","unwrapDisallowed","ofType","ifNotMatch","renderHtml","escapeHtml","skipHtml","hasHtmlParser","astPlugins","some","transform","identity","HtmlParser","determineAstToReactTransforms","defaultProps","transformLinkUri","propTypes","string","sourcePos","bool","rawSourcePos","func","arrayOf","oneOf","oneOfType","linkTarget","transformImageUri","array","types","isBuffer","own","chunks","size","subcontent","eventIndex","stream","previous","entered","adjust","startPosition","startPositions","tokenizer","_tokenizer","contentType","childEvents","jumps","gaps","sliceStream","defineSkip","isInFirstContentOfListItem","_gfmTasklistFirstContentOfListItem","write","line","add","pop","unshift","event","lineIndex","otherIndex","otherEvent","parameters","subevents","more","_container","_movePreviousLineEndings","initializeFactory","resolver","createResolver","field","notText","atBreak","resolveAllLineSuffixes","extraResolver","chunk","bufferIndex","tabs","charCodeAt","column","_index","_bufferIndex","miniflat","extension","all","hook","left","right","existing","before","extensions","asciiDigit","asciiControl","markdownLineEnding","literalType","literalMarkerType","rawType","stringType","limit","Infinity","balance","destinationEnclosedBefore","destinationRaw","destinationEnclosed","destinationEnclosedEscape","destinationRawEscape","markdownSpace","markerType","labelEscape","factorySpace","seen","marker","atFirstTitleBreak","atTitleBreak","title","titleEscape","thematicBreak","sequence","visitParents","convert","color","CONTINUE","SKIP","EXIT","visitor","is","factory","parents","tagName","visit","displayName","subresult","grandparents","toResult","Boolean","typeFactory","tests","checks","any","anyFactory","allFactory","warningIssued","syntax","fromMarkdown","toMarkdown","options","Parser","blockTokenizers","Compiler","visitors","warn","safeOptions","after","handle","results","handlers","peek","charAt","join","_moment","_interopRequireWildcard","_defineProperty2","_slicedToArray2","_classnames","_omit","_CloseOutlined","_CheckableTag","_configProvider","_colors","_wave","__rest","t","PresetColorRegex","RegExp","PresetColorTypes","PresetStatusColorRegex","PresetStatusColorTypes","InternalTag","_a","_classNames","customizePrefixCls","onClose","closeIcon","_a$closable","closable","_React$useContext","useContext","ConfigContext","getPrefixCls","direction","_React$useState","_React$useState2","isPresetColor","tagStyle","backgroundColor","presetColor","tagClassName","handleCloseClick","stopPropagation","defaultPrevented","isNeedWave","tagProps","iconNode","kids","Fragment","tagNode","Tag","forwardRef","CheckableTag","getPlaceholder","locale","customizePlaceholder","yearPlaceholder","quarterPlaceholder","monthPlaceholder","weekPlaceholder","timePickerLocale","placeholder","getRangePlaceholder","rangeYearPlaceholder","rangeMonthPlaceholder","rangeWeekPlaceholder","rangePlaceholder","PanelContext","HIDDEN_STYLE","visibility","Header","_ref","_ref$prevIcon","prevIcon","_ref$nextIcon","nextIcon","_ref$superPrevIcon","superPrevIcon","_ref$superNextIcon","superNextIcon","onSuperPrev","onSuperNext","onPrev","onNext","hideNextBtn","hidePrevBtn","tabIndex","DecadeHeader","viewDate","onPrevDecades","onNextDecades","hideHeader","headerPrefixCls","yearNumber","getYear","startYear","Math","floor","DECADE_DISTANCE_COUNT","endYear","setTime","date","hour","minute","second","nextTime","setHour","setMinute","setSecond","getLastDay","year","month","getMonth","endDate","getEndDate","getFixedDate","lastDay","getDate","monthShow","PanelBody","disabledDate","rowNum","colNum","prefixColumn","rowClassName","baseDate","getCellClassName","getCellText","getCellNode","getCellDate","titleCell","headerCells","onDateMouseEnter","onDateMouseLeave","cellPrefixCls","rows","row","rowStartDate","_loop","currentDate","disabled","getCellDateDisabled","cellDate","_objectSpread","Number","onMouseEnter","onMouseLeave","DecadeBody","DECADE_UNIT_DIFF_DES","DECADE_UNIT_DIFF","decadeYearNumber","startDecadeYear","endDecadeYear","baseDecadeYear","setYear","ceil","DECADE_COL_COUNT","startDecadeNumber","endDecadeNumber","addYear","scrollIds","Map","scrollTo","to","duration","get","cancelAnimationFrame","set","requestAnimationFrame","scrollTop","perTick","createKeyDownHandler","onLeftRight","onCtrlLeftRight","onUpDown","onPageUpDown","onEnter","which","ctrlKey","metaKey","KeyCode","LEFT","RIGHT","UP","DOWN","PAGE_UP","PAGE_DOWN","ENTER","getDefaultFormat","mergedFormat","getInputSize","defaultSize","getNow","globalClickFunc","clickCallbacks","PickerModeMap","quarter","week","time","elementsContains","elements","ele","contains","DecadePanel","onViewDateChange","operationRef","onPanelChange","panelPrefixCls","onKeyDown","onDecadesChange","newDate","isNullEqual","value1","value2","isSameYear","year1","year2","equal","getQuarter","isSameQuarter","quarter1","quarter2","isSameMonth","month1","month2","isSameDate","date1","date2","isSameWeek","getWeek","isEqual","time1","time2","getHour","getMinute","getSecond","isSameTime","isInRange","startDate","isAfter","getClosingViewDate","addMonth","formatValue","parseValue","_ref2","formatList","_ref3","getDisabledFromRange","currentMode","setDate","setMonth","startMonth","TimeHeader","TimeUnitColumn","units","active","hideDisabledOptions","ulRef","liRefs","scrollRef","useLayoutEffect","li","offsetTop","callback","tryOrNextFrame","isVisible","raf","cancel","waitElementReady","_scrollRef$current","unit","_classNames2","leftPad","String","getDataOrAriaProps","retProps","getValue","values","updateValues","newValues","shouldUnitsUpdate","prevUnits","nextUnits","generateUnits","disabledUnits","TimeBody","isPM","activeColumnIndex","_props$hourStep","hourStep","_props$minuteStep","minuteStep","_props$secondStep","secondStep","disabledHours","disabledMinutes","disabledSeconds","columns","contentPrefixCls","columnPrefixCls","originHour","isNewPM","newHour","newMinute","newSecond","mergedHour","mergedMinute","mergedSecond","utilSetTime","rawHours","memorizedRawHours","_React$useMemo","AMPMDisabled","hourValue","_React$useMemo2","_slicedToArray","AMDisabled","PMDisabled","hours","hourMeta","hourLabel","minutes","seconds","addColumnNode","condition","columnValue","onColumnSelect","valueIndex","findIndex","unitLen","nextUnit","PMIndex","TimePanel","_props$format","_props$use12Hours","bodyOperationRef","setActiveColumnIndex","columnsCount","onBlur","RangeContext","useCellClassName","rangedValue","hoverRangedValue","isInView","isSameCell","offsetCell","today","prevDate","nextDate","rangeStart","rangeEnd","hoverStart","hoverEnd","isRangeHovered","isRangeStart","isRangeEnd","isHoverStart","isHoverEnd","isHoverEdgeStart","isHoverEdgeEnd","DateBody","rowCount","dateRender","weekFirstDay","getWeekFirstDay","monthStartDate","startDateWeekDay","getWeekDay","alignStartDate","addDate","getWeekStartDate","weekDaysLocale","shortWeekDays","getShortWeekDays","DateHeader","onNextMonth","onPrevMonth","onNextYear","onPrevYear","onYearClick","onMonthClick","monthsLocale","shortMonths","getShortMonths","yearNode","yearFormat","monthNode","monthFormat","monthYearNodes","monthBeforeYear","DatePanel","_props$panelName","panelName","keyboardConfig","_onSelect","onYearChange","onMonthChange","ACTIVE_PANEL","_len","_key","tuple","DatetimePanel","disabledTime","activePanel","setActivePanel","dateOperationRef","timeOperationRef","timeProps","TAB","nextActivePanel","activeIndex","getNextActive","shiftKey","preventDefault","onInternalSelect","selectedDate","disabledTimes","defaultDate","WeekPanel","rowPrefixCls","MonthHeader","MonthBody","monthCellRender","baseMonth","MonthPanel","QuarterHeader","QuarterBody","baseQuarter","quarterFormat","QuarterPanel","YearHeader","onPrevDecade","onNextDecade","onDecadeClick","YEAR_DECADE_COUNT","YearBody","yearPrefixCls","baseYear","YEAR_COL_COUNT","currentYearNumber","YearPanel","sourceMode","onDecadeChange","getExtraFooter","renderExtraFooter","getRanges","presetNode","okNode","_ref$rangeList","rangeList","_ref$components","components","needConfirmButton","onNow","onOk","okDisabled","showNow","Item","Button","PickerPanel","_props$prefixCls","pickerValue","defaultPickerValue","_props$picker","_props$tabIndex","showToday","onMouseDown","onPickerValueChange","_onOk","isHourStepValid","isMinuteStepValid","isSecondStepValid","panelContext","panelDivRef","panelRef","onContextSelect","hideRanges","defaultOpenValue","inRange","panelPosition","initRef","_useMergedState","useMergedState","postState","_useMergedState2","mergedValue","setInnerValue","_useMergedState3","_useMergedState4","setInnerViewDate","setViewDate","getInternalNextMode","nextMode","getNextMode","_useMergedState5","_useMergedState6","mergedMode","setInnerMode","panelNode","setSourceMode","triggerSelect","forceTriggerSelect","onInternalKeyDown","warning","extraFooter","rangesNode","todayNode","pickerProps","newMode","viewValue","lowerBoundTime","lowerBoundHour","lowerBoundMinute","getLowerBoundTime","adjustedNow","todayCls","Provider","BUILT_IN_PLACEMENTS","bottomLeft","points","overflow","adjustX","adjustY","bottomRight","topLeft","topRight","PickerTrigger","popupElement","popupStyle","dropdownClassName","dropdownAlign","transitionName","getPopupContainer","range","popupPlacement","dropdownPrefixCls","Trigger","showAction","hideAction","builtinPlacements","popupTransitionName","popup","popupAlign","popupVisible","popupClassName","usePickerInput","isClickOutside","triggerOpen","forwardKeyDown","_onKeyDown","blurToCancel","onSubmit","onCancel","_onFocus","onFocus","_onBlur","_useState","_useState2","typing","setTyping","_useState3","_useState4","focused","setFocused","preventBlurRef","valueChangedRef","preventDefaultRef","inputProps","ESC","SHIFT","activeElement","setTimeout","addEventListener","queueFunc","delete","removeEventListener","useTextValueMapping","valueTexts","onTextChange","setInnerText","valueTextsRef","resetText","every","valText","useValueTexts","firstValueText","fullValueTexts","formatStr","prev","shallowEqual","useHoverValue","valueText","internalSetValue","immediately","_useValueTexts","firstText","onLeave","InnerPicker","inputReadOnly","allowClear","autoFocus","defaultOpen","suffixIcon","clearIcon","pickerRef","panelRender","onOpenChange","onMouseUp","onContextMenu","_props$autoComplete","autoComplete","inputRef","inputDivRef","selectedValue","setSelectedValue","postOpen","newOpen","mergedOpen","triggerInnerOpen","_useValueTexts2","_useTextValueMapping","newText","inputDate","_useTextValueMapping2","triggerTextChange","triggerChange","newValue","_usePickerInput","_usePickerInput2","_usePickerInput2$","focus","blur","_useHoverValue","_useHoverValue2","hoverValue","panelProps","suffixNode","clearNode","panel","readOnly","Picker","_React$Component","_inherits","_super","_createSuper","_classCallCheck","_createClass","getStartEndDistance","startNext","getDistance","compareFunc","decade1","decade2","isSameDecade","useRangeViewDates","defaultDates","defaultViewDates","setDefaultViewDates","_React$useState3","_React$useState4","viewDates","setInternalViewDates","getRangeViewDate","newViewDates","anotherIndex","reorderValues","canValueTrigger","allowEmpty","InnerRangePicker","_classNames3","_classNames4","_props$separator","separator","_disabledTime","ranges","onCalendarChange","order","activePickerIndex","openRecordsRef","startInputDivRef","endInputDivRef","separatorRef","startInputRef","endInputRef","mergedActivePickerIndex","setMergedActivePickerIndex","mergedDisabled","_useRangeViewDates","_useRangeViewDates2","getViewDate","postValues","_useMergedState7","_useMergedState8","mergedModes","setInnerModes","triggerModesChange","modes","_useRangeDisabled","disabledStart","disabledEnd","weekFirstDate","getWeekFirstDate","monthNumber","quarterNumber","useRangeDisabled","_useRangeDisabled2","disabledStartDate","disabledEndDate","_useMergedState9","_useMergedState10","startOpen","endOpen","popupMinWidth","setPopupMinWidth","offsetWidth","triggerRef","_triggerOpen","clearTimeout","openRecords","triggerOpenAndFocus","sourceIndex","startValue","endValue","startStr","endStr","canStartValueTrigger","canEndValueTrigger","nextOpenIndex","sharedTextHooksProps","startValueTexts","firstStartValueText","_useValueTexts3","_useValueTexts4","endValueTexts","firstEndValueText","_onTextChange","startText","triggerStartTextChange","resetStartText","_useTextValueMapping3","_useTextValueMapping4","endText","triggerEndTextChange","resetEndText","rangeHoverValue","setRangeHoverValue","_useState5","_useState6","setHoverRangedValue","startHoverValue","onStartEnter","onStartLeave","_useHoverValue3","_useHoverValue4","endHoverValue","onEndEnter","onEndLeave","getSharedInputHookProps","startInputProps","startFocused","startTyping","_usePickerInput3","_usePickerInput4","endInputProps","_usePickerInput4$","endFocused","endTyping","renderPanel","panelHoverRangedValue","panelShowTime","timeDefaultValues","panelDateRender","arrowLeft","panelLeft","arrowPositionStyle","rangePanel","minWidth","panels","extraNode","nextViewDate","showDoublePanel","leftPanel","newViewDate","rightPanel","mergedNodes","marginLeft","renderPanels","inputSharedProps","activeBarLeft","activeBarWidth","activeBarPositionStyle","_objectWithoutPropertiesLoose","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","userAgent","pattern","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","off","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","_","getParentOrHost","host","nodeType","parentNode","closest","ctx","includeCTX","_throttleTimeout","R_SPACE","toggleClass","state","classList","prop","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","getElementsByTagName","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","getBoundingClientRect","elRect","top","bottom","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","scaleY","isScrolledPast","elSide","parentSide","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","currentChild","display","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","nodeName","getRelativeScrollOffset","offsetLeft","winScroller","scrollLeft","includeSelf","elem","gotSelf","clientWidth","scrollWidth","scrollHeight","elemCSS","overflowX","overflowY","body","isRectEqual","rect1","rect2","round","throttle","ms","scrollBy","x","y","Polymer","$","jQuery","Zepto","dom","cloneNode","setRect","rect","unsetRect","expando","Date","getTime","AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","animation","fromRect","thisAnimationDuration","childMatrix","addAnimationState","removeAnimationState","indexOfObject","animateAll","animating","animationTime","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","pow","calculateRealTime","animate","animationResetTimer","currentRect","translateX","translateY","animatingX","animatingY","forRepaintDummy","repaint","easing","animated","defaults","initializeByDefault","PluginManager","mount","plugin","option","pluginName","pluginEvent","eventName","eventCanceled","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","dispatchEvent","rootEl","targetEl","cloneEl","toEl","fromEl","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","CustomEvent","createEvent","initEvent","bubbles","cancelable","lastPutMode","allEventProperties","bind","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","clear","_prepareGroup","toFn","pull","sameGroup","otherGroup","originalGroup","checkPull","checkPut","put","revertClone","stopImmediatePropagation","nearestEmptyInsertDetectEvent","nearest","ret","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_detectNearestEmptySortable","touches","clientX","clientY","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","ignore","preventOnFilter","setData","dataTransfer","textContent","dropBubble","dragoverBubble","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","_onMove","dragRect","targetRect","retVal","onMoveFn","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_generateId","href","sum","_nextTick","_cancelNextTick","_getDirection","touch","pointerType","originalTarget","shadowRoot","path","composedPath","root","idx","checked","_saveInputCheckedState","isContentEditable","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","_onTouchMove","_onDragStart","empty","getSelection","removeAllRanges","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","ghostMatrix","relativeScrollOffset","dx","dy","cssMatrix","appendChild","_hideClone","cloneId","_loopId","setInterval","effectAllowed","_dragStartId","revert","vertical","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","spacer","_ghostIsLast","changed","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_getSwapDirection","dragIndex","nextElementSibling","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","save","handleEvent","dropEffect","_globalDragOver","getAttribute","useAnimation","destroy","querySelectorAll","removeAttribute","utils","extend","dst","nextTick","cancelNextTick","detectDirection","version","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","clearAutoScrolls","autoScroll","pid","clearPointerElemChangedInterval","lastSwapEl","isFallback","scroll","scrollCustomFn","sens","scrollSensitivity","speed","scrollSpeed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","bubbleScroll","drop","toSortable","changedTouches","Revert","Remove","SwapPlugin","Swap","dragStart","dragOverValid","swap","prevSwapEl","n1","n2","i1","i2","p1","p2","isEqualNode","swapNodes","nulling","startIndex","_ref4","parentSortable","lastMultiDragSelect","multiDragSortable","dragEl$1","clonesFromRect","clonesHidden","multiDragElements","multiDragClones","initialFolding","folding","MultiDragPlugin","MultiDrag","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","multiDragKey","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","sortableIndex","insertMultiDragClones","showClone","hideClone","_ref5","dragStartGlobal","_ref6","multiDrag","_ref7","removeMultiDragElements","dragOver","_ref8","_ref9","clonesInserted","insertMultiDragElements","dragOverCompleted","_ref10","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","_ref11","dragMatrix","dragOverAnimationComplete","_ref12","lastIndex","currentIndex","multiDragIndex","update","nullingGlobal","destroyGlobal","shift","select","deselect","elementsInserted","AutoScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverBubble","ogElemScroller","newElem","_arr","_n","_d","_s","_i","SERVER_RENDERED","global","cm","ReactCodeMirror","textarea","defineMode","editorOption","tabSize","lineNumbers","prevProps","nextProps","eventHandle","eventDict","Constructor","_defineProperties","descriptor","protoProps","staticProps","ReferenceError","setPrototypeOf","subClass","superClass","_setPrototypeOf","__proto__","getPrototypeOf","isNativeReflectConstruct","possibleConstructorReturn","Derived","hasNativeReflectConstruct","Super","NewTarget","Reflect","construct","_getPrototypeOf","sham","Proxy","CodeMirror","cmCfg","modeCfg","htmlMode","htmlModeMissing","findModeByName","found","mime","mimes","highlightFormatting","maxBlockquoteDepth","taskLists","strikethrough","emoji","fencedCodeBlockHighlighting","fencedCodeBlockDefaultMode","xml","tokenTypeOverrides","tokenTypes","quote","list1","list2","list3","hr","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","em","strong","tokenType","hrRE","listRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","punctuation","expandedTab","switchInline","inline","switchBlock","block","lineIsEmpty","blankLine","linkTitle","indentedCode","htmlBlock","inner","innerMode","htmlState","tagStart","isInText","inlineNormal","blockNormal","trailingSpace","trailingSpaceNewLine","prevLine","thisLine","firstTokenOnLine","indentation","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","allowsInlineContinuation","fencedCodeEnd","isHr","skipToEnd","eatSpace","getType","eat","setext","listType","taskList","fencedEndRE","localMode","localState","startState","local","lookAhead","footnoteLink","md_inside","returnType","currListInd","hasExitedList","maxFencedEndInd","styles","taskOpen","taskClosed","listMod","handleText","ch","matchCh","previousFormatting","eatWhile","count","formattingEscape","pos","atts","backUp","leftFlanking","rightFlanking","setEm","setStrong","retType","getLinkHrefInside","linkRE","endChar","returnState","footnoteLinkInside","footnoteUrl","copyState","indent","textAfter","Pass","blockCommentStart","blockCommentEnd","closeBrackets","fold","defineMIME","mod","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","setStyle","indentUnit","config","inText","chain","inBlock","doctype","inTag","baseState","inAttribute","stringStartCol","closure","eol","isInAttribute","terminator","depth","Context","startOfLine","indented","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","baseIndent","sol","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","exec","grabbers","electricInput","configuration","helperType","skipAttribute","xmlCurrentTag","xmlCurrentContext","cx","mimeModes","modeInfo","file","findModeByMIME","findModeByExtension","findModeByFileName","filename","dot","lastIndexOf","bail","buffer","plain","trough","vfile","frozen","attachers","transformers","namespace","freezeIndex","assertUnfrozen","freeze","settings","addPlugin","addList","addPreset","entry","doc","assertParser","newable","stringify","assertCompiler","assertNode","compile","run","complete","assertDone","process","processSync","destination","transformer","cb","executor","pipeline","contents","asyncName","hasOwn","toStr","gOPD","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","setProperty","getProperty","copy","copyIsArray","deep","wrap","fns","middleware","input","params","invoked","VMessage","VFile","message","origin","fatal","messages","fail","VMessagePrototype","proto","parts","location","parseOrigin","stack","ruleId","point","proc","history","cwd","assertPart","part","sep","assertNonEmpty","assertPath","encoding","dirname","basename","extname","stem","normalize","absolute","allowAboveRoot","lastSlashIndex","lastSegmentLength","lastSlash","dots","normalizeString","JSON","firstNonSlashEnd","seenNonSlash","extIndex","unmatchedSlash","startDot","startPart","preDotState","joined","mdastExtensions","configure","canContainEols","autolink","opener","autolinkProtocol","onenterdata","autolinkEmail","atxHeading","heading","blockQuote","characterEscape","characterReference","codeFenced","codeFlow","codeFencedFenceInfo","codeFencedFenceMeta","codeIndented","codeText","codeTextData","codeFlowValue","definition","definitionDestinationString","definitionLabelString","definitionTitleString","emphasis","hardBreakEscape","hardBreak","hardBreakTrailing","htmlFlow","html","htmlFlowData","htmlText","htmlTextData","listItem","listItemValue","onenterlistitemvalue","listOrdered","onenterlistordered","listUnordered","paragraph","reference","onenterreference","referenceString","resourceDestinationString","resourceTitleString","setextHeading","closer","atxHeadingSequence","onexitatxheadingsequence","onexitautolinkemail","onexitautolinkprotocol","characterEscapeValue","onexitdata","characterReferenceMarkerHexadecimal","onexitcharacterreferencemarker","characterReferenceMarkerNumeric","characterReferenceValue","onexitcharacterreferencevalue","onexitcodefenced","codeFencedFence","onexitcodefencedfence","onexitcodefencedfenceinfo","onexitcodefencedfencemeta","onexitcodeindented","onexitcodetext","onexitdefinitiondestinationstring","onexitdefinitionlabelstring","onexitdefinitiontitlestring","onexithardbreak","onexithtmlflow","onexithtmltext","onexitimage","onexitlabel","labelText","onexitlabeltext","lineEnding","onexitlineending","onexitlink","onexitreferencestring","onexitresourcedestinationstring","onexitresourcetitlestring","resource","onexitresource","onexitsetextheading","setextHeadingLineSequence","onexitsetextheadinglinesequence","setextHeadingText","onexitsetextheadingtext","handler","tokenStack","resume","getData","prepareList","stringifyPosition","tailIndex","tailEvent","firstBlankLineIndex","atMarker","containerBalance","listSpread","_spread","and","identifier","url","siblings","tail","referenceType","fragment","alt","safeFromInt","decode","ordered","spread","compiler","postprocess","preprocessor","fromCharCode","base","content","combineExtensions","createTokenizer","initializer","contentStart","contentInitial","lineStart","partialBlankLine","inspectResult","childFlow","childToken","continued","inspectConstruct","subcontinued","inspectStart","containerState","continuation","inspectContinue","inspectLess","currentConstruct","concrete","flowContinue","inspectDone","interrupt","interruptible","containerConstruct","inspectFlowEnd","_closeFlow","lazy","lazyFlowConstruct","check","inspectLazy","flowEnd","partial","documentContinue","documentContinued","flowStart","containerContinue","exitContainers","continueFlow","documentAfterPeek","disable","initial","flowInitial","afterConstruct","prefixSize","subtokenize","contentEnd","continuationConstruct","contentContinue","prefixed","serializeChunks","sliceChunks","initialize","columnStart","resolveAllConstructs","accountForPotentialSkip","fields","constructFactory","addResult","onsuccessfulcheck","main","chunkIndex","restore","onreturn","bogusState","listOfConstructs","constructIndex","handleListOfConstructs","handleConstruct","startPoint","startPrevious","startCurrentConstruct","startEventsIndex","startStack","atTab","view","startBufferIndex","endIndex","endBufferIndex","text$1","attention","headingAtx","labelStartImage","labelStartLink","setextUnderline","42","43","45","48","49","50","51","52","53","54","55","56","57","62","91","32","35","60","61","95","96","126","38","92","33","93","classifyCharacter","movePoint","_open","_close","openingSequence","closingSequence","nextEvents","asciiAlpha","asciiAlphanumeric","asciiAtext","schemeOrEmailAtext","emailAtext","schemeInsideOrEmailAtext","urlInside","emailAtSignOrDot","emailLabel","emailValue","asciiPunctuation","decodeEntity","asciiHexDigit","_interopDefaultLegacy","decodeEntity__default","numeric","characters","char","entity","innerHTML","closingFenceConstruct","closingSequenceStart","sizeOpen","closingSequenceEnd","initialPrefix","sequenceOpen","infoOpen","openAfter","infoAfter","indentedContentConstruct","afterPrefix","gap","tailExitIndex","headEnterIndex","labelAfter","titleConstruct","fenceOpenInside","headingBreak","htmlBlockNames","htmlRawNames","kind","startTag","declarationStart","tagCloseStart","continuationDeclarationInside","commentOpenInside","cdataOpenInside","basicSelfClosing","completeAttributeNameBefore","completeClosingTagAfter","completeEnd","completeAttributeName","completeAttributeNameAfter","completeAttributeValueBefore","completeAttributeValueQuoted","completeAttributeValueUnquoted","completeAttributeValueQuotedAfter","completeAfter","continuationCommentInside","continuationRawTagOpen","continuationClose","continuationCharacterDataInside","continuationAtLineEnding","nextBlankConstruct","htmlContinueStart","continuationRawEndTag","declarationOpen","instruction","tagOpen","commentOpen","cdataOpen","declaration","commentStart","commentStartDash","comment","commentClose","atLineEnding","cdata","cdataClose","cdataEnd","instructionClose","tagClose","tagCloseBetween","tagOpenBetween","tagOpenAttributeName","tagOpenAttributeNameAfter","tagOpenAttributeValueBefore","tagOpenAttributeValueQuoted","tagOpenAttributeValueUnquoted","tagOpenAttributeValueQuotedAfter","sizeChunks","initialSize","inside","onBlank","listItemPrefixWhitespaceConstruct","endOfPrefix","otherPrefix","initialBlankLine","furtherBlankLines","notInCurrentItem","indentConstruct","search","atCarriageReturn","endPosition","visitWithParents","ast","listNode","one","selfClosingRe","simpleTagRe","selfClosing","getSelfClosing","opening","getSimpleTag","matching","matchingTag","findAndPull","fromNode","toNode","fromIndex","toIndex","virtual","allow","ReactIs","renderer","isValidElementType","nodeProps","getNodeProps","resolveChildren","childNode","opts","isSimpleRenderer","sourcePosition","includeNodeIndex","parentChildCount","assignDefined","nodeKey","level","loose","listItemLoose","listLoose","reduce","unwrapParagraphs","getListItemChildren","language","columnAlignment","align","isHeader","isBlock","parsedChildren","mergeNodeChildren","attrs","table","protocols","uri","first","colon","protocol","supportsStringRender","SimpleRenderer","getCoreProps","break","blockquote","linkReference","imageReference","tableHead","tableBody","tableRow","tableCell","textAlign","coreProps","checkbox","inlineCode","dangerous","dangerouslySetInnerHTML","__html","virtualHtml","parsedHtml","combine","tasklist","www","w2","w3","domain","hasUnderscoreInLastSegment","hasUnderscoreInLastLastSegment","namedCharacterReference","punctuationContinuation","inPath","continuedPunctuation","parenAtPathEnd","pathEnd","trailingPunctuation","wwwAutolink","previousWww","httpAutolink","previousHttp","t1","t2","slash1","slash2","emailAutolink","hasDot","gfmAtext","previousEmail","atext","dotContinuation","dashOrUnderscoreContinuation","afterDashOrUnderscore","single","singleTilde","removeRemainingSequences","seenDelimiter","hasDash","tableHeaderCount","_align","cellDividerHead","inCellContentHead","cellBreakHead","setextUnderlineMini","createSpace","rowStartDelimiter","atRowEndHead","inWhitespaceHead","inCellContentEscapeHead","atDelimiterRowBreak","rowEndDelimiter","inWhitespaceDelimiter","inFillerDelimiter","afterLeftAlignment","afterRightAlignment","tableClose","nextPrefixedOrBlank","tableContinue","bodyStart","rowStartBody","cellDividerBody","inCellContentBody","cellBreakBody","tableBodyClose","tableBodyContinue","atRowEndBody","inWhitespaceBody","inCellContentEscapeBody","inHead","inDelimiterRow","inRow","cell","cellStart","whitespace","spaceFactory","tasklistCheck","spaceThenNonSpace","autolinkLiteral","taskListItem","ccount","findAndReplace","enterLiteralAutolinkValue","findUrl","$0","prefix","isCorrectDomain","closingParenIndex","openingParens","closingParens","trail","splitUrl","findEmail","email","literalAutolink","literalAutolinkEmail","literalAutolinkHttp","literalAutolinkWww","character","schema","handlerFactory","pairs","pair","subhandler","nodes","toExpression","toFunction","toPairs","escape","ignored","grandparent","enterCell","$1","tableData","tableHeader","exitCheck","taskListCheckValueChecked","taskListCheckValueUnchecked","firstParaghraph","head","unsafe","inConstruct","notInConstruct","phrasing","handleDelete","defaultInlineCode","markdownTable","padding","tableCellPadding","alignDelimiters","tablePipeAlign","stringLength","around","serializeData","subexit","handleTableRowAsData","handleTableAsData","handleTableCell","patternCompile","expression","_compiled","repeat","cells","columnIndex","columnLength","largest","lines","delimiterStart","delimiterEnd","alignments","defaultStringLength","rowIndex","rowLength","cellMatrix","sizeMatrix","sizes","longestCellByColumn","mostCellsPerRow","toAlignment","space","trailingWhitespace","defaultListItem","bullet","checkBullet","listItemIndent","checkListItemIndent","incrementListMarker","indentLines","blank","_self","uniqueId","manual","disableWorkerMessageHandler","util","encode","tokens","Token","objId","deepClone","visited","v","getLanguage","currentScript","scripts","isActive","defaultActivation","no","languages","redef","insert","grammar","newToken","old","DFS","property","propertyType","highlightAll","async","highlightAllUnder","env","hooks","highlightElement","insertHighlightedCode","highlightedCode","Worker","worker","onmessage","postMessage","immediateClose","tokenList","LinkedList","addAfter","matchGrammar","callbacks","matchedStr","startNode","startPos","rematch","patterns","cause","patternObj","lookbehind","greedy","lookbehindLength","flags","currentNode","reach","removeCount","matchStr","removeFrom","removeRange","newNode","classes","attributes","aliases","script","highlightAutomaticallyCallback","hasAttribute","readyState","defer","WorkerGlobalScope","includedCdataInside","def","mathml","svg","ssml","atom","rss","addInlined","js","EXTENSIONS","STATUS_ATTR","STATUS_LOADING","STATUS_LOADED","SELECTOR","pre","setAttribute","setLanguageClass","autoloader","loadLanguages","xhr","XMLHttpRequest","onreadystatechange","status","responseText","statusText","send","fileHighlight","logged","arrayWithoutHoles","iterableToArray","nonIterableSpread","_warning","endOf","weekday","localeData","firstDayOfWeek","isValidate","isValid","weekdaysMin","monthsShort","_format","formats","fallbackFormatList","formatText","matchFormat","matchText","_date","noteOnce","_button","_tag","restProps","getPicker","_inherits2","_createSuper2","_classCallCheck2","getDefaultLocale","_en_US","renderPicker","_this$context","customizeGetPopupContainer","customizeSize","_a$bordered","bordered","_this$props","additionalProps","additionalOverrideProps","mergedPicker","_SizeContext","Consumer","mergedSize","_rcPicker","_util","_ClockCircleOutlined","_CalendarOutlined","_CloseCircleFilled","_devWarning","_createClass2","_LocaleReceiver","componentName","defaultLocale","contextType","_AntdIcon","CalendarOutlined","ClockCircleOutlined","customGetPopupContainer","_SwapRightOutlined","SwapRightOutlined","remove","chunkStart","platform","gecko","ie_upto10","ie_11up","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mobile","mac","chromeOS","windows","presto_version","flipCtrlCmd","captureRightClick","classTest","rmClass","removeChildren","childNodes","firstChild","removeChildrenAndAdd","elt","createTextNode","eltP","activeElt","addClass","joinClasses","as","createRange","endNode","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","copyObj","overwrite","countColumn","nextTab","selectionStart","selectionEnd","Delayed","onTimeout","scrollerGap","sel_dontScroll","sel_mouse","sel_move","findColumn","goal","col","skipped","min","spaceStrs","spaceStr","lst","out","insertSorted","score","priority","nothing","createObj","inst","nonASCIISingleCaseWordChar","isWordCharBasic","isWordChar","helper","isEmpty","extendingChars","isExtendingChar","skipExtendingChars","dir","findFirst","pred","midF","mid","iterateBidiSections","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","lowTypes","arabicTypes","charType","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","outerType","i$1","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","i$5","cur$1","type$4","i$6","end$1","replace$1","j$1","m","i$7","at","isRTL","j$2","nstart","getOrder","noHandlers","emitter","attachEvent","_handlers","getHandlers","detachEvent","signal","signalDOMEvent","override","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","zwspSupported","badBidiRects","dragAndDrop","div","zeroWidthElement","measure","offsetHeight","hasBadBidiRects","txt","r0","r1","splitLinesAuto","l","nl","rt","hasSelection","te","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","dependencies","spec","resolveMode","mfactory","modeObj","modeExtensions","exts","modeProps","prop$1","extendMode","nstate","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","getLine","sz","chunkSize","getBetween","getLines","updateLineHeight","lineNo","lineAtHeight","h","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","maxPos","minPos","clipLine","clipPos","clipToLen","linelen","clipPosArray","skipTo","caseInsensitive","cased","hideFirstChars","oracle","baseToken","SavedContext","maxLookAhead","baseTokens","baseTokenPos","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","loop","overlay","overlays","i_end","opaque","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","styleClasses","highlightFrontier","modeFrontier","precise","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","nextLine","startAt","callBlankLine","readToken","takeToken","asArray","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","startCh","isInsert","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","startsBefore","stretchSpansOverChange","change","oldFirst","oldLast","sameLine","span$1","clearEmptySpans","newMarkers","gapMarkers","clearWhenEmpty","removeReadOnlyRanges","markers","mark","mk","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","found$1","findMaxLine","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","buildLineContent","lineView","builder","splitSpaces","getOption","addToken","buildToken","buildTokenBadBidi","insertLineContent","externalMeasured","maps","caches","querySelector","defaultSpecialCharPlaceholder","startStyle","endStyle","displayText","special","specialChars","mustWrap","createDocumentFragment","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","operationGroup","pushOperation","op","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","getLineContent","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","gutterSpecs","gutterWidth","alignable","isWidget","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","widgetHeight","parentStyle","gutters","wrapper","eventInWidget","sizer","mover","paddingTop","lineSpace","paddingVert","paddingH","cachedPaddingH","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","barHeight","ensureLineHeights","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","measureText","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","pageScrollY","marginTop","pageYOffset","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","partPos","estimateCoords","PosWithInfo","outside","xRel","coordsChar","coordsCharInner","wrappedLineExtent","begin","wrappedLineExtentChar","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","closestDist","endX","dist","textHeight","anchor","clientLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","e$1","colDiff","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","primIndex","showCursorWhenSelecting","drawSelectionCursor","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","blinker","cursorDiv","cursorBlinkRate","hasFocus","ensureFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","reset","receivedFocus","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","scrollNode","scrollIntoView","scrollPosIntoView","margin","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollbars","isScroller","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","checkedZeroWidth","minHeight","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","bar","maybeDisable","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","nextOpId","startOperation","updateInput","changeObjs","selectionChanged","updateMaxLine","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","editorIsHidden","wrapperHeight","oldDisplayWidth","scrollbarsClipped","marginBottom","selectionSnapshot","anchorNode","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","wheelDeltaX","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","returned","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","oldHeight","remaining","leaf","maybeSpill","me","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","addLineWidget","insertAt","aboveVisible","this$1","oldH","nextMarkerId","TextMarker","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","withOp","visual","dHeight","SharedTextMarker","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","lineSeparator","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","newSel","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","readTextFromFile","allowDropFileTypes","reader","onerror","onload","readAsText","onDragStart","setDragImage","img","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","3","8","9","13","16","17","18","19","20","27","34","36","37","39","40","44","46","59","106","107","109","110","111","145","173","186","187","188","189","190","191","192","219","220","221","222","224","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","keyMap","normalizeKeyName","ctrl","cmd","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","targetTop","moveVisually","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","nextCh","pcDefault","emacsy","macDefault","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","getField","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","lastClick","lastDoubleClick","DOUBLECLICK_DELAY","PastClick","clickRepeat","compare","supportsTouch","clickInGutter","selectingText","handleMappedButton","leftButtonDown","configureMouse","addNew","moveOnDrag","contained","behavior","dragDrop","leftButtonStartDrag","leftButtonSelect","dragEnd","mouseMove","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","leftPos","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","lineBox","g","contextMenuInGutter","themeChanged","theme","Init","optionHandlers","defineOptions","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","funcs","dragFunctions","toggle","over","leave","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","radiusX","radiusY","farAway","pageX","pageY","inp","how","aggressive","curSpace","curSpaceString","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","copyableRanges","lineRange","disableBrowserMagic","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","astral","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","closing","extraLinebreak","recognizeMarker","addText","walk","cmText","markerID","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","belongsToInput","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","contentEditable","updateFromDOM","readFromDOMSoon","forceCompositionEnd","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","pollContent","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","TextareaInput","prevInput","pollingFast","fromTextArea","tabindex","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","createField","prepareCopyCut","fastPoll","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","dontDelegate","method","defineExtension","defineDocExtension","called"],"mappings":"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","file":"static/js/3.66817729.chunk.js","sourcesContent":["var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var defineProperty = require(\"./defineProperty\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2;","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","'use strict'\n\nfunction normalizeIdentifier(value) {\n  return (\n    value // Collapse Markdown whitespace.\n      .replace(/[\\t\\n\\r ]+/g, ' ') // Trim.\n      .replace(/^ | $/g, '') // Some characters are considered uppercase, but if their lowercase\n      // counterpart is uppercased will result in a different uppercase\n      // character.\n      // Hence, to get that form, we perform both lower- and uppercase.\n      // Upper case makes sure keys will not interact with default prototypal\n      // methods: no object method is uppercase.\n      .toLowerCase()\n      .toUpperCase()\n  )\n}\n\nmodule.exports = normalizeIdentifier\n","'use strict'\n\nfunction miniflat(value) {\n  return value === null || value === undefined\n    ? []\n    : 'length' in value\n    ? value\n    : [value]\n}\n\nmodule.exports = miniflat\n","'use strict'\n\nvar chunkedSplice = require('./chunked-splice.js')\n\nfunction chunkedPush(list, items) {\n  if (list.length) {\n    chunkedSplice(list, list.length, 0, items)\n    return list\n  }\n\n  return items\n}\n\nmodule.exports = chunkedPush\n","'use strict'\n\nvar unicodePunctuationRegex = require('../constant/unicode-punctuation-regex.js')\nvar regexCheck = require('../util/regex-check.js')\n\n// In fact adds to the bundle size.\n\nvar unicodePunctuation = regexCheck(unicodePunctuationRegex)\n\nmodule.exports = unicodePunctuation\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar unicodeWhitespace = regexCheck(/\\s/)\n\nmodule.exports = unicodeWhitespace\n","'use strict'\n\n// Note: EOF is seen as ASCII control here, because `null < 32 == true`.\nfunction asciiControl(code) {\n  return (\n    // Special whitespace codes (which have negative values), C0 and Control\n    // character DEL\n    code < 32 || code === 127\n  )\n}\n\nmodule.exports = asciiControl\n","'use strict'\n\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar chunkedPush = require('../util/chunked-push.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar normalizeIdentifier = require('../util/normalize-identifier.js')\nvar resolveAll = require('../util/resolve-all.js')\nvar shallow = require('../util/shallow.js')\nvar factoryDestination = require('./factory-destination.js')\nvar factoryLabel = require('./factory-label.js')\nvar factoryTitle = require('./factory-title.js')\nvar factoryWhitespace = require('./factory-whitespace.js')\n\nvar labelEnd = {\n  name: 'labelEnd',\n  tokenize: tokenizeLabelEnd,\n  resolveTo: resolveToLabelEnd,\n  resolveAll: resolveAllLabelEnd\n}\nvar resourceConstruct = {\n  tokenize: tokenizeResource\n}\nvar fullReferenceConstruct = {\n  tokenize: tokenizeFullReference\n}\nvar collapsedReferenceConstruct = {\n  tokenize: tokenizeCollapsedReference\n}\n\nfunction resolveAllLabelEnd(events) {\n  var index = -1\n  var token\n\n  while (++index < events.length) {\n    token = events[index][1]\n\n    if (\n      !token._used &&\n      (token.type === 'labelImage' ||\n        token.type === 'labelLink' ||\n        token.type === 'labelEnd')\n    ) {\n      // Remove the marker.\n      events.splice(index + 1, token.type === 'labelImage' ? 4 : 2)\n      token.type = 'data'\n      index++\n    }\n  }\n\n  return events\n}\n\nfunction resolveToLabelEnd(events, context) {\n  var index = events.length\n  var offset = 0\n  var group\n  var label\n  var text\n  var token\n  var open\n  var close\n  var media // Find an opening.\n\n  while (index--) {\n    token = events[index][1]\n\n    if (open) {\n      // If we see another link, or inactive link label, weve been here before.\n      if (\n        token.type === 'link' ||\n        (token.type === 'labelLink' && token._inactive)\n      ) {\n        break\n      } // Mark other link openings as inactive, as we cant have links in\n      // links.\n\n      if (events[index][0] === 'enter' && token.type === 'labelLink') {\n        token._inactive = true\n      }\n    } else if (close) {\n      if (\n        events[index][0] === 'enter' &&\n        (token.type === 'labelImage' || token.type === 'labelLink') &&\n        !token._balanced\n      ) {\n        open = index\n\n        if (token.type !== 'labelLink') {\n          offset = 2\n          break\n        }\n      }\n    } else if (token.type === 'labelEnd') {\n      close = index\n    }\n  }\n\n  group = {\n    type: events[open][1].type === 'labelLink' ? 'link' : 'image',\n    start: shallow(events[open][1].start),\n    end: shallow(events[events.length - 1][1].end)\n  }\n  label = {\n    type: 'label',\n    start: shallow(events[open][1].start),\n    end: shallow(events[close][1].end)\n  }\n  text = {\n    type: 'labelText',\n    start: shallow(events[open + offset + 2][1].end),\n    end: shallow(events[close - 2][1].start)\n  }\n  media = [\n    ['enter', group, context],\n    ['enter', label, context]\n  ] // Opening marker.\n\n  media = chunkedPush(media, events.slice(open + 1, open + offset + 3)) // Text open.\n\n  media = chunkedPush(media, [['enter', text, context]]) // Between.\n\n  media = chunkedPush(\n    media,\n    resolveAll(\n      context.parser.constructs.insideSpan.null,\n      events.slice(open + offset + 4, close - 3),\n      context\n    )\n  ) // Text close, marker close, label close.\n\n  media = chunkedPush(media, [\n    ['exit', text, context],\n    events[close - 2],\n    events[close - 1],\n    ['exit', label, context]\n  ]) // Reference, resource, or so.\n\n  media = chunkedPush(media, events.slice(close + 1)) // Media close.\n\n  media = chunkedPush(media, [['exit', group, context]])\n  chunkedSplice(events, open, events.length, media)\n  return events\n}\n\nfunction tokenizeLabelEnd(effects, ok, nok) {\n  var self = this\n  var index = self.events.length\n  var labelStart\n  var defined // Find an opening.\n\n  while (index--) {\n    if (\n      (self.events[index][1].type === 'labelImage' ||\n        self.events[index][1].type === 'labelLink') &&\n      !self.events[index][1]._balanced\n    ) {\n      labelStart = self.events[index][1]\n      break\n    }\n  }\n\n  return start\n\n  function start(code) {\n    if (!labelStart) {\n      return nok(code)\n    } // Its a balanced bracket, but contains a link.\n\n    if (labelStart._inactive) return balanced(code)\n    defined =\n      self.parser.defined.indexOf(\n        normalizeIdentifier(\n          self.sliceSerialize({\n            start: labelStart.end,\n            end: self.now()\n          })\n        )\n      ) > -1\n    effects.enter('labelEnd')\n    effects.enter('labelMarker')\n    effects.consume(code)\n    effects.exit('labelMarker')\n    effects.exit('labelEnd')\n    return afterLabelEnd\n  }\n\n  function afterLabelEnd(code) {\n    // Resource: `[asd](fgh)`.\n    if (code === 40) {\n      return effects.attempt(\n        resourceConstruct,\n        ok,\n        defined ? ok : balanced\n      )(code)\n    } // Collapsed (`[asd][]`) or full (`[asd][fgh]`) reference?\n\n    if (code === 91) {\n      return effects.attempt(\n        fullReferenceConstruct,\n        ok,\n        defined\n          ? effects.attempt(collapsedReferenceConstruct, ok, balanced)\n          : balanced\n      )(code)\n    } // Shortcut reference: `[asd]`?\n\n    return defined ? ok(code) : balanced(code)\n  }\n\n  function balanced(code) {\n    labelStart._balanced = true\n    return nok(code)\n  }\n}\n\nfunction tokenizeResource(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('resource')\n    effects.enter('resourceMarker')\n    effects.consume(code)\n    effects.exit('resourceMarker')\n    return factoryWhitespace(effects, open)\n  }\n\n  function open(code) {\n    if (code === 41) {\n      return end(code)\n    }\n\n    return factoryDestination(\n      effects,\n      destinationAfter,\n      nok,\n      'resourceDestination',\n      'resourceDestinationLiteral',\n      'resourceDestinationLiteralMarker',\n      'resourceDestinationRaw',\n      'resourceDestinationString',\n      3\n    )(code)\n  }\n\n  function destinationAfter(code) {\n    return markdownLineEndingOrSpace(code)\n      ? factoryWhitespace(effects, between)(code)\n      : end(code)\n  }\n\n  function between(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      return factoryTitle(\n        effects,\n        factoryWhitespace(effects, end),\n        nok,\n        'resourceTitle',\n        'resourceTitleMarker',\n        'resourceTitleString'\n      )(code)\n    }\n\n    return end(code)\n  }\n\n  function end(code) {\n    if (code === 41) {\n      effects.enter('resourceMarker')\n      effects.consume(code)\n      effects.exit('resourceMarker')\n      effects.exit('resource')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeFullReference(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    return factoryLabel.call(\n      self,\n      effects,\n      afterLabel,\n      nok,\n      'reference',\n      'referenceMarker',\n      'referenceString'\n    )(code)\n  }\n\n  function afterLabel(code) {\n    return self.parser.defined.indexOf(\n      normalizeIdentifier(\n        self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1)\n      )\n    ) < 0\n      ? nok(code)\n      : ok(code)\n  }\n}\n\nfunction tokenizeCollapsedReference(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('reference')\n    effects.enter('referenceMarker')\n    effects.consume(code)\n    effects.exit('referenceMarker')\n    return open\n  }\n\n  function open(code) {\n    if (code === 93) {\n      effects.enter('referenceMarker')\n      effects.consume(code)\n      effects.exit('referenceMarker')\n      effects.exit('reference')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = labelEnd\n","/*!\n * repeat-string <https://github.com/jonschlinkert/repeat-string>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\n/**\n * Results cache\n */\n\nvar res = '';\nvar cache;\n\n/**\n * Expose `repeat`\n */\n\nmodule.exports = repeat;\n\n/**\n * Repeat the given `string` the specified `number`\n * of times.\n *\n * **Example:**\n *\n * ```js\n * var repeat = require('repeat-string');\n * repeat('A', 5);\n * //=> AAAAA\n * ```\n *\n * @param {String} `string` The string to repeat\n * @param {Number} `number` The number of times to repeat the string\n * @return {String} Repeated string\n * @api public\n */\n\nfunction repeat(str, num) {\n  if (typeof str !== 'string') {\n    throw new TypeError('expected a string');\n  }\n\n  // cover common, quick use cases\n  if (num === 1) return str;\n  if (num === 2) return str + str;\n\n  var max = str.length * num;\n  if (cache !== str || typeof cache === 'undefined') {\n    cache = str;\n    res = '';\n  } else if (res.length >= max) {\n    return res.substr(0, max);\n  }\n\n  while (max > res.length && num > 1) {\n    if (num & 1) {\n      res += str;\n    }\n\n    num >>= 1;\n    str += str;\n  }\n\n  res += str;\n  res = res.substr(0, max);\n  return res;\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTimeProps = getTimeProps;\nexports[\"default\"] = exports.Components = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _PickerButton = _interopRequireDefault(require(\"../PickerButton\"));\n\nvar _PickerTag = _interopRequireDefault(require(\"../PickerTag\"));\n\nvar _generateSinglePicker2 = _interopRequireDefault(require(\"./generateSinglePicker\"));\n\nvar _generateRangePicker = _interopRequireDefault(require(\"./generateRangePicker\"));\n\nvar Components = {\n  button: _PickerButton[\"default\"],\n  rangeItem: _PickerTag[\"default\"]\n};\nexports.Components = Components;\n\nfunction toArray(list) {\n  if (!list) {\n    return [];\n  }\n\n  return Array.isArray(list) ? list : [list];\n}\n\nfunction getTimeProps(props) {\n  var format = props.format,\n      picker = props.picker,\n      showHour = props.showHour,\n      showMinute = props.showMinute,\n      showSecond = props.showSecond,\n      use12Hours = props.use12Hours;\n  var firstFormat = toArray(format)[0];\n  var showTimeObj = (0, _extends2[\"default\"])({}, props);\n\n  if (firstFormat && typeof firstFormat === 'string') {\n    if (!firstFormat.includes('s') && showSecond === undefined) {\n      showTimeObj.showSecond = false;\n    }\n\n    if (!firstFormat.includes('m') && showMinute === undefined) {\n      showTimeObj.showMinute = false;\n    }\n\n    if (!firstFormat.includes('H') && !firstFormat.includes('h') && showHour === undefined) {\n      showTimeObj.showHour = false;\n    }\n\n    if ((firstFormat.includes('a') || firstFormat.includes('A')) && use12Hours === undefined) {\n      showTimeObj.use12Hours = true;\n    }\n  }\n\n  if (picker === 'time') {\n    return showTimeObj;\n  }\n\n  if (typeof firstFormat === 'function') {\n    // format of showTime should use default when format is custom format function\n    delete showTimeObj.format;\n  }\n\n  return {\n    showTime: showTimeObj\n  };\n}\n\nfunction generatePicker(generateConfig) {\n  // =========================== Picker ===========================\n  var _generateSinglePicker = (0, _generateSinglePicker2[\"default\"])(generateConfig),\n      DatePicker = _generateSinglePicker.DatePicker,\n      WeekPicker = _generateSinglePicker.WeekPicker,\n      MonthPicker = _generateSinglePicker.MonthPicker,\n      YearPicker = _generateSinglePicker.YearPicker,\n      TimePicker = _generateSinglePicker.TimePicker,\n      QuarterPicker = _generateSinglePicker.QuarterPicker; // ======================== Range Picker ========================\n\n\n  var RangePicker = (0, _generateRangePicker[\"default\"])(generateConfig);\n  var MergedDatePicker = DatePicker;\n  MergedDatePicker.WeekPicker = WeekPicker;\n  MergedDatePicker.MonthPicker = MonthPicker;\n  MergedDatePicker.YearPicker = YearPicker;\n  MergedDatePicker.RangePicker = RangePicker;\n  MergedDatePicker.TimePicker = TimePicker;\n  MergedDatePicker.QuarterPicker = QuarterPicker;\n  return MergedDatePicker;\n}\n\nvar _default = generatePicker;\nexports[\"default\"] = _default;","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","\nexport interface ILangData {\n  [key: string]: {\n    /**\n     * alias\n     */\n    a?: string | string[];\n    /**\n     * require\n     */\n    r?: string | string[];\n    /**\n     * peerDependencies\n     */\n    p?: string | string[];\n    /**\n     * file does not exist\n     */\n    e?: boolean;\n  }\n}\n\nconst langData: ILangData = {\n  meta: {},\n  markup: { a: ['html', 'xml', 'svg', 'mathml'] },\n  css: { p: 'markup' },\n  clike: {},\n  javascript: { p: 'markup', r: 'clike', a: 'js' },\n  abap: {},\n  abnf: {},\n  actionscript: { p: 'markup', r: 'javascript' },\n  ada: {},\n  apacheconf: {},\n  apl: {},\n  applescript: {},\n  arduino: { r: 'cpp' },\n  arff: {},\n  asciidoc: { a: 'adoc' },\n  asm6502: {},\n  aspnet: { r: ['markup', 'csharp'] },\n  autohotkey: {},\n  autoit: {},\n  bash: { a: 'shell' },\n  basic: {},\n  batch: {},\n  bison: { r: 'c' },\n  bnf: { a: 'rbnf' },\n  brainfuck: {},\n  bro: {},\n  c: { r: 'clike' },\n  csharp: { r: 'clike', a: ['cs', 'dotnet'] },\n  cpp: { r: 'c' },\n  cil: {},\n  coffeescript: { r: 'javascript', a: 'coffee' },\n  cmake: {},\n  clojure: {},\n  crystal: { r: 'ruby' },\n  csp: {},\n  'css-extras': { r: 'css' },\n  d: { r: 'clike' },\n  dart: { r: 'clike' },\n  diff: {},\n  django: { r: 'markup-templating', a: 'jinja2' },\n  'dns-zone-file': { a: 'dns-zone' },\n  docker: { a: 'dockerfile' },\n  ebnf: {},\n  eiffel: {},\n  ejs: { r: ['javascript', 'markup-templating'] },\n  elixir: {},\n  elm: {},\n  erb: { r: ['ruby', 'markup-templating'] },\n  erlang: {},\n  fsharp: { r: 'clike' },\n  flow: { r: 'javascript' },\n  fortran: {},\n  gcode: {},\n  gedcom: {},\n  gherkin: {},\n  git: {},\n  glsl: { r: 'clike' },\n  gml: { r: 'clike', a: 'gamemakerlanguage' },\n  go: { r: 'clike' },\n  graphql: {},\n  groovy: { r: 'clike' },\n  haml:\n  {\n    p: ['css', 'coffeescript', 'erb', 'javascript', 'less', 'markdown', 'ruby', 'scss', 'textile'],\n    r: 'ruby'\n  },\n  handlebars: { r: 'markup-templating' },\n  haskell: { a: 'hs' },\n  haxe: { r: 'clike' },\n  hcl: {},\n  http: { p: ['javascript', 'markup'] },\n  hpkp: {},\n  hsts: {},\n  ichigojam: {},\n  icon: {},\n  inform7: {},\n  ini: {},\n  io: {},\n  j: {},\n  java: { r: 'clike' },\n  javadoc: { p: ['scala'], r: ['markup', 'java', 'javadoclike'] },\n  javadoclike: { p: ['java', 'javascript', 'php'] },\n  javastacktrace: {},\n  jolie: { r: 'clike' },\n  jq: {},\n  jsdoc:\n  {\n    p: ['actionscript', 'coffeescript'],\n    r: ['javascript', 'javadoclike']\n  },\n  'js-extras':\n  {\n    p: ['actionscript', 'coffeescript', 'flow', 'n4js', 'typescript'],\n    r: 'javascript'\n  },\n  'js-templates':\n  {\n    p: ['css', 'css-extras', 'graphql', 'markdown', 'markup'],\n    r: 'javascript'\n  },\n  json: {},\n  jsonp: { r: 'json' },\n  json5: { r: 'json' },\n  julia: {},\n  keyman: {},\n  kotlin: { r: 'clike' },\n  latex: { a: ['tex', 'context'] },\n  less: { r: 'css' },\n  lilypond: { r: 'scheme', a: 'ly' },\n  liquid: {},\n  lisp: { a: ['emacs', 'elisp', 'emacs-lisp'] },\n  livescript: {},\n  lolcode: {},\n  lua: {},\n  makefile: {},\n  markdown: { r: 'markup', a: 'md' },\n  'markup-templating': { r: 'markup' },\n  matlab: {},\n  mel: {},\n  mizar: {},\n  monkey: {},\n  n1ql: {},\n  n4js: { p: ['jsdoc'], r: 'javascript', a: 'n4jsd' },\n  'nand2tetris-hdl': {},\n  nasm: {},\n  nginx: { r: 'clike' },\n  nim: {},\n  nix: {},\n  nsis: {},\n  objectivec: { r: 'c' },\n  ocaml: {},\n  opencl: { p: ['c', 'cpp'], r: 'cpp' },\n  oz: {},\n  parigp: {},\n  parser: { r: 'markup' },\n  pascal: { a: 'objectpascal' },\n  pascaligo: {},\n  pcaxis: { a: 'px' },\n  perl: {},\n  php: { r: ['clike', 'markup-templating'] },\n  phpdoc: { r: ['php', 'javadoclike'] },\n  'php-extras': { r: 'php' },\n  plsql: { r: 'sql' },\n  powershell: {},\n  processing: { r: 'clike' },\n  prolog: {},\n  properties: {},\n  protobuf: { r: 'clike' },\n  pug:\n  {\n    p: ['coffeescript', 'ejs', 'handlebars', 'less', 'livescript', 'markdown', 'scss', 'stylus', 'twig'],\n    r: ['markup', 'javascript']\n  },\n  puppet: {},\n  pure: { p: ['c', 'cpp', 'fortran'] },\n  python: { a: 'py' },\n  q: {},\n  qore: { r: 'clike' },\n  r: {},\n  jsx:\n  {\n    p: ['jsdoc', 'js-extras', 'js-templates'],\n    r: ['markup', 'javascript']\n  },\n  tsx: { r: ['jsx', 'typescript'] },\n  renpy: {},\n  reason: { r: 'clike' },\n  regex: { p: ['actionscript', 'coffeescript', 'flow', 'javascript', 'typescript', 'vala'] },\n  rest: {},\n  rip: {},\n  roboconf: {},\n  ruby: { r: 'clike', a: 'rb' },\n  rust: {},\n  sas: {},\n  sass: { r: 'css' },\n  scss: { r: 'css' },\n  scala: { r: 'java' },\n  scheme: {},\n  'shell-session': { r: 'bash' },\n  smalltalk: {},\n  smarty: { r: 'markup-templating' },\n  soy: { r: 'markup-templating' },\n  'splunk-spl': {},\n  sql: {},\n  stylus: {},\n  swift: { r: 'clike' },\n  tap: { r: 'yaml' },\n  tcl: {},\n  textile: { p: 'css', r: 'markup' },\n  toml: {},\n  tt2: { r: ['clike', 'markup-templating'] },\n  twig: { r: 'markup' },\n  typescript: { p: 'js-templates', r: 'javascript', a: 'ts' },\n  't4-cs': { r: ['t4-templating', 'csharp'], a: 't4' },\n  't4-vb': { r: ['t4-templating', 'visual-basic'] },\n  't4-templating': {},\n  vala: { r: 'clike' },\n  vbnet: { r: 'basic' },\n  velocity: { r: 'markup' },\n  verilog: {},\n  vhdl: {},\n  vim: {},\n  'visual-basic': { a: 'vb' },\n  wasm: {},\n  wiki: { r: 'markup' },\n  xeora: { r: 'markup', a: 'xeoracube' },\n  xojo: {},\n  xquery: { r: 'markup' },\n  yaml: { a: 'yml' }\n};\n\nexport async function loadLang(ext: string) {\n  let langs: string[] = [];\n  Object.keys(langData).forEach((item) => {\n    const { a: alias, r: require } = langData[item];\n    if (alias && (Array.isArray(alias) ? alias : [alias]).includes(ext)) {\n      if (require) {\n        langs = Array.from(new Set([...langs, ...(Array.isArray(require) ? require : [require])]));\n      }\n    }\n    if (ext === item) {\n      if (require) {\n        langs = Array.from(new Set([...langs, ...(Array.isArray(require) ? require : [require])]));\n      }\n      langs.push(ext);\n    }\n  });\n  try {\n    if (langs.length > 0) {\n      return Promise.all(langs.map((key) => import(`prismjs/components/prism-${key}`)));\n    }\n  } catch (error) { }\n}\n\nexport default langData;\n","import React, { useState, createRef, useRef, useEffect, useImperativeHandle, useMemo } from 'react';\nimport CodeMirror, { ICodeMirror } from './components/CodeMirror';\nimport MarkdownPreview, { MarkdownPreviewProps } from '@uiw/react-markdown-preview';\nimport ToolBar, { IToolBarProps } from './components/ToolBar';\nimport { getCommands, getModeCommands } from './commands';\nimport './index.less';\n\nexport * from './commands';\n\nexport interface IMarkdownEditor extends ICodeMirror {\n  className?: string;\n  prefixCls?: string,\n  value?: string,\n  height?: number,\n  visible?: boolean,\n  visibleEditor?: boolean,\n  toolbars?: IToolBarProps['toolbars'],\n  toolbarsMode?: IToolBarProps['toolbars'],\n  previewProps?: MarkdownPreviewProps;\n  options?: CodeMirror.EditorConfiguration,\n}\n\nexport interface MarkdownEditorRef {\n  editor?: CodeMirror.Editor;\n  preview?: HTMLDivElement | null;\n}\n\nexport default React.forwardRef<MarkdownEditorRef, IMarkdownEditor>(MarkdownEditor);\n\nfunction MarkdownEditor(\n  props: IMarkdownEditor,\n  ref?:\n    | ((instance: MarkdownEditorRef) => void)\n    | React.RefObject<MarkdownEditorRef>\n    | null\n) {\n  const {\n    prefixCls = 'md-editor', className,\n    onChange,\n    toolbars = getCommands(),\n    toolbarsMode = getModeCommands(),\n    visible = true,\n    visibleEditor = true,\n    previewProps = {}, ...codemirrorProps } = props;\n  const [value, setValue] = useState(props.value || '');\n  const codeMirror = createRef<CodeMirror>();\n  const previewContainer = useRef<HTMLDivElement | null>()\n  const [editor, setEditor] = useState<CodeMirror.Editor>();\n\tconst container = useRef<HTMLDivElement>(null);\n\tconst containerEditor = useRef<HTMLDivElement>(null);\n\n  useImperativeHandle(ref, () => ({\n    editor: editor,\n    preview: previewContainer.current,\n  }));\n\n  useEffect(() => {\n    if (codeMirror.current) {\n      setEditor(codeMirror.current.editor);\n    }\n  }, [codeMirror.current]);\n\n  const toolBarProps = {\n    editor,\n    preview: previewContainer.current,\n    container: container.current,\n    containerEditor: containerEditor.current,\n    editorProps: props\n  }\n  const codeEditor = useMemo(() => (\n    <CodeMirror\n      visibleEditor={visibleEditor}\n      {...codemirrorProps}\n      ref={codeMirror}\n      onChange={(editor, data) => {\n        setValue(editor.getValue());\n        onChange && onChange(editor, data, editor.getValue())\n      }}\n    />\n  ), [visibleEditor, codemirrorProps])\n  return (\n    <div ref={container}>\n      <div className={`${prefixCls || ''} ${className || ''}`}>\n        <ToolBar {...toolBarProps} toolbars={toolbarsMode} mode />\n        <ToolBar {...toolBarProps} toolbars={toolbars} />\n        <div className={`${prefixCls}-content`}>\n          <div className={`${prefixCls}-content-editor`} ref={containerEditor}>\n            {visibleEditor && codeEditor}\n          </div>\n          <MarkdownPreview\n            {...previewProps}\n            data-visible={!!visible}\n            className={`${prefixCls}-preview`}\n            ref={(instance) => {\n              if(instance && instance.mdp) {\n                previewContainer.current = instance.mdp.current\n              }\n            }}\n            source={value}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { ICommand } from './'\n\nexport const bold: ICommand = {\n  name: 'bold',\n  keyCommand: 'bold',\n  button: { 'aria-label': 'Add bold text' },\n  icon: (\n    <svg width=\"13\" height=\"13\" viewBox=\"0 0 384 512\">\n      <path fill=\"currentColor\" d=\"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `**${selection}**` : `****`;\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 2;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const italic: ICommand = {\n  name: 'italic',\n  keyCommand: 'italic',\n  button: { 'aria-label': 'Add italic text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 320 512\">\n      <path fill=\"currentColor\" d=\"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `*${selection}*` : `**`;\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const header: ICommand = {\n  name: 'header',\n  keyCommand: 'header',\n  button: { 'aria-label': 'Add header text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `# ${selection}` : '# ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 2;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const strike: ICommand = {\n  name: 'strike',\n  keyCommand: 'strike',\n  button: { 'aria-label': 'Add strike text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `~~${selection}~~` : '~~~~';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const underline: ICommand = {\n  name: 'underline',\n  keyCommand: 'underline',\n  button: { 'aria-label': 'Add underline text' },\n  icon: (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 20 20\">\n      <path fill=\"currentColor\" d=\"M10 17c3.3 0 6-2.7 6-6V3.5c0-.8-.7-1.5-1.5-1.5S13 2.7 13 3.5V11c0 1.7-1.3 3-3 3s-3-1.3-3-3V3.5C7 2.7 6.3 2 5.5 2S4 2.7 4 3.5V11c0 3.3 2.7 6 6 6zM16.5 19h-13c-.3 0-.5.2-.5.5s.2.5.5.5h13c.3 0 .5-.2.5-.5s-.2-.5-.5-.5z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `<u>${selection}</u>` : '<u></u>';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 3;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const olist: ICommand = {\n  name: 'olist',\n  keyCommand: 'olist',\n  button: { 'aria-label': 'Add olist text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 32 32\">\n      <path fill=\"currentColor\" d=\"M12 2h20v4h-20v-4zM12 14h20v4h-20v-4zM12 26h20v4h-20v-4zM0 4c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4zM0 16c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4zM0 28c0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.209-1.791-4-4-4s-4 1.791-4 4z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `- ${selection}` : '- ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 2;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const ulist: ICommand = {\n  name: 'ulist',\n  keyCommand: 'ulist',\n  button: { 'aria-label': 'Add ulist text' },\n  icon: (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `1. ${selection}` : '1. ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 3;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const link: ICommand = {\n  name: 'link',\n  keyCommand: 'link',\n  button: { 'aria-label': 'Add link text' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 512 512\">\n      <path fill=\"currentColor\" d=\"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = '[]( \"\")';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const todo: ICommand = {\n  name: 'todo',\n  keyCommand: 'todo',\n  button: { 'aria-label': 'Add todo List' },\n  icon: (\n    <svg width=\"18\" height=\"18\" viewBox=\"0 0 1024 1024\">\n      <path fill=\"currentColor\" d=\"M224 800.256L223.712 224H320v31.68c0 35.456 28.64 64.32 63.872 64.32h256.256A64.16 64.16 0 0 0 704 255.68V224l96-0.256L800.256 800 224 800.256zM640 192.32L640.128 256 384 255.68V192.32L383.872 192 640 192.32zM799.84 160H695.04c-11.072-19.04-31.424-32-54.912-32h-256.256c-23.488 0-43.808 12.928-54.912 32H223.712A63.776 63.776 0 0 0 160 223.744v576.512C160 835.392 188.608 864 223.744 864h576.512A63.84 63.84 0 0 0 864 800.256V223.744A64 64 0 0 0 799.84 160zM619.072 429.088l-151.744 165.888-62.112-69.6a32 32 0 1 0-47.744 42.624l85.696 96a32 32 0 0 0 23.68 10.688h0.192c8.96 0 17.536-3.776 23.616-10.4l175.648-192a32 32 0 0 0-47.232-43.2\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `- [ ] ${selection}` : '- [ ] ';\n    editor.replaceSelection(value);\n    position.ch = !!selection ? position.ch : position.ch + 6;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React from 'react';\nimport { ICommand} from './'\n\nexport const image: ICommand = {\n  name: 'image',\n  keyCommand: 'image',\n  button: { 'aria-label': 'Add image text' },\n  icon: (\n    <svg width=\"14\" height=\"14\" viewBox=\"0 0 20 20\">\n      <path fill=\"currentColor\" d=\"M15 9c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4-7H1c-.55 0-1 .45-1 1v14c0 .55.45 1 1 1h18c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 13l-6-5-2 2-4-5-4 8V4h16v11z\" />\n    </svg>\n  ),\n  execute: (editor, selection, position) => {\n    const value = selection ? `${selection} ![]( \"\")` : '![]( \"\")\\n';\n    editor.replaceSelection(value);\n    // position.ch = !!selection ? position.ch : position.ch + 1;\n    editor.setCursor(position.line, position.ch);\n    editor.focus();\n  },\n};","import React, { useEffect, useRef, useState } from 'react';\nimport { ICommand } from './';\nimport { IMarkdownEditor } from '../';\n\ntype Options = {\n  preview?: HTMLDivElement | null | undefined;\n  container?: HTMLDivElement | null | undefined;\n  editor?: CodeMirror.Editor;\n}\n\nconst Fullscreen: React.FC<{ command: ICommand, editorProps: IMarkdownEditor & Options }> = (props) => {\n  const { editorProps: { container, preview, editor } } = props;\n  const [full, setFull] = useState(false);\n  const initEditorHeight = useRef(0);\n  const containerRef = useRef<HTMLDivElement | null>();\n  const editorRef = useRef<CodeMirror.Editor>();\n  function handleResize() {\n    if (containerRef.current && editorRef.current) {\n      editorRef.current.setSize('initial', containerRef.current.clientHeight - 35);\n    }\n  }\n  useEffect(() => {\n    window && window.addEventListener('resize', handleResize, true);\n    return () => {\n      window && window.removeEventListener('resize', handleResize, true);\n    }\n  }, []);\n  useEffect(() => {\n    if (editor) {\n      editorRef.current = editor;\n      const { clientHeight } = editor.getScrollInfo();\n      initEditorHeight.current = clientHeight;\n    }\n  }, [editor]);\n  useEffect(() => {\n    if (!document) return;\n    containerRef.current = container\n    document.body.style.overflow = full ? 'hidden' : 'initial';\n    if (container && full) {\n      container.style.zIndex = '999';\n      container.style.position = 'fixed';\n      container.style.top = '0px';\n      container.style.bottom = '0px';\n      container.style.left = '0px';\n      container.style.right = '0px';\n      editor!.setSize('initial', container.clientHeight - 35);\n    } else if (container) {\n      container.style.position = 'initial';\n      container.style.top = 'initial';\n      container.style.bottom = 'initial';\n      container.style.left = 'initial';\n      container.style.right = 'initial';\n      editor!.setSize('initial', initEditorHeight.current);\n    }\n  }, [full, container, preview]);\n  return (\n    <button\n      onClick={() => setFull(!full)}\n      type=\"button\"\n      className={full ? 'active' : ''}\n    >\n      {props.command.icon}\n    </button>\n  );\n}\n\nexport const fullscreen: ICommand = {\n  name: 'fullscreen',\n  keyCommand: 'fullscreen',\n  button: (command, props, opts) => <Fullscreen command={command} editorProps={{ ...props, ...opts }} />,\n  icon: (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 1024 1024\">\n      <path fill=\"currentColor\" d=\"M189.75 428.89a36.87 36.87 0 0 0 36.84-36.85V228.12h164a36.85 36.85 0 1 0 0-73.7H189.75a36.82 36.82 0 0 0-36.8 36.85v200.8a36.83 36.83 0 0 0 36.8 36.82zM834.26 595.06a36.82 36.82 0 0 0-36.8 36.84v164H633.41a36.85 36.85 0 0 0 0 73.7h200.85a36.87 36.87 0 0 0 36.84-36.85V631.9a36.86 36.86 0 0 0-36.84-36.84zM797.46 228.12v179.31a36.82 36.82 0 1 0 73.64 0V191.24a36.86 36.86 0 0 0-36.84-36.85H602.33a36.85 36.85 0 0 0 0 73.7zM421.62 795.9H226.54V616.56a36.82 36.82 0 1 0-73.64 0v216.19a36.83 36.83 0 0 0 36.85 36.85h231.87a36.85 36.85 0 0 0 0-73.7z\" />\n      <path fill=\"currentColor\" d=\"M306.5 307.94m32.95 0l345.1 0q32.95 0 32.95 32.95l0 342.22q0 32.95-32.95 32.95l-345.1 0q-32.95 0-32.95-32.95l0-342.22q0-32.95 32.95-32.95Z\" />\n    </svg>\n  ),\n};","import React, { useEffect, useState } from 'react';\nimport { ICommand } from './';\nimport { IMarkdownEditor } from '../';\n\ntype Options = {\n  preview?: HTMLDivElement | null;\n  container?: HTMLDivElement | null;\n  containerEditor?: HTMLDivElement | null;\n  editor?: CodeMirror.Editor;\n}\n\nconst Preview: React.FC<{ command: ICommand, editorProps: IMarkdownEditor & Options }> = (props) => {\n  const { editorProps: { preview, containerEditor } } = props;\n  const [visible, setVisible] = useState(props.editorProps.visible);\n  useEffect(() => {\n    setVisible(props.editorProps.visible);\n  }, [props.editorProps.visible]);\n\n  useEffect(() => {\n    if (preview) {\n      preview.style.borderBottomRightRadius = '3px';\n    }\n    if (preview && visible) {\n      preview.style.width = '50%';\n      preview.style.overflow = 'auto';\n      preview.style.borderLeft = '1px solid #dfdfe0';\n      preview.style.padding = '20px';\n      if (containerEditor) {\n        containerEditor.style.width = '50%'\n      }\n    } else if (preview) {\n      preview.style.width = '0%';\n      preview.style.overflow = 'hidden';\n      preview.style.borderLeft = '0px';\n      preview.style.padding = '0';\n      if (containerEditor) {\n        containerEditor.style.width = '100%'\n      }\n    }\n  }, [preview, containerEditor, visible]);\n\n  return (\n    <button\n      onClick={() => setVisible(!visible)}\n      type=\"button\"\n      className={visible ? 'active' : ''}\n    >\n      {props.command.icon}\n    </button>\n  )\n}\n\nexport const preview: ICommand = {\n  name: 'preview',\n  keyCommand: 'preview',\n  button: (command, props, opts) => <Preview command={command} editorProps={{ ...props, ...opts }} />,\n  icon: (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 32 32\">\n      <path fill=\"currentColor\" d=\"M0 16c3.037-5.864 9.058-9.802 16-9.802s12.963 3.938 15.953 9.703l0.047 0.1c-3.037 5.864-9.058 9.802-16 9.802s-12.963-3.938-15.953-9.703l-0.047-0.1zM16 22.531c3.607 0 6.531-2.924 6.531-6.531s-2.924-6.531-6.531-6.531v0c-3.607 0-6.531 2.924-6.531 6.531s2.924 6.531 6.531 6.531v0zM16 19.265c-1.804 0-3.265-1.461-3.265-3.265s1.461-3.265 3.265-3.265v0c1.804 0 3.265 1.461 3.265 3.265s-1.461 3.265-3.265 3.265v0z\" />\n    </svg>\n  ),\n};","import { Editor, Position } from 'codemirror';\nimport { bold } from './bold';\nimport { italic } from './italic';\nimport { header } from './header';\nimport { strike } from './strike';\nimport { underline } from './underline';\nimport { olist } from './olist';\nimport { ulist } from './ulist';\nimport { link } from './link';\nimport { todo } from './todo';\nimport { image } from './image';\nimport { fullscreen } from './fullscreen';\nimport { preview } from './preview';\nimport { IMarkdownEditor } from '../';\n\nexport type ButtonHandle = (command: ICommand, props: IMarkdownEditor, options: {\n  preview?: HTMLDivElement | null,\n  container?: HTMLDivElement | null,\n  containerEditor?: HTMLDivElement | null;\n  editor?: Editor;\n}) => JSX.Element\n\nexport type ICommand = {\n  icon?: React.ReactElement;\n  name?: string;\n  keyCommand?: string;\n  button?: ButtonHandle | React.ButtonHTMLAttributes<HTMLButtonElement>;\n  execute?: (editor: Editor, selection: string, position: Position, opts: {\n    preview?: HTMLDivElement | null,\n    container?: HTMLDivElement | null,\n  }) => void;\n}\n\nexport const defaultCommands = { bold, italic, header, strike, underline, olist, ulist, link, todo, image, fullscreen, preview }\n\nexport const getCommands: () => ICommand[] = () => \n  Object.keys(defaultCommands).filter(key => !/^(fullscreen|preview)/.test(key))\n    .map((key) => defaultCommands[key as (keyof (typeof defaultCommands))]);\n\nexport const getModeCommands: () => ICommand[] = () => [preview, fullscreen];","import * as React from \"react\";\nimport CodeMirror from 'codemirror';\nimport './index.less';\nimport { ICommand, defaultCommands } from '../../commands';\nimport { IMarkdownEditor } from '../../';\n\nexport type IToolBarProps<T = (keyof (typeof defaultCommands)) | ICommand> = {\n  className?: string;\n  editorProps: IMarkdownEditor;\n  mode?: boolean;\n  preview?: HTMLDivElement | null;\n  container?: HTMLDivElement | null;\n  containerEditor?: HTMLDivElement | null;\n  prefixCls?: string;\n  editor?: CodeMirror.Editor;\n  toolbars?: T[];\n  onClick?: (type: string) => void;\n}\n\nexport default function ToolBar(props: IToolBarProps) {\n  const { prefixCls = 'md-editor', className, onClick, toolbars = [], editor, mode, preview, container, containerEditor, editorProps = {}, ...htmlProps } = props;\n  if (!toolbars || toolbars.length === 0) return null;\n  function handleClick(execute: ICommand['execute']) {\n    if (execute && editor) {\n      execute(editor, editor.getSelection(), editor.getCursor(), { preview, container });\n    }\n  }\n  return (\n    <div className={`${prefixCls}-toolbar ${className || ''} ${mode ? `${prefixCls}-toolbar-mode` : ''}`} {...htmlProps}>\n      {[...toolbars].map((command, key) => {\n        let buttonProps: React.ButtonHTMLAttributes<HTMLButtonElement> = {\n          type: 'button',\n        }\n        const obj = typeof command === 'string' ? defaultCommands[command] : command;\n        if (!obj) return;\n        buttonProps.children = obj.icon;\n        buttonProps.onClick = () => handleClick(obj.execute);\n        if (obj.button && typeof obj.button === 'object') {\n          const btn: React.ButtonHTMLAttributes<HTMLButtonElement> = obj.button;\n          (Object.keys(btn) as (keyof React.ButtonHTMLAttributes<HTMLButtonElement>)[]).forEach((key) => {\n            buttonProps[key] = btn[key];\n          });\n        } else if (typeof obj.button === 'function') {\n          return React.cloneElement(obj.button(obj, editorProps, { preview, container, containerEditor, editor }), { key });\n        }\n\n        return (\n          <button {...buttonProps} key={key} />\n        );\n      })}\n    </div>\n  );\n\n}\n","\"use strict\";\n\nrequire(\"./index.less\");\n\nrequire(\"../../tag/style\");\n\nrequire(\"../../button/style\");","\"use strict\";\n\nrequire(\"../../style/index.less\");\n\nrequire(\"./index.less\");",null,"import { PropsWithChildren } from \"react\";\nimport Sortable, { Options } from \"sortablejs\";\nimport { MultiDragEvent } from \"./react-sortable\";\nimport { AllMethodNames, ItemInterface, ReactSortableProps } from \"./types\";\n\n/**\n * Removes the `node` from the DOM\n * @param node\n */\nexport function removeNode(node: HTMLElement): void {\n  if (node.parentElement !== null) node.parentElement.removeChild(node);\n}\n\n/**\n * Inserts the `newChild` node at the given index in a parent\n * @param parent The parent HTML Element.\n * @param newChild A HTML eement to add as a child of the parent.\n * @param index index of the parent to place the new child in.\n */\nexport function insertNodeAt(\n  parent: HTMLElement,\n  newChild: HTMLElement,\n  index: number\n): void {\n  const refChild = parent.children[index] || null;\n  parent.insertBefore(newChild, refChild);\n}\n\n// @todo - create a dom handler function for arrays or not at all\n\n/** removes stuff from the dom in a nice order */\n// @todo - do I need parenElement?\nexport function handleDOMChanges<T extends ItemInterface>(\n  customs: Normalized<T>[]\n): void {\n  removeNodes(customs);\n  insertNodes(customs);\n}\n\nexport function removeNodes<T extends ItemInterface>(\n  customs: Normalized<T>[]\n): void {\n  customs.forEach((curr) => removeNode(curr.element));\n}\n\nexport function insertNodes<T extends ItemInterface>(\n  customs: Normalized<T>[]\n): void {\n  customs.forEach((curr) => {\n    insertNodeAt(curr.parentElement, curr.element, curr.oldIndex);\n  });\n}\n\nexport function createCustoms<T extends ItemInterface>(\n  evt: MultiDragEvent,\n  list: T[]\n): Normalized<T>[] {\n  const mode = getMode(evt);\n  const parentElement = { parentElement: evt.from };\n  let custom = [];\n  switch (mode) {\n    case \"normal\":\n      /* eslint-disable */\n      const item = {\n        element: evt.item,\n        newIndex: evt.newIndex!,\n        oldIndex: evt.oldIndex!,\n        parentElement: evt.from,\n      };\n      custom = [item];\n      break;\n    case \"swap\":\n      const drag: Input = {\n        element: evt.item,\n        oldIndex: evt.oldIndex!,\n        newIndex: evt.newIndex!,\n        ...parentElement,\n      };\n      const swap: Input = {\n        element: evt.swapItem!,\n        oldIndex: evt.newIndex!,\n        newIndex: evt.oldIndex!,\n        ...parentElement,\n      };\n      custom = [drag, swap];\n      break;\n    case \"multidrag\":\n      custom = evt.oldIndicies.map<Input>((curr, index) => ({\n        element: curr.multiDragElement,\n        oldIndex: curr.index,\n        newIndex: evt.newIndicies[index].index,\n        ...parentElement,\n      }));\n      break;\n  }\n  /* eslint-enable */\n\n  const customs = createNormalized(custom, list);\n  return customs;\n}\n\n/** moves items form old index to new index without breaking anything ideally. */\nexport function handleStateChanges<T extends ItemInterface>(\n  normalized: Normalized<T>[],\n  list: T[]\n): T[] {\n  const a = handleStateRemove(normalized, list);\n  const b = handleStateAdd(normalized, a);\n  return b;\n}\n\nexport function handleStateRemove<T extends ItemInterface>(\n  normalized: Normalized<T>[],\n  list: T[]\n): T[] {\n  const newList = [...list];\n  normalized\n    .concat()\n    .reverse()\n    .forEach((curr) => newList.splice(curr.oldIndex, 1));\n  return newList;\n}\n\nexport function handleStateAdd<T extends ItemInterface>(\n  normalized: Normalized<T>[],\n  list: T[],\n  evt?: Sortable.SortableEvent,\n  clone?: ((currentItem: T, evt: Sortable.SortableEvent) => T) | undefined\n): T[] {\n  const newList = [...list];\n  normalized.forEach((curr) => {\n    const newItem = clone && evt && clone(curr.item, evt);\n    newList.splice(curr.newIndex, 0, newItem || curr.item);\n  });\n  return newList;\n}\n\nexport function getMode(evt: MultiDragEvent): \"multidrag\" | \"swap\" | \"normal\" {\n  if (evt.oldIndicies && evt.oldIndicies.length > 0) return \"multidrag\";\n  if (evt.swapItem) return \"swap\";\n  return \"normal\";\n}\n\nexport function createNormalized<T extends ItemInterface>(\n  inputs: Input[],\n  list: T[]\n): Normalized<T>[] {\n  const normalized = inputs\n    .map<Normalized<T>>((curr) => ({ ...curr, item: list[curr.oldIndex] }))\n    .sort((a, b) => a.oldIndex - b.oldIndex);\n  return normalized;\n}\n\nexport interface Input {\n  parentElement: HTMLElement;\n  element: HTMLElement;\n  oldIndex: number;\n  newIndex: number;\n}\n\nexport interface Normalized<T> extends Input {\n  item: T;\n}\n\n/**\n * Removes the following group of properties from `props`,\n * leaving only `Sortable.Options` without any `on` methods.\n * @param props `ReactSortable.Props`\n */\nexport function destructurePropsForOptions<T>(\n  props: PropsWithChildren<ReactSortableProps<T>>\n): Exclude<Options, AllMethodNames> {\n  /* eslint-disable */\n  const {\n    // react sortable props\n    list,\n    setList,\n    children,\n    tag,\n    style,\n    className,\n    clone,\n    // sortable options that have methods we want to overwrite\n    onAdd,\n    onChange,\n    onChoose,\n    onClone,\n    onEnd,\n    onFilter,\n    onRemove,\n    onSort,\n    onStart,\n    onUnchoose,\n    onUpdate,\n    onMove,\n    onSpill,\n    onSelect,\n    onDeselect,\n    ...options\n  } = props;\n  /* eslint-enable */\n  return options;\n}\n\n/**\n * Construct a type with the properties of T except for those in type K.\n * Including this allows for backwards compatibility with earlier versions of TS.\n */\nexport type Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>;\n","import classNames from \"classnames\";\nimport {\n  Children,\n  cloneElement,\n  Component,\n  createElement,\n  createRef,\n  ReactElement,\n  RefObject,\n} from \"react\";\nimport Sortable, { MoveEvent, Options, SortableEvent } from \"sortablejs\";\nimport invariant from \"tiny-invariant\";\nimport {\n  AllMethodsExceptMove,\n  HandledMethodNames,\n  ItemInterface,\n  ReactSortableProps,\n  Store,\n  UnHandledMethodNames,\n} from \"./types\";\nimport {\n  createCustoms,\n  destructurePropsForOptions,\n  getMode,\n  handleStateAdd,\n  handleStateChanges,\n  handleStateRemove,\n  insertNodes,\n  removeNode,\n  removeNodes,\n} from \"./util\";\n\n/** Holds a global reference for which react element is being dragged */\n// @todo - use context to manage this. How does one use 2 different providers?\nconst store: Store = { dragging: null };\n\nexport class ReactSortable<T extends ItemInterface> extends Component<\n  ReactSortableProps<T>\n> {\n  /* eslint-disable-next-line */\n  static defaultProps: Partial<ReactSortableProps<any>> = {\n    clone: (item) => item,\n  };\n\n  private ref: RefObject<HTMLElement>;\n  constructor(props: ReactSortableProps<T>) {\n    super(props);\n    // @todo forward ref this component\n    this.ref = createRef<HTMLElement>();\n\n    // make all state false because we can't change sortable unless a mouse gesture is made.\n    const newList = props.list.map((item) => ({\n      ...item,\n      chosen: false,\n      selected: false,\n    }));\n\n    props.setList(newList, this.sortable, store);\n    invariant(\n      //@ts-expect-error: Doesn't exist. Will deprecate soon.\n      !props.plugins,\n      `\nPlugins prop is no longer supported.\nInstead, mount it with \"Sortable.mount(new MultiDrag())\"\nPlease read the updated README.md at https://github.com/SortableJS/react-sortablejs.\n      `\n    );\n  }\n  componentDidMount(): void {\n    if (this.ref.current === null) return;\n    const newOptions = this.makeOptions();\n    Sortable.create(this.ref.current, newOptions);\n  }\n\n  render(): JSX.Element {\n    const { tag, style, className, id } = this.props;\n    const classicProps = { style, className, id };\n\n    // if no tag, default to a `div` element.\n    const newTag = !tag || tag === null ? \"div\" : tag;\n    return createElement(\n      newTag,\n      {\n        // @todo - find a way (perhaps with the callback) to allow AntD components to work\n        ref: this.ref,\n        ...classicProps,\n      },\n      this.getChildren()\n    );\n  }\n\n  private getChildren() {\n    const {\n      children,\n      dataIdAttr,\n      selectedClass = \"sortable-selected\",\n      chosenClass = \"sortable-chosen\",\n      /* eslint-disable */\n      dragClass = \"sortable-drag\",\n      fallbackClass = \"sortable-falback\",\n      ghostClass = \"sortable-ghost\",\n      swapClass = \"sortable-swap-highlight\",\n      /* eslint-enable */\n      filter = \"sortable-filter\",\n      list,\n    } = this.props;\n\n    // if no children, don't do anything.\n    if (!children || children == null) return null;\n    const dataid = dataIdAttr || \"data-id\";\n    /* eslint-disable-next-line */\n    return Children.map(children as ReactElement<any>[], (child, index) => {\n      const item = list[index];\n      const { className: prevClassName } = child.props;\n\n      // @todo - handle the function if avalable. I don't think anyone will be doing this soon.\n      const filtered = typeof filter === \"string\" && {\n        [filter.replace(\".\", \"\")]: !!item.filtered,\n      };\n\n      const className = classNames(prevClassName, {\n        [selectedClass]: item.selected,\n        [chosenClass]: item.chosen,\n        ...filtered,\n        // [dragClass]: true,\n        // [fallbackClass]: true,\n        // [ghostClass]: true,\n        // [swapClass]: true\n      });\n\n      return cloneElement(child, {\n        [dataid]: child.key,\n        className,\n      });\n    });\n  }\n\n  /** Appends the `sortable` property to this component */\n  private get sortable(): Sortable | null {\n    const el = this.ref.current;\n    if (el === null) return null;\n    const key = Object.keys(el).find((k) => k.includes(\"Sortable\"));\n    if (!key) return null;\n    //@ts-expect-error: fix me.\n    return el[key] as Sortable;\n  }\n\n  /** Converts all the props from `ReactSortable` into the `options` object that `Sortable.create(el, [options])` can use. */\n  makeOptions(): Options {\n    const DOMHandlers: HandledMethodNames[] = [\n      \"onAdd\",\n      \"onChoose\",\n      \"onDeselect\",\n      \"onEnd\",\n      \"onRemove\",\n      \"onSelect\",\n      \"onSpill\",\n      \"onStart\",\n      \"onUnchoose\",\n      \"onUpdate\",\n    ];\n    const NonDOMHandlers: UnHandledMethodNames[] = [\n      \"onChange\",\n      \"onClone\",\n      \"onFilter\",\n      \"onSort\",\n    ];\n    const newOptions: Options = destructurePropsForOptions(this.props);\n    DOMHandlers.forEach(\n      (name) => (newOptions[name] = this.prepareOnHandlerPropAndDOM(name))\n    );\n    NonDOMHandlers.forEach(\n      (name) => (newOptions[name] = this.prepareOnHandlerProp(name))\n    );\n\n    /** onMove has 2 arguments and needs to be handled seperately. */\n    const onMove = (evt: MoveEvent, originalEvt: Event) => {\n      const { onMove } = this.props;\n      const defaultValue = evt.willInsertAfter || -1;\n      if (!onMove) return defaultValue;\n      const result = onMove(evt, originalEvt, this.sortable, store);\n      if (typeof result === \"undefined\") return false;\n      return result;\n    };\n\n    return {\n      ...newOptions,\n      onMove,\n    };\n  }\n\n  /** Prepares a method that will be used in the sortable options to call an `on[Handler]` prop & an `on[Handler]` ReactSortable method.  */\n  prepareOnHandlerPropAndDOM(\n    evtName: HandledMethodNames\n  ): (evt: SortableEvent) => void {\n    return (evt) => {\n      // call the component prop\n      this.callOnHandlerProp(evt, evtName);\n      // calls state change\n      //@ts-expect-error: until @types multidrag item is in\n      this[evtName](evt);\n    };\n  }\n\n  /** Prepares a method that will be used in the sortable options to call an `on[Handler]` prop */\n  prepareOnHandlerProp(\n    evtName: Exclude<AllMethodsExceptMove, HandledMethodNames>\n  ): (evt: SortableEvent) => void {\n    return (evt) => {\n      // call the component prop\n      this.callOnHandlerProp(evt, evtName);\n    };\n  }\n\n  /** Calls the `props.on[Handler]` function */\n  callOnHandlerProp(evt: SortableEvent, evtName: AllMethodsExceptMove): void {\n    const propEvent = this.props[evtName];\n    if (propEvent) propEvent(evt, this.sortable, store);\n  }\n\n  // SORTABLE DOM HANDLING\n\n  onAdd(evt: MultiDragEvent): void {\n    const { list, setList, clone } = this.props;\n    /* eslint-disable-next-line */\n    const otherList = [...store.dragging!.props.list];\n    const customs = createCustoms(evt, otherList);\n    removeNodes(customs);\n    const newList = handleStateAdd(customs, list, evt, clone).map((item) => ({\n      ...item,\n      selected: false,\n    }));\n    setList(newList, this.sortable, store);\n  }\n\n  onRemove(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const mode = getMode(evt);\n    const customs = createCustoms(evt, list);\n    insertNodes(customs);\n\n    let newList = [...list];\n    // remove state if not in clone mode. otherwise, keep.\n    if (evt.pullMode !== \"clone\") newList = handleStateRemove(customs, newList);\n    // if clone, it doesn't really remove. instead it clones in place.\n    // @todo -\n    else {\n      // switch used to get the clone\n      let customClones = customs;\n      switch (mode) {\n        case \"multidrag\":\n          customClones = customs.map((item, index) => ({\n            ...item,\n            element: evt.clones[index],\n          }));\n          break;\n        case \"normal\":\n          customClones = customs.map((item) => ({\n            ...item,\n            element: evt.clone,\n          }));\n          break;\n        case \"swap\":\n        default: {\n          invariant(\n            true,\n            `mode \"${mode}\" cannot clone. Please remove \"props.clone\" from <ReactSortable/> when using the \"${mode}\" plugin`\n          );\n        }\n      }\n      removeNodes(customClones);\n\n      // replace selected items with cloned items\n      customs.forEach((curr) => {\n        const index = curr.oldIndex;\n        /* eslint-disable-next-line */\n        const newItem = this.props.clone!(curr.item, evt);\n        newList.splice(index, 1, newItem);\n      });\n    }\n\n    // remove item.selected from list\n    newList = newList.map((item) => ({ ...item, selected: false }));\n    setList(newList, this.sortable, store);\n  }\n\n  onUpdate(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const customs = createCustoms(evt, list);\n    removeNodes(customs);\n    insertNodes(customs);\n    const newList = handleStateChanges(customs, list);\n    return setList(newList, this.sortable, store);\n  }\n\n  onStart(): void {\n    store.dragging = this;\n  }\n\n  onEnd(): void {\n    store.dragging = null;\n  }\n\n  onChoose(evt: SortableEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item, index) => {\n      if (index === evt.oldIndex) {\n        return {\n          ...item,\n          chosen: true,\n        };\n      }\n      return item;\n    });\n    setList(newList, this.sortable, store);\n  }\n\n  onUnchoose(evt: SortableEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item, index) => {\n      if (index === evt.oldIndex) {\n        return {\n          ...item,\n          chosen: false,\n        };\n      }\n      return item;\n    });\n    setList(newList, this.sortable, store);\n  }\n\n  onSpill(evt: SortableEvent): void {\n    const { removeOnSpill, revertOnSpill } = this.props;\n    if (removeOnSpill && !revertOnSpill) removeNode(evt.item);\n  }\n\n  onSelect(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item) => ({ ...item, selected: false }));\n    evt.newIndicies.forEach((curr) => {\n      const index = curr.index;\n      if (index === -1) {\n        console.log(\n          `\"${evt.type}\" had indice of \"${curr.index}\", which is probably -1 and doesn't usually happen here.`\n        );\n        console.log(evt);\n        return;\n      }\n      newList[index].selected = true;\n    });\n    setList(newList, this.sortable, store);\n  }\n\n  onDeselect(evt: MultiDragEvent): void {\n    const { list, setList } = this.props;\n    const newList = list.map((item) => ({ ...item, selected: false }));\n    evt.newIndicies.forEach((curr) => {\n      const index = curr.index;\n      if (index === -1) return;\n      newList[index].selected = true;\n    });\n    setList(newList, this.sortable, store);\n  }\n}\n\n// everything below this point can be removed\n// once @types has been merged. PR submited\ninterface MultiIndices {\n  multiDragElement: HTMLElement;\n  index: number;\n}\n\nexport interface MultiDragEvent extends SortableEvent {\n  // @todo - add this to @types\n  clones: HTMLElement[];\n  oldIndicies: MultiIndices[];\n  newIndicies: MultiIndices[];\n  swapItem: HTMLElement | null;\n}\n","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = require(\"regenerator-runtime\");\n","'use strict';\n\nvar xtend = require('xtend');\n\nvar unified = require('unified');\n\nvar parse = require('remark-parse');\n\nvar PropTypes = require('prop-types');\n\nvar addListMetadata = require('mdast-add-list-metadata');\n\nvar naiveHtml = require('./plugins/naive-html');\n\nvar disallowNode = require('./plugins/disallow-node');\n\nvar astToReact = require('./ast-to-react');\n\nvar wrapTableRows = require('./wrap-table-rows');\n\nvar getDefinitions = require('./get-definitions');\n\nvar uriTransformer = require('./uri-transformer');\n\nvar defaultRenderers = require('./renderers');\n\nvar symbols = require('./symbols');\n\nvar allTypes = Object.keys(defaultRenderers);\n\nvar ReactMarkdown = function ReactMarkdown(props) {\n  // To do in next major: remove `source`.\n  var src = props.source || props.children || '';\n\n  if (props.allowedTypes && props.disallowedTypes) {\n    throw new Error('Only one of `allowedTypes` and `disallowedTypes` should be defined');\n  }\n\n  var renderers = xtend(defaultRenderers, props.renderers);\n  var processor = unified().use(parse).use(props.plugins || []); // eslint-disable-next-line no-sync\n\n  var tree = processor.runSync(processor.parse(src));\n  var renderProps = xtend(props, {\n    renderers: renderers,\n    definitions: getDefinitions(tree)\n  });\n  determineAstToReactTransforms(props).forEach(function (transform) {\n    tree = transform(tree, renderProps);\n  });\n  return tree;\n};\n\nfunction determineAstToReactTransforms(props) {\n  var transforms = [wrapTableRows, addListMetadata()];\n  var disallowedTypes = props.disallowedTypes;\n\n  if (props.allowedTypes) {\n    disallowedTypes = allTypes.filter(function (type) {\n      return type !== 'root' && props.allowedTypes.indexOf(type) === -1;\n    });\n  }\n\n  var removalMethod = props.unwrapDisallowed ? 'unwrap' : 'remove';\n\n  if (disallowedTypes && disallowedTypes.length > 0) {\n    transforms.push(disallowNode.ofType(disallowedTypes, removalMethod));\n  }\n\n  if (props.allowNode) {\n    transforms.push(disallowNode.ifNotMatch(props.allowNode, removalMethod));\n  } // To do in next major: remove `escapeHtml`.\n\n\n  var renderHtml = (props.allowDangerousHtml || props.escapeHtml === false) && !props.skipHtml;\n  var hasHtmlParser = (props.astPlugins || []).some(function (transform) {\n    return transform.identity === symbols.HtmlParser;\n  });\n\n  if (renderHtml && !hasHtmlParser) {\n    transforms.push(naiveHtml);\n  }\n\n  if (props.astPlugins) {\n    transforms = transforms.concat(props.astPlugins);\n  } // Add the final transform to turn everything into React.\n\n\n  transforms.push(astToReact);\n  return transforms;\n}\n\nReactMarkdown.defaultProps = {\n  transformLinkUri: uriTransformer\n};\nReactMarkdown.propTypes = {\n  className: PropTypes.string,\n  source: PropTypes.string,\n  children: PropTypes.string,\n  sourcePos: PropTypes.bool,\n  rawSourcePos: PropTypes.bool,\n  escapeHtml: PropTypes.bool,\n  allowDangerousHtml: PropTypes.bool,\n  skipHtml: PropTypes.bool,\n  allowNode: PropTypes.func,\n  allowedTypes: PropTypes.arrayOf(PropTypes.oneOf(allTypes)),\n  disallowedTypes: PropTypes.arrayOf(PropTypes.oneOf(allTypes)),\n  transformLinkUri: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n  linkTarget: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  transformImageUri: PropTypes.func,\n  astPlugins: PropTypes.arrayOf(PropTypes.func),\n  unwrapDisallowed: PropTypes.bool,\n  renderers: PropTypes.object,\n  plugins: PropTypes.array\n};\nReactMarkdown.types = allTypes;\nReactMarkdown.renderers = defaultRenderers;\nReactMarkdown.uriTransformer = uriTransformer;\nmodule.exports = ReactMarkdown;","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = own\n","'use strict'\n\n// Counts tabs based on their expanded size, and CR+LF as one character.\n\nfunction sizeChunks(chunks) {\n  var index = -1\n  var size = 0\n\n  while (++index < chunks.length) {\n    size += typeof chunks[index] === 'string' ? chunks[index].length : 1\n  }\n\n  return size\n}\n\nmodule.exports = sizeChunks\n","'use strict'\n\nvar assign = require('../constant/assign.js')\nvar chunkedSplice = require('./chunked-splice.js')\nvar shallow = require('./shallow.js')\n\nfunction subtokenize(events) {\n  var jumps = {}\n  var index = -1\n  var event\n  var lineIndex\n  var otherIndex\n  var otherEvent\n  var parameters\n  var subevents\n  var more\n\n  while (++index < events.length) {\n    while (index in jumps) {\n      index = jumps[index]\n    }\n\n    event = events[index] // Add a hook for the GFM tasklist extension, which needs to know if text\n    // is in the first content of a list item.\n\n    if (\n      index &&\n      event[1].type === 'chunkFlow' &&\n      events[index - 1][1].type === 'listItemPrefix'\n    ) {\n      subevents = event[1]._tokenizer.events\n      otherIndex = 0\n\n      if (\n        otherIndex < subevents.length &&\n        subevents[otherIndex][1].type === 'lineEndingBlank'\n      ) {\n        otherIndex += 2\n      }\n\n      if (\n        otherIndex < subevents.length &&\n        subevents[otherIndex][1].type === 'content'\n      ) {\n        while (++otherIndex < subevents.length) {\n          if (subevents[otherIndex][1].type === 'content') {\n            break\n          }\n\n          if (subevents[otherIndex][1].type === 'chunkText') {\n            subevents[otherIndex][1].isInFirstContentOfListItem = true\n            otherIndex++\n          }\n        }\n      }\n    } // Enter.\n\n    if (event[0] === 'enter') {\n      if (event[1].contentType) {\n        assign(jumps, subcontent(events, index))\n        index = jumps[index]\n        more = true\n      }\n    } // Exit.\n    else if (event[1]._container || event[1]._movePreviousLineEndings) {\n      otherIndex = index\n      lineIndex = undefined\n\n      while (otherIndex--) {\n        otherEvent = events[otherIndex]\n\n        if (\n          otherEvent[1].type === 'lineEnding' ||\n          otherEvent[1].type === 'lineEndingBlank'\n        ) {\n          if (otherEvent[0] === 'enter') {\n            if (lineIndex) {\n              events[lineIndex][1].type = 'lineEndingBlank'\n            }\n\n            otherEvent[1].type = 'lineEnding'\n            lineIndex = otherIndex\n          }\n        } else {\n          break\n        }\n      }\n\n      if (lineIndex) {\n        // Fix position.\n        event[1].end = shallow(events[lineIndex][1].start) // Switch container exit w/ line endings.\n\n        parameters = events.slice(lineIndex, index)\n        parameters.unshift(event)\n        chunkedSplice(events, lineIndex, index - lineIndex + 1, parameters)\n      }\n    }\n  }\n\n  return !more\n}\n\nfunction subcontent(events, eventIndex) {\n  var token = events[eventIndex][1]\n  var context = events[eventIndex][2]\n  var startPosition = eventIndex - 1\n  var startPositions = []\n  var tokenizer =\n    token._tokenizer || context.parser[token.contentType](token.start)\n  var childEvents = tokenizer.events\n  var jumps = []\n  var gaps = {}\n  var stream\n  var previous\n  var index\n  var entered\n  var end\n  var adjust // Loop forward through the linked tokens to pass them in order to the\n  // subtokenizer.\n\n  while (token) {\n    // Find the position of the event for this token.\n    while (events[++startPosition][1] !== token) {\n      // Empty.\n    }\n\n    startPositions.push(startPosition)\n\n    if (!token._tokenizer) {\n      stream = context.sliceStream(token)\n\n      if (!token.next) {\n        stream.push(null)\n      }\n\n      if (previous) {\n        tokenizer.defineSkip(token.start)\n      }\n\n      if (token.isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = true\n      }\n\n      tokenizer.write(stream)\n\n      if (token.isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = undefined\n      }\n    } // Unravel the next token.\n\n    previous = token\n    token = token.next\n  } // Now, loop back through all events (and linked tokens), to figure out which\n  // parts belong where.\n\n  token = previous\n  index = childEvents.length\n\n  while (index--) {\n    // Make sure weve at least seen something (final eol is part of the last\n    // token).\n    if (childEvents[index][0] === 'enter') {\n      entered = true\n    } else if (\n      // Find a void token that includes a break.\n      entered &&\n      childEvents[index][1].type === childEvents[index - 1][1].type &&\n      childEvents[index][1].start.line !== childEvents[index][1].end.line\n    ) {\n      add(childEvents.slice(index + 1, end))\n      // Help GC.\n      token._tokenizer = token.next = undefined\n      token = token.previous\n      end = index + 1\n    }\n  }\n\n  // Help GC.\n  tokenizer.events = token._tokenizer = token.next = undefined // Do head:\n\n  add(childEvents.slice(0, end))\n  index = -1\n  adjust = 0\n\n  while (++index < jumps.length) {\n    gaps[adjust + jumps[index][0]] = adjust + jumps[index][1]\n    adjust += jumps[index][1] - jumps[index][0] - 1\n  }\n\n  return gaps\n\n  function add(slice) {\n    var start = startPositions.pop()\n    jumps.unshift([start, start + slice.length - 1])\n    chunkedSplice(events, start, 2, slice)\n  }\n}\n\nmodule.exports = subtokenize\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar assign = require('../constant/assign.js')\nvar shallow = require('../util/shallow.js')\n\nvar text = initializeFactory('text')\nvar string = initializeFactory('string')\nvar resolver = {\n  resolveAll: createResolver()\n}\n\nfunction initializeFactory(field) {\n  return {\n    tokenize: initializeText,\n    resolveAll: createResolver(\n      field === 'text' ? resolveAllLineSuffixes : undefined\n    )\n  }\n\n  function initializeText(effects) {\n    var self = this\n    var constructs = this.parser.constructs[field]\n    var text = effects.attempt(constructs, start, notText)\n    return start\n\n    function start(code) {\n      return atBreak(code) ? text(code) : notText(code)\n    }\n\n    function notText(code) {\n      if (code === null) {\n        effects.consume(code)\n        return\n      }\n\n      effects.enter('data')\n      effects.consume(code)\n      return data\n    }\n\n    function data(code) {\n      if (atBreak(code)) {\n        effects.exit('data')\n        return text(code)\n      } // Data.\n\n      effects.consume(code)\n      return data\n    }\n\n    function atBreak(code) {\n      var list = constructs[code]\n      var index = -1\n\n      if (code === null) {\n        return true\n      }\n\n      if (list) {\n        while (++index < list.length) {\n          if (\n            !list[index].previous ||\n            list[index].previous.call(self, self.previous)\n          ) {\n            return true\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction createResolver(extraResolver) {\n  return resolveAllText\n\n  function resolveAllText(events, context) {\n    var index = -1\n    var enter // A rather boring computation (to merge adjacent `data` events) which\n    // improves mm performance by 29%.\n\n    while (++index <= events.length) {\n      if (enter === undefined) {\n        if (events[index] && events[index][1].type === 'data') {\n          enter = index\n          index++\n        }\n      } else if (!events[index] || events[index][1].type !== 'data') {\n        // Dont do anything if there is one data token.\n        if (index !== enter + 2) {\n          events[enter][1].end = events[index - 1][1].end\n          events.splice(enter + 2, index - enter - 2)\n          index = enter + 2\n        }\n\n        enter = undefined\n      }\n    }\n\n    return extraResolver ? extraResolver(events, context) : events\n  }\n} // A rather ugly set of instructions which again looks at chunks in the input\n// stream.\n// The reason to do this here is that it is *much* faster to parse in reverse.\n// And that we cant hook into `null` to split the line suffix before an EOF.\n// To do: figure out if we can make this into a clean utility, or even in core.\n// As it will be useful for GFMs literal autolink extension (and maybe even\n// tables?)\n\nfunction resolveAllLineSuffixes(events, context) {\n  var eventIndex = -1\n  var chunks\n  var data\n  var chunk\n  var index\n  var bufferIndex\n  var size\n  var tabs\n  var token\n\n  while (++eventIndex <= events.length) {\n    if (\n      (eventIndex === events.length ||\n        events[eventIndex][1].type === 'lineEnding') &&\n      events[eventIndex - 1][1].type === 'data'\n    ) {\n      data = events[eventIndex - 1][1]\n      chunks = context.sliceStream(data)\n      index = chunks.length\n      bufferIndex = -1\n      size = 0\n      tabs = undefined\n\n      while (index--) {\n        chunk = chunks[index]\n\n        if (typeof chunk === 'string') {\n          bufferIndex = chunk.length\n\n          while (chunk.charCodeAt(bufferIndex - 1) === 32) {\n            size++\n            bufferIndex--\n          }\n\n          if (bufferIndex) break\n          bufferIndex = -1\n        } // Number\n        else if (chunk === -2) {\n          tabs = true\n          size++\n        } else if (chunk === -1);\n        else {\n          // Replacement character, exit.\n          index++\n          break\n        }\n      }\n\n      if (size) {\n        token = {\n          type:\n            eventIndex === events.length || tabs || size < 2\n              ? 'lineSuffix'\n              : 'hardBreakTrailing',\n          start: {\n            line: data.end.line,\n            column: data.end.column - size,\n            offset: data.end.offset - size,\n            _index: data.start._index + index,\n            _bufferIndex: index\n              ? bufferIndex\n              : data.start._bufferIndex + bufferIndex\n          },\n          end: shallow(data.end)\n        }\n        data.end = shallow(token.start)\n\n        if (data.start.offset === data.end.offset) {\n          assign(data, token)\n        } else {\n          events.splice(\n            eventIndex,\n            0,\n            ['enter', token, context],\n            ['exit', token, context]\n          )\n          eventIndex += 2\n        }\n      }\n\n      eventIndex++\n    }\n  }\n\n  return events\n}\n\nexports.resolver = resolver\nexports.string = string\nexports.text = text\n","'use strict'\n\nvar hasOwnProperty = require('../constant/has-own-property.js')\nvar chunkedSplice = require('./chunked-splice.js')\nvar miniflat = require('./miniflat.js')\n\nfunction combineExtensions(extensions) {\n  var all = {}\n  var index = -1\n\n  while (++index < extensions.length) {\n    extension(all, extensions[index])\n  }\n\n  return all\n}\n\nfunction extension(all, extension) {\n  var hook\n  var left\n  var right\n  var code\n\n  for (hook in extension) {\n    left = hasOwnProperty.call(all, hook) ? all[hook] : (all[hook] = {})\n    right = extension[hook]\n\n    for (code in right) {\n      left[code] = constructs(\n        miniflat(right[code]),\n        hasOwnProperty.call(left, code) ? left[code] : []\n      )\n    }\n  }\n}\n\nfunction constructs(list, existing) {\n  var index = -1\n  var before = []\n\n  while (++index < list.length) {\n    ;(list[index].add === 'after' ? existing : before).push(list[index])\n  }\n\n  chunkedSplice(existing, 0, 0, before)\n  return existing\n}\n\nmodule.exports = combineExtensions\n","'use strict'\n\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar unicodePunctuation = require('../character/unicode-punctuation.js')\nvar unicodeWhitespace = require('../character/unicode-whitespace.js')\n\n// Classify whether a character is unicode whitespace, unicode punctuation, or\n// anything else.\n// Used for attention (emphasis, strong), whose sequences can open or close\n// based on the class of surrounding characters.\nfunction classifyCharacter(code) {\n  if (\n    code === null ||\n    markdownLineEndingOrSpace(code) ||\n    unicodeWhitespace(code)\n  ) {\n    return 1\n  }\n\n  if (unicodePunctuation(code)) {\n    return 2\n  }\n}\n\nmodule.exports = classifyCharacter\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiDigit = regexCheck(/\\d/)\n\nmodule.exports = asciiDigit\n","'use strict'\n\nvar asciiControl = require('../character/ascii-control.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\n\n// eslint-disable-next-line max-params\nfunction destinationFactory(\n  effects,\n  ok,\n  nok,\n  type,\n  literalType,\n  literalMarkerType,\n  rawType,\n  stringType,\n  max\n) {\n  var limit = max || Infinity\n  var balance = 0\n  return start\n\n  function start(code) {\n    if (code === 60) {\n      effects.enter(type)\n      effects.enter(literalType)\n      effects.enter(literalMarkerType)\n      effects.consume(code)\n      effects.exit(literalMarkerType)\n      return destinationEnclosedBefore\n    }\n\n    if (asciiControl(code) || code === 41) {\n      return nok(code)\n    }\n\n    effects.enter(type)\n    effects.enter(rawType)\n    effects.enter(stringType)\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return destinationRaw(code)\n  }\n\n  function destinationEnclosedBefore(code) {\n    if (code === 62) {\n      effects.enter(literalMarkerType)\n      effects.consume(code)\n      effects.exit(literalMarkerType)\n      effects.exit(literalType)\n      effects.exit(type)\n      return ok\n    }\n\n    effects.enter(stringType)\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return destinationEnclosed(code)\n  }\n\n  function destinationEnclosed(code) {\n    if (code === 62) {\n      effects.exit('chunkString')\n      effects.exit(stringType)\n      return destinationEnclosedBefore(code)\n    }\n\n    if (code === null || code === 60 || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return code === 92 ? destinationEnclosedEscape : destinationEnclosed\n  }\n\n  function destinationEnclosedEscape(code) {\n    if (code === 60 || code === 62 || code === 92) {\n      effects.consume(code)\n      return destinationEnclosed\n    }\n\n    return destinationEnclosed(code)\n  }\n\n  function destinationRaw(code) {\n    if (code === 40) {\n      if (++balance > limit) return nok(code)\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    if (code === 41) {\n      if (!balance--) {\n        effects.exit('chunkString')\n        effects.exit(stringType)\n        effects.exit(rawType)\n        effects.exit(type)\n        return ok(code)\n      }\n\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      if (balance) return nok(code)\n      effects.exit('chunkString')\n      effects.exit(stringType)\n      effects.exit(rawType)\n      effects.exit(type)\n      return ok(code)\n    }\n\n    if (asciiControl(code)) return nok(code)\n    effects.consume(code)\n    return code === 92 ? destinationRawEscape : destinationRaw\n  }\n\n  function destinationRawEscape(code) {\n    if (code === 40 || code === 41 || code === 92) {\n      effects.consume(code)\n      return destinationRaw\n    }\n\n    return destinationRaw(code)\n  }\n}\n\nmodule.exports = destinationFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownSpace = require('../character/markdown-space.js')\n\n// eslint-disable-next-line max-params\nfunction labelFactory(effects, ok, nok, type, markerType, stringType) {\n  var self = this\n  var size = 0\n  var data\n  return start\n\n  function start(code) {\n    effects.enter(type)\n    effects.enter(markerType)\n    effects.consume(code)\n    effects.exit(markerType)\n    effects.enter(stringType)\n    return atBreak\n  }\n\n  function atBreak(code) {\n    if (\n      code === null ||\n      code === 91 ||\n      (code === 93 && !data) ||\n      /* c8 ignore next */\n      (code === 94 &&\n        /* c8 ignore next */\n        !size &&\n        /* c8 ignore next */\n        '_hiddenFootnoteSupport' in self.parser.constructs) ||\n      size > 999\n    ) {\n      return nok(code)\n    }\n\n    if (code === 93) {\n      effects.exit(stringType)\n      effects.enter(markerType)\n      effects.consume(code)\n      effects.exit(markerType)\n      effects.exit(type)\n      return ok\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return atBreak\n    }\n\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return label(code)\n  }\n\n  function label(code) {\n    if (\n      code === null ||\n      code === 91 ||\n      code === 93 ||\n      markdownLineEnding(code) ||\n      size++ > 999\n    ) {\n      effects.exit('chunkString')\n      return atBreak(code)\n    }\n\n    effects.consume(code)\n    data = data || !markdownSpace(code)\n    return code === 92 ? labelEscape : label\n  }\n\n  function labelEscape(code) {\n    if (code === 91 || code === 92 || code === 93) {\n      effects.consume(code)\n      size++\n      return label\n    }\n\n    return label(code)\n  }\n}\n\nmodule.exports = labelFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nfunction whitespaceFactory(effects, ok) {\n  var seen\n  return start\n\n  function start(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      seen = true\n      return start\n    }\n\n    if (markdownSpace(code)) {\n      return factorySpace(\n        effects,\n        start,\n        seen ? 'linePrefix' : 'lineSuffix'\n      )(code)\n    }\n\n    return ok(code)\n  }\n}\n\nmodule.exports = whitespaceFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('./factory-space.js')\n\nfunction titleFactory(effects, ok, nok, type, markerType, stringType) {\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter(type)\n    effects.enter(markerType)\n    effects.consume(code)\n    effects.exit(markerType)\n    marker = code === 40 ? 41 : code\n    return atFirstTitleBreak\n  }\n\n  function atFirstTitleBreak(code) {\n    if (code === marker) {\n      effects.enter(markerType)\n      effects.consume(code)\n      effects.exit(markerType)\n      effects.exit(type)\n      return ok\n    }\n\n    effects.enter(stringType)\n    return atTitleBreak(code)\n  }\n\n  function atTitleBreak(code) {\n    if (code === marker) {\n      effects.exit(stringType)\n      return atFirstTitleBreak(marker)\n    }\n\n    if (code === null) {\n      return nok(code)\n    } // Note: blank lines cant exist in content.\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return factorySpace(effects, atTitleBreak, 'linePrefix')\n    }\n\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return title(code)\n  }\n\n  function title(code) {\n    if (code === marker || code === null || markdownLineEnding(code)) {\n      effects.exit('chunkString')\n      return atTitleBreak(code)\n    }\n\n    effects.consume(code)\n    return code === 92 ? titleEscape : title\n  }\n\n  function titleEscape(code) {\n    if (code === marker || code === 92) {\n      effects.consume(code)\n      return title\n    }\n\n    return title(code)\n  }\n}\n\nmodule.exports = titleFactory\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nvar thematicBreak = {\n  name: 'thematicBreak',\n  tokenize: tokenizeThematicBreak\n}\n\nfunction tokenizeThematicBreak(effects, ok, nok) {\n  var size = 0\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('thematicBreak')\n    marker = code\n    return atBreak(code)\n  }\n\n  function atBreak(code) {\n    if (code === marker) {\n      effects.enter('thematicBreakSequence')\n      return sequence(code)\n    }\n\n    if (markdownSpace(code)) {\n      return factorySpace(effects, atBreak, 'whitespace')(code)\n    }\n\n    if (size < 3 || (code !== null && !markdownLineEnding(code))) {\n      return nok(code)\n    }\n\n    effects.exit('thematicBreak')\n    return ok(code)\n  }\n\n  function sequence(code) {\n    if (code === marker) {\n      effects.consume(code)\n      size++\n      return sequence\n    }\n\n    effects.exit('thematicBreakSequence')\n    return atBreak(code)\n  }\n}\n\nmodule.exports = thematicBreak\n","'use strict'\n\nmodule.exports = visitParents\n\nvar convert = require('unist-util-is/convert')\nvar color = require('./color')\n\nvar CONTINUE = true\nvar SKIP = 'skip'\nvar EXIT = false\n\nvisitParents.CONTINUE = CONTINUE\nvisitParents.SKIP = SKIP\nvisitParents.EXIT = EXIT\n\nfunction visitParents(tree, test, visitor, reverse) {\n  var step\n  var is\n\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    visitor = test\n    test = null\n  }\n\n  is = convert(test)\n  step = reverse ? -1 : 1\n\n  factory(tree, null, [])()\n\n  function factory(node, index, parents) {\n    var value = typeof node === 'object' && node !== null ? node : {}\n    var name\n\n    if (typeof value.type === 'string') {\n      name =\n        typeof value.tagName === 'string'\n          ? value.tagName\n          : typeof value.name === 'string'\n          ? value.name\n          : undefined\n\n      visit.displayName =\n        'node (' + color(value.type + (name ? '<' + name + '>' : '')) + ')'\n    }\n\n    return visit\n\n    function visit() {\n      var grandparents = parents.concat(node)\n      var result = []\n      var subresult\n      var offset\n\n      if (!test || is(node, index, parents[parents.length - 1] || null)) {\n        result = toResult(visitor(node, parents))\n\n        if (result[0] === EXIT) {\n          return result\n        }\n      }\n\n      if (node.children && result[0] !== SKIP) {\n        offset = (reverse ? node.children.length : -1) + step\n\n        while (offset > -1 && offset < node.children.length) {\n          subresult = factory(node.children[offset], offset, grandparents)()\n\n          if (subresult[0] === EXIT) {\n            return subresult\n          }\n\n          offset =\n            typeof subresult[1] === 'number' ? subresult[1] : offset + step\n        }\n      }\n\n      return result\n    }\n  }\n}\n\nfunction toResult(value) {\n  if (value !== null && typeof value === 'object' && 'length' in value) {\n    return value\n  }\n\n  if (typeof value === 'number') {\n    return [CONTINUE, value]\n  }\n\n  return [value]\n}\n","'use strict'\n\nmodule.exports = convert\n\nfunction convert(test) {\n  if (test == null) {\n    return ok\n  }\n\n  if (typeof test === 'string') {\n    return typeFactory(test)\n  }\n\n  if (typeof test === 'object') {\n    return 'length' in test ? anyFactory(test) : allFactory(test)\n  }\n\n  if (typeof test === 'function') {\n    return test\n  }\n\n  throw new Error('Expected function, string, or object as test')\n}\n\n// Utility assert each property in `test` is represented in `node`, and each\n// values are strictly equal.\nfunction allFactory(test) {\n  return all\n\n  function all(node) {\n    var key\n\n    for (key in test) {\n      if (node[key] !== test[key]) return false\n    }\n\n    return true\n  }\n}\n\nfunction anyFactory(tests) {\n  var checks = []\n  var index = -1\n\n  while (++index < tests.length) {\n    checks[index] = convert(tests[index])\n  }\n\n  return any\n\n  function any() {\n    var index = -1\n\n    while (++index < checks.length) {\n      if (checks[index].apply(this, arguments)) {\n        return true\n      }\n    }\n\n    return false\n  }\n}\n\n// Utility to convert a string into a function which checks a given nodes type\n// for said string.\nfunction typeFactory(test) {\n  return type\n\n  function type(node) {\n    return Boolean(node && node.type === test)\n  }\n}\n\n// Utility to return true.\nfunction ok() {\n  return true\n}\n","'use strict'\n\nvar syntax = require('micromark-extension-gfm')\nvar fromMarkdown = require('mdast-util-gfm/from-markdown')\nvar toMarkdown = require('mdast-util-gfm/to-markdown')\n\nvar warningIssued\n\nmodule.exports = gfm\n\nfunction gfm(options) {\n  var data = this.data()\n\n  /* istanbul ignore next - old remark. */\n  if (\n    !warningIssued &&\n    ((this.Parser &&\n      this.Parser.prototype &&\n      this.Parser.prototype.blockTokenizers) ||\n      (this.Compiler &&\n        this.Compiler.prototype &&\n        this.Compiler.prototype.visitors))\n  ) {\n    warningIssued = true\n    console.warn(\n      '[remark-gfm] Warning: please upgrade to remark 13 to use this plugin'\n    )\n  }\n\n  add('micromarkExtensions', syntax(options))\n  add('fromMarkdownExtensions', fromMarkdown)\n  add('toMarkdownExtensions', toMarkdown(options))\n\n  function add(field, value) {\n    /* istanbul ignore if - other extensions. */\n    if (data[field]) data[field].push(value)\n    else data[field] = [value]\n  }\n}\n","module.exports = phrasing\n\nfunction phrasing(parent, context, safeOptions) {\n  var children = parent.children || []\n  var results = []\n  var index = -1\n  var before = safeOptions.before\n  var after\n  var handle\n  var child\n\n  while (++index < children.length) {\n    child = children[index]\n\n    if (index + 1 < children.length) {\n      handle = context.handle.handlers[children[index + 1].type]\n      if (handle && handle.peek) handle = handle.peek\n      after = handle\n        ? handle(children[index + 1], parent, context, {\n            before: '',\n            after: ''\n          }).charAt(0)\n        : ''\n    } else {\n      after = safeOptions.after\n    }\n\n    // In some cases, html (text) can be found in phrasing right after an eol.\n    // When wed serialize that, in most cases that would be seen as html\n    // (flow).\n    // As we cant escape or so to prevent it from happening, we take a somewhat\n    // reasonable approach: replace that eol with a space.\n    // See: <https://github.com/syntax-tree/mdast-util-to-markdown/issues/15>\n    if (\n      results.length > 0 &&\n      (before === '\\r' || before === '\\n') &&\n      child.type === 'html'\n    ) {\n      results[results.length - 1] = results[results.length - 1].replace(\n        /(\\r?\\n|\\r)$/,\n        ' '\n      )\n      before = ' '\n    }\n\n    results.push(\n      context.handle(child, parent, context, {\n        before: before,\n        after: after\n      })\n    )\n\n    before = results[results.length - 1].slice(-1)\n  }\n\n  return results.join('')\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _moment = _interopRequireDefault(require(\"rc-picker/lib/generate/moment\"));\n\nvar _generatePicker = _interopRequireDefault(require(\"./generatePicker\"));\n\nvar DatePicker = (0, _generatePicker[\"default\"])(_moment[\"default\"]);\nvar _default = DatePicker;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _omit = _interopRequireDefault(require(\"omit.js\"));\n\nvar _CloseOutlined = _interopRequireDefault(require(\"@ant-design/icons/CloseOutlined\"));\n\nvar _CheckableTag = _interopRequireDefault(require(\"./CheckableTag\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _colors = require(\"../_util/colors\");\n\nvar _wave = _interopRequireDefault(require(\"../_util/wave\"));\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar PresetColorRegex = new RegExp(\"^(\".concat(_colors.PresetColorTypes.join('|'), \")(-inverse)?$\"));\nvar PresetStatusColorRegex = new RegExp(\"^(\".concat(_colors.PresetStatusColorTypes.join('|'), \")$\"));\n\nvar InternalTag = function InternalTag(_a, ref) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      className = _a.className,\n      style = _a.style,\n      children = _a.children,\n      icon = _a.icon,\n      color = _a.color,\n      onClose = _a.onClose,\n      closeIcon = _a.closeIcon,\n      _a$closable = _a.closable,\n      closable = _a$closable === void 0 ? false : _a$closable,\n      props = __rest(_a, [\"prefixCls\", \"className\", \"style\", \"children\", \"icon\", \"color\", \"onClose\", \"closeIcon\", \"closable\"]);\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var _React$useState = React.useState(true),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      visible = _React$useState2[0],\n      setVisible = _React$useState2[1];\n\n  React.useEffect(function () {\n    if ('visible' in props) {\n      setVisible(props.visible);\n    }\n  }, [props.visible]);\n\n  var isPresetColor = function isPresetColor() {\n    if (!color) {\n      return false;\n    }\n\n    return PresetColorRegex.test(color) || PresetStatusColorRegex.test(color);\n  };\n\n  var tagStyle = (0, _extends2[\"default\"])({\n    backgroundColor: color && !isPresetColor() ? color : undefined\n  }, style);\n  var presetColor = isPresetColor();\n  var prefixCls = getPrefixCls('tag', customizePrefixCls);\n  var tagClassName = (0, _classnames[\"default\"])(prefixCls, (_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-\").concat(color), presetColor), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-has-color\"), color && !presetColor), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-hidden\"), !visible), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n\n  var handleCloseClick = function handleCloseClick(e) {\n    e.stopPropagation();\n\n    if (onClose) {\n      onClose(e);\n    }\n\n    if (e.defaultPrevented) {\n      return;\n    }\n\n    if (!('visible' in props)) {\n      setVisible(false);\n    }\n  };\n\n  var renderCloseIcon = function renderCloseIcon() {\n    if (closable) {\n      return closeIcon ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-close-icon\"),\n        onClick: handleCloseClick\n      }, closeIcon) : /*#__PURE__*/React.createElement(_CloseOutlined[\"default\"], {\n        className: \"\".concat(prefixCls, \"-close-icon\"),\n        onClick: handleCloseClick\n      });\n    }\n\n    return null;\n  };\n\n  var isNeedWave = 'onClick' in props || children && children.type === 'a';\n  var tagProps = (0, _omit[\"default\"])(props, ['visible']);\n  var iconNode = icon || null;\n  var kids = iconNode ? /*#__PURE__*/React.createElement(React.Fragment, null, iconNode, /*#__PURE__*/React.createElement(\"span\", null, children)) : children;\n  var tagNode = /*#__PURE__*/React.createElement(\"span\", (0, _extends2[\"default\"])({}, tagProps, {\n    ref: ref,\n    className: tagClassName,\n    style: tagStyle\n  }), kids, renderCloseIcon());\n  return isNeedWave ? /*#__PURE__*/React.createElement(_wave[\"default\"], null, tagNode) : tagNode;\n};\n\nvar Tag = /*#__PURE__*/React.forwardRef(InternalTag);\nTag.displayName = 'Tag';\nTag.CheckableTag = _CheckableTag[\"default\"];\nvar _default = Tag;\nexports[\"default\"] = _default;","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _CalendarOutlined = _interopRequireDefault(require('./lib/icons/CalendarOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _CalendarOutlined;\n  exports.default = _default;\n  module.exports = _default;","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _ClockCircleOutlined = _interopRequireDefault(require('./lib/icons/ClockCircleOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _ClockCircleOutlined;\n  exports.default = _default;\n  module.exports = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPlaceholder = getPlaceholder;\nexports.getRangePlaceholder = getRangePlaceholder;\n\nfunction getPlaceholder(picker, locale, customizePlaceholder) {\n  if (customizePlaceholder !== undefined) {\n    return customizePlaceholder;\n  }\n\n  if (picker === 'year' && locale.lang.yearPlaceholder) {\n    return locale.lang.yearPlaceholder;\n  }\n\n  if (picker === 'quarter' && locale.lang.quarterPlaceholder) {\n    return locale.lang.quarterPlaceholder;\n  }\n\n  if (picker === 'month' && locale.lang.monthPlaceholder) {\n    return locale.lang.monthPlaceholder;\n  }\n\n  if (picker === 'week' && locale.lang.weekPlaceholder) {\n    return locale.lang.weekPlaceholder;\n  }\n\n  if (picker === 'time' && locale.timePickerLocale.placeholder) {\n    return locale.timePickerLocale.placeholder;\n  }\n\n  return locale.lang.placeholder;\n}\n\nfunction getRangePlaceholder(picker, locale, customizePlaceholder) {\n  if (customizePlaceholder !== undefined) {\n    return customizePlaceholder;\n  }\n\n  if (picker === 'year' && locale.lang.yearPlaceholder) {\n    return locale.lang.rangeYearPlaceholder;\n  }\n\n  if (picker === 'month' && locale.lang.monthPlaceholder) {\n    return locale.lang.rangeMonthPlaceholder;\n  }\n\n  if (picker === 'week' && locale.lang.weekPlaceholder) {\n    return locale.lang.rangeWeekPlaceholder;\n  }\n\n  if (picker === 'time' && locale.timePickerLocale.placeholder) {\n    return locale.timePickerLocale.rangePlaceholder;\n  }\n\n  return locale.lang.rangePlaceholder;\n}","import * as React from 'react';\nvar PanelContext = /*#__PURE__*/React.createContext({});\nexport default PanelContext;","import * as React from 'react';\nimport PanelContext from '../PanelContext';\nvar HIDDEN_STYLE = {\n  visibility: 'hidden'\n};\n\nfunction Header(_ref) {\n  var prefixCls = _ref.prefixCls,\n      _ref$prevIcon = _ref.prevIcon,\n      prevIcon = _ref$prevIcon === void 0 ? \"\\u2039\" : _ref$prevIcon,\n      _ref$nextIcon = _ref.nextIcon,\n      nextIcon = _ref$nextIcon === void 0 ? \"\\u203A\" : _ref$nextIcon,\n      _ref$superPrevIcon = _ref.superPrevIcon,\n      superPrevIcon = _ref$superPrevIcon === void 0 ? \"\\xAB\" : _ref$superPrevIcon,\n      _ref$superNextIcon = _ref.superNextIcon,\n      superNextIcon = _ref$superNextIcon === void 0 ? \"\\xBB\" : _ref$superNextIcon,\n      onSuperPrev = _ref.onSuperPrev,\n      onSuperNext = _ref.onSuperNext,\n      onPrev = _ref.onPrev,\n      onNext = _ref.onNext,\n      children = _ref.children;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideNextBtn = _React$useContext.hideNextBtn,\n      hidePrevBtn = _React$useContext.hidePrevBtn;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: prefixCls\n  }, onSuperPrev && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onSuperPrev,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-super-prev-btn\"),\n    style: hidePrevBtn ? HIDDEN_STYLE : {}\n  }, superPrevIcon), onPrev && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onPrev,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-prev-btn\"),\n    style: hidePrevBtn ? HIDDEN_STYLE : {}\n  }, prevIcon), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-view\")\n  }, children), onNext && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onNext,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-next-btn\"),\n    style: hideNextBtn ? HIDDEN_STYLE : {}\n  }, nextIcon), onSuperNext && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onSuperNext,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-super-next-btn\"),\n    style: hideNextBtn ? HIDDEN_STYLE : {}\n  }, superNextIcon));\n}\n\nexport default Header;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Header from '../Header';\nimport { DECADE_DISTANCE_COUNT } from '.';\nimport PanelContext from '../../PanelContext';\n\nfunction DecadeHeader(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      viewDate = props.viewDate,\n      onPrevDecades = props.onPrevDecades,\n      onNextDecades = props.onNextDecades;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  var yearNumber = generateConfig.getYear(viewDate);\n  var startYear = Math.floor(yearNumber / DECADE_DISTANCE_COUNT) * DECADE_DISTANCE_COUNT;\n  var endYear = startYear + DECADE_DISTANCE_COUNT - 1;\n  return /*#__PURE__*/React.createElement(Header, _extends({}, props, {\n    prefixCls: headerPrefixCls,\n    onSuperPrev: onPrevDecades,\n    onSuperNext: onNextDecades\n  }), startYear, \"-\", endYear);\n}\n\nexport default DecadeHeader;","export function setTime(generateConfig, date, hour, minute, second) {\n  var nextTime = generateConfig.setHour(date, hour);\n  nextTime = generateConfig.setMinute(nextTime, minute);\n  nextTime = generateConfig.setSecond(nextTime, second);\n  return nextTime;\n}\nexport function getLowerBoundTime(hour, minute, second, hourStep, minuteStep, secondStep) {\n  var lowerBoundHour = Math.floor(hour / hourStep) * hourStep;\n\n  if (lowerBoundHour < hour) {\n    return [lowerBoundHour, 60 - minuteStep, 60 - secondStep];\n  }\n\n  var lowerBoundMinute = Math.floor(minute / minuteStep) * minuteStep;\n\n  if (lowerBoundMinute < minute) {\n    return [lowerBoundHour, lowerBoundMinute, 60 - secondStep];\n  }\n\n  var lowerBoundSecond = Math.floor(second / secondStep) * secondStep;\n  return [lowerBoundHour, lowerBoundMinute, lowerBoundSecond];\n}\nexport function getLastDay(generateConfig, date) {\n  var year = generateConfig.getYear(date);\n  var month = generateConfig.getMonth(date) + 1;\n  var endDate = generateConfig.getEndDate(generateConfig.getFixedDate(\"\".concat(year, \"-\").concat(month, \"-01\")));\n  var lastDay = generateConfig.getDate(endDate);\n  var monthShow = month < 10 ? \"0\".concat(month) : \"\".concat(month);\n  return \"\".concat(year, \"-\").concat(monthShow, \"-\").concat(lastDay);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport PanelContext from '../PanelContext';\nimport { getLastDay } from '../utils/timeUtil';\nimport { getCellDateDisabled } from '../utils/dateUtil';\nexport default function PanelBody(_ref) {\n  var prefixCls = _ref.prefixCls,\n      disabledDate = _ref.disabledDate,\n      onSelect = _ref.onSelect,\n      picker = _ref.picker,\n      rowNum = _ref.rowNum,\n      colNum = _ref.colNum,\n      prefixColumn = _ref.prefixColumn,\n      rowClassName = _ref.rowClassName,\n      baseDate = _ref.baseDate,\n      getCellClassName = _ref.getCellClassName,\n      getCellText = _ref.getCellText,\n      getCellNode = _ref.getCellNode,\n      getCellDate = _ref.getCellDate,\n      generateConfig = _ref.generateConfig,\n      titleCell = _ref.titleCell,\n      headerCells = _ref.headerCells;\n\n  var _React$useContext = React.useContext(PanelContext),\n      onDateMouseEnter = _React$useContext.onDateMouseEnter,\n      onDateMouseLeave = _React$useContext.onDateMouseLeave,\n      mode = _React$useContext.mode;\n\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\"); // =============================== Body ===============================\n\n  var rows = [];\n\n  for (var i = 0; i < rowNum; i += 1) {\n    var row = [];\n    var rowStartDate = void 0;\n\n    var _loop = function _loop(j) {\n      var _objectSpread2;\n\n      var offset = i * colNum + j;\n      var currentDate = getCellDate(baseDate, offset);\n      var disabled = getCellDateDisabled({\n        cellDate: currentDate,\n        mode: mode,\n        disabledDate: disabledDate,\n        generateConfig: generateConfig\n      });\n\n      if (j === 0) {\n        rowStartDate = currentDate;\n\n        if (prefixColumn) {\n          row.push(prefixColumn(rowStartDate));\n        }\n      }\n\n      var title = titleCell && titleCell(currentDate);\n      row.push( /*#__PURE__*/React.createElement(\"td\", {\n        key: j,\n        title: title,\n        className: classNames(cellPrefixCls, _objectSpread((_objectSpread2 = {}, _defineProperty(_objectSpread2, \"\".concat(cellPrefixCls, \"-disabled\"), disabled), _defineProperty(_objectSpread2, \"\".concat(cellPrefixCls, \"-start\"), getCellText(currentDate) === 1 || picker === 'year' && Number(title) % 10 === 0), _defineProperty(_objectSpread2, \"\".concat(cellPrefixCls, \"-end\"), title === getLastDay(generateConfig, currentDate) || picker === 'year' && Number(title) % 10 === 9), _objectSpread2), getCellClassName(currentDate))),\n        onClick: function onClick() {\n          if (!disabled) {\n            onSelect(currentDate);\n          }\n        },\n        onMouseEnter: function onMouseEnter() {\n          if (!disabled && onDateMouseEnter) {\n            onDateMouseEnter(currentDate);\n          }\n        },\n        onMouseLeave: function onMouseLeave() {\n          if (!disabled && onDateMouseLeave) {\n            onDateMouseLeave(currentDate);\n          }\n        }\n      }, getCellNode ? getCellNode(currentDate) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(cellPrefixCls, \"-inner\")\n      }, getCellText(currentDate))));\n    };\n\n    for (var j = 0; j < colNum; j += 1) {\n      _loop(j);\n    }\n\n    rows.push( /*#__PURE__*/React.createElement(\"tr\", {\n      key: i,\n      className: rowClassName && rowClassName(rowStartDate)\n    }, row));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-body\")\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"\".concat(prefixCls, \"-content\")\n  }, headerCells && /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, headerCells)), /*#__PURE__*/React.createElement(\"tbody\", null, rows)));\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport { DECADE_DISTANCE_COUNT, DECADE_UNIT_DIFF } from '.';\nimport PanelBody from '../PanelBody';\nexport var DECADE_COL_COUNT = 3;\nvar DECADE_ROW_COUNT = 4;\n\nfunction DecadeBody(props) {\n  var DECADE_UNIT_DIFF_DES = DECADE_UNIT_DIFF - 1;\n  var prefixCls = props.prefixCls,\n      viewDate = props.viewDate,\n      generateConfig = props.generateConfig;\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n  var yearNumber = generateConfig.getYear(viewDate);\n  var decadeYearNumber = Math.floor(yearNumber / DECADE_UNIT_DIFF) * DECADE_UNIT_DIFF;\n  var startDecadeYear = Math.floor(yearNumber / DECADE_DISTANCE_COUNT) * DECADE_DISTANCE_COUNT;\n  var endDecadeYear = startDecadeYear + DECADE_DISTANCE_COUNT - 1;\n  var baseDecadeYear = generateConfig.setYear(viewDate, startDecadeYear - Math.ceil((DECADE_COL_COUNT * DECADE_ROW_COUNT * DECADE_UNIT_DIFF - DECADE_DISTANCE_COUNT) / 2));\n\n  var getCellClassName = function getCellClassName(date) {\n    var _ref;\n\n    var startDecadeNumber = generateConfig.getYear(date);\n    var endDecadeNumber = startDecadeNumber + DECADE_UNIT_DIFF_DES;\n    return _ref = {}, _defineProperty(_ref, \"\".concat(cellPrefixCls, \"-in-view\"), startDecadeYear <= startDecadeNumber && endDecadeNumber <= endDecadeYear), _defineProperty(_ref, \"\".concat(cellPrefixCls, \"-selected\"), startDecadeNumber === decadeYearNumber), _ref;\n  };\n\n  return /*#__PURE__*/React.createElement(PanelBody, _extends({}, props, {\n    rowNum: DECADE_ROW_COUNT,\n    colNum: DECADE_COL_COUNT,\n    baseDate: baseDecadeYear,\n    getCellText: function getCellText(date) {\n      var startDecadeNumber = generateConfig.getYear(date);\n      return \"\".concat(startDecadeNumber, \"-\").concat(startDecadeNumber + DECADE_UNIT_DIFF_DES);\n    },\n    getCellClassName: getCellClassName,\n    getCellDate: function getCellDate(date, offset) {\n      return generateConfig.addYear(date, offset * DECADE_UNIT_DIFF);\n    }\n  }));\n}\n\nexport default DecadeBody;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport raf from \"rc-util/es/raf\";\nimport isVisible from \"rc-util/es/Dom/isVisible\";\nvar scrollIds = new Map();\n/** Trigger when element is visible in view */\n\nexport function waitElementReady(element, callback) {\n  var id;\n\n  function tryOrNextFrame() {\n    if (isVisible(element)) {\n      callback();\n    } else {\n      id = raf(function () {\n        tryOrNextFrame();\n      });\n    }\n  }\n\n  tryOrNextFrame();\n  return function () {\n    raf.cancel(id);\n  };\n}\n/* eslint-disable no-param-reassign */\n\nexport function scrollTo(element, to, duration) {\n  if (scrollIds.get(element)) {\n    cancelAnimationFrame(scrollIds.get(element));\n  } // jump to target if duration zero\n\n\n  if (duration <= 0) {\n    scrollIds.set(element, requestAnimationFrame(function () {\n      element.scrollTop = to;\n    }));\n    return;\n  }\n\n  var difference = to - element.scrollTop;\n  var perTick = difference / duration * 10;\n  scrollIds.set(element, requestAnimationFrame(function () {\n    element.scrollTop += perTick;\n\n    if (element.scrollTop !== to) {\n      scrollTo(element, to, duration - 10);\n    }\n  }));\n}\nexport function createKeyDownHandler(event, _ref) {\n  var onLeftRight = _ref.onLeftRight,\n      onCtrlLeftRight = _ref.onCtrlLeftRight,\n      onUpDown = _ref.onUpDown,\n      onPageUpDown = _ref.onPageUpDown,\n      onEnter = _ref.onEnter;\n  var which = event.which,\n      ctrlKey = event.ctrlKey,\n      metaKey = event.metaKey;\n\n  switch (which) {\n    case KeyCode.LEFT:\n      if (ctrlKey || metaKey) {\n        if (onCtrlLeftRight) {\n          onCtrlLeftRight(-1);\n          return true;\n        }\n      } else if (onLeftRight) {\n        onLeftRight(-1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.RIGHT:\n      if (ctrlKey || metaKey) {\n        if (onCtrlLeftRight) {\n          onCtrlLeftRight(1);\n          return true;\n        }\n      } else if (onLeftRight) {\n        onLeftRight(1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.UP:\n      if (onUpDown) {\n        onUpDown(-1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.DOWN:\n      if (onUpDown) {\n        onUpDown(1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.PAGE_UP:\n      if (onPageUpDown) {\n        onPageUpDown(-1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.PAGE_DOWN:\n      if (onPageUpDown) {\n        onPageUpDown(1);\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n\n    case KeyCode.ENTER:\n      if (onEnter) {\n        onEnter();\n        return true;\n      }\n      /* istanbul ignore next */\n\n\n      break;\n  }\n\n  return false;\n} // ===================== Format =====================\n\nexport function getDefaultFormat(format, picker, showTime, use12Hours) {\n  var mergedFormat = format;\n\n  if (!mergedFormat) {\n    switch (picker) {\n      case 'time':\n        mergedFormat = use12Hours ? 'hh:mm:ss a' : 'HH:mm:ss';\n        break;\n\n      case 'week':\n        mergedFormat = 'gggg-wo';\n        break;\n\n      case 'month':\n        mergedFormat = 'YYYY-MM';\n        break;\n\n      case 'quarter':\n        mergedFormat = 'YYYY-[Q]Q';\n        break;\n\n      case 'year':\n        mergedFormat = 'YYYY';\n        break;\n\n      default:\n        mergedFormat = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n    }\n  }\n\n  return mergedFormat;\n}\nexport function getInputSize(picker, format, generateConfig) {\n  var defaultSize = picker === 'time' ? 8 : 10;\n  var length = typeof format === 'function' ? format(generateConfig.getNow()).length : format.length;\n  return Math.max(defaultSize, length) + 2;\n}\nvar globalClickFunc = null;\nvar clickCallbacks = new Set();\nexport function addGlobalMouseDownEvent(callback) {\n  if (!globalClickFunc && typeof window !== 'undefined' && window.addEventListener) {\n    globalClickFunc = function globalClickFunc(e) {\n      // Clone a new list to avoid repeat trigger events\n      _toConsumableArray(clickCallbacks).forEach(function (queueFunc) {\n        queueFunc(e);\n      });\n    };\n\n    window.addEventListener('mousedown', globalClickFunc);\n  }\n\n  clickCallbacks.add(callback);\n  return function () {\n    clickCallbacks.delete(callback);\n\n    if (clickCallbacks.size === 0) {\n      window.removeEventListener('mousedown', globalClickFunc);\n      globalClickFunc = null;\n    }\n  };\n} // ====================== Mode ======================\n\nvar getYearNextMode = function getYearNextMode(next) {\n  if (next === 'month' || next === 'date') {\n    return 'year';\n  }\n\n  return next;\n};\n\nvar getMonthNextMode = function getMonthNextMode(next) {\n  if (next === 'date') {\n    return 'month';\n  }\n\n  return next;\n};\n\nvar getQuarterNextMode = function getQuarterNextMode(next) {\n  if (next === 'month' || next === 'date') {\n    return 'quarter';\n  }\n\n  return next;\n};\n\nvar getWeekNextMode = function getWeekNextMode(next) {\n  if (next === 'date') {\n    return 'week';\n  }\n\n  return next;\n};\n\nexport var PickerModeMap = {\n  year: getYearNextMode,\n  month: getMonthNextMode,\n  quarter: getQuarterNextMode,\n  week: getWeekNextMode,\n  time: null,\n  date: null\n};\nexport function elementsContains(elements, target) {\n  return elements.some(function (ele) {\n    return ele && ele.contains(target);\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport DecadeHeader from './DecadeHeader';\nimport DecadeBody, { DECADE_COL_COUNT } from './DecadeBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\nexport var DECADE_UNIT_DIFF = 10;\nexport var DECADE_DISTANCE_COUNT = DECADE_UNIT_DIFF * 10;\n\nfunction DecadePanel(props) {\n  var prefixCls = props.prefixCls,\n      onViewDateChange = props.onViewDateChange,\n      generateConfig = props.generateConfig,\n      viewDate = props.viewDate,\n      operationRef = props.operationRef,\n      onSelect = props.onSelect,\n      onPanelChange = props.onPanelChange;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-decade-panel\"); // ======================= Keyboard =======================\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          onSelect(generateConfig.addYear(viewDate, diff * DECADE_UNIT_DIFF), 'key');\n        },\n        onCtrlLeftRight: function onCtrlLeftRight(diff) {\n          onSelect(generateConfig.addYear(viewDate, diff * DECADE_DISTANCE_COUNT), 'key');\n        },\n        onUpDown: function onUpDown(diff) {\n          onSelect(generateConfig.addYear(viewDate, diff * DECADE_UNIT_DIFF * DECADE_COL_COUNT), 'key');\n        },\n        onEnter: function onEnter() {\n          onPanelChange('year', viewDate);\n        }\n      });\n    }\n  }; // ==================== View Operation ====================\n\n  var onDecadesChange = function onDecadesChange(diff) {\n    var newDate = generateConfig.addYear(viewDate, diff * DECADE_DISTANCE_COUNT);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  var onInternalSelect = function onInternalSelect(date) {\n    onSelect(date, 'mouse');\n    onPanelChange('year', date);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: panelPrefixCls\n  }, /*#__PURE__*/React.createElement(DecadeHeader, _extends({}, props, {\n    prefixCls: prefixCls,\n    onPrevDecades: function onPrevDecades() {\n      onDecadesChange(-1);\n    },\n    onNextDecades: function onNextDecades() {\n      onDecadesChange(1);\n    }\n  })), /*#__PURE__*/React.createElement(DecadeBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    onSelect: onInternalSelect\n  })));\n}\n\nexport default DecadePanel;","import { DECADE_UNIT_DIFF } from '../panels/DecadePanel/index';\nexport var WEEK_DAY_COUNT = 7;\nexport function isNullEqual(value1, value2) {\n  if (!value1 && !value2) {\n    return true;\n  }\n\n  if (!value1 || !value2) {\n    return false;\n  }\n\n  return undefined;\n}\nexport function isSameDecade(generateConfig, decade1, decade2) {\n  var equal = isNullEqual(decade1, decade2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  var num1 = Math.floor(generateConfig.getYear(decade1) / 10);\n  var num2 = Math.floor(generateConfig.getYear(decade2) / 10);\n  return num1 === num2;\n}\nexport function isSameYear(generateConfig, year1, year2) {\n  var equal = isNullEqual(year1, year2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return generateConfig.getYear(year1) === generateConfig.getYear(year2);\n}\nexport function getQuarter(generateConfig, date) {\n  var quota = Math.floor(generateConfig.getMonth(date) / 3);\n  return quota + 1;\n}\nexport function isSameQuarter(generateConfig, quarter1, quarter2) {\n  var equal = isNullEqual(quarter1, quarter2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return isSameYear(generateConfig, quarter1, quarter2) && getQuarter(generateConfig, quarter1) === getQuarter(generateConfig, quarter2);\n}\nexport function isSameMonth(generateConfig, month1, month2) {\n  var equal = isNullEqual(month1, month2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return isSameYear(generateConfig, month1, month2) && generateConfig.getMonth(month1) === generateConfig.getMonth(month2);\n}\nexport function isSameDate(generateConfig, date1, date2) {\n  var equal = isNullEqual(date1, date2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return generateConfig.getYear(date1) === generateConfig.getYear(date2) && generateConfig.getMonth(date1) === generateConfig.getMonth(date2) && generateConfig.getDate(date1) === generateConfig.getDate(date2);\n}\nexport function isSameTime(generateConfig, time1, time2) {\n  var equal = isNullEqual(time1, time2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return generateConfig.getHour(time1) === generateConfig.getHour(time2) && generateConfig.getMinute(time1) === generateConfig.getMinute(time2) && generateConfig.getSecond(time1) === generateConfig.getSecond(time2);\n}\nexport function isSameWeek(generateConfig, locale, date1, date2) {\n  var equal = isNullEqual(date1, date2);\n\n  if (typeof equal === 'boolean') {\n    return equal;\n  }\n\n  return generateConfig.locale.getWeek(locale, date1) === generateConfig.locale.getWeek(locale, date2);\n}\nexport function isEqual(generateConfig, value1, value2) {\n  return isSameDate(generateConfig, value1, value2) && isSameTime(generateConfig, value1, value2);\n}\n/** Between in date but not equal of date */\n\nexport function isInRange(generateConfig, startDate, endDate, current) {\n  if (!startDate || !endDate || !current) {\n    return false;\n  }\n\n  return !isSameDate(generateConfig, startDate, current) && !isSameDate(generateConfig, endDate, current) && generateConfig.isAfter(current, startDate) && generateConfig.isAfter(endDate, current);\n}\nexport function getWeekStartDate(locale, generateConfig, value) {\n  var weekFirstDay = generateConfig.locale.getWeekFirstDay(locale);\n  var monthStartDate = generateConfig.setDate(value, 1);\n  var startDateWeekDay = generateConfig.getWeekDay(monthStartDate);\n  var alignStartDate = generateConfig.addDate(monthStartDate, weekFirstDay - startDateWeekDay);\n\n  if (generateConfig.getMonth(alignStartDate) === generateConfig.getMonth(value) && generateConfig.getDate(alignStartDate) > 1) {\n    alignStartDate = generateConfig.addDate(alignStartDate, -7);\n  }\n\n  return alignStartDate;\n}\nexport function getClosingViewDate(viewDate, picker, generateConfig) {\n  var offset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n\n  switch (picker) {\n    case 'year':\n      return generateConfig.addYear(viewDate, offset * 10);\n\n    case 'quarter':\n    case 'month':\n      return generateConfig.addYear(viewDate, offset);\n\n    default:\n      return generateConfig.addMonth(viewDate, offset);\n  }\n}\nexport function formatValue(value, _ref) {\n  var generateConfig = _ref.generateConfig,\n      locale = _ref.locale,\n      format = _ref.format;\n  return typeof format === 'function' ? format(value) : generateConfig.locale.format(locale.locale, value, format);\n}\nexport function parseValue(value, _ref2) {\n  var generateConfig = _ref2.generateConfig,\n      locale = _ref2.locale,\n      formatList = _ref2.formatList;\n\n  if (!value || typeof formatList[0] === 'function') {\n    return null;\n  }\n\n  return generateConfig.locale.parse(locale.locale, value, formatList);\n} // eslint-disable-next-line consistent-return\n\nexport function getCellDateDisabled(_ref3) {\n  var cellDate = _ref3.cellDate,\n      mode = _ref3.mode,\n      disabledDate = _ref3.disabledDate,\n      generateConfig = _ref3.generateConfig;\n  if (!disabledDate) return false; // Whether cellDate is disabled in range\n\n  var getDisabledFromRange = function getDisabledFromRange(currentMode, start, end) {\n    var current = start;\n\n    while (current <= end) {\n      var date = void 0;\n\n      switch (currentMode) {\n        case 'date':\n          {\n            date = generateConfig.setDate(cellDate, current);\n\n            if (!disabledDate(date)) {\n              return false;\n            }\n\n            break;\n          }\n\n        case 'month':\n          {\n            date = generateConfig.setMonth(cellDate, current);\n\n            if (!getCellDateDisabled({\n              cellDate: date,\n              mode: 'month',\n              generateConfig: generateConfig,\n              disabledDate: disabledDate\n            })) {\n              return false;\n            }\n\n            break;\n          }\n\n        case 'year':\n          {\n            date = generateConfig.setYear(cellDate, current);\n\n            if (!getCellDateDisabled({\n              cellDate: date,\n              mode: 'year',\n              generateConfig: generateConfig,\n              disabledDate: disabledDate\n            })) {\n              return false;\n            }\n\n            break;\n          }\n      }\n\n      current += 1;\n    }\n\n    return true;\n  };\n\n  switch (mode) {\n    case 'date':\n    case 'week':\n      {\n        return disabledDate(cellDate);\n      }\n\n    case 'month':\n      {\n        var startDate = 1;\n        var endDate = generateConfig.getDate(generateConfig.getEndDate(cellDate));\n        return getDisabledFromRange('date', startDate, endDate);\n      }\n\n    case 'quarter':\n      {\n        var startMonth = Math.floor(generateConfig.getMonth(cellDate) / 3) * 3;\n        var endMonth = startMonth + 2;\n        return getDisabledFromRange('month', startMonth, endMonth);\n      }\n\n    case 'year':\n      {\n        return getDisabledFromRange('month', 0, 11);\n      }\n\n    case 'decade':\n      {\n        var year = generateConfig.getYear(cellDate);\n        var startYear = Math.floor(year / DECADE_UNIT_DIFF) * DECADE_UNIT_DIFF;\n        var endYear = startYear + DECADE_UNIT_DIFF - 1;\n        return getDisabledFromRange('year', startYear, endYear);\n      }\n  }\n}","import * as React from 'react';\nimport Header from '../Header';\nimport PanelContext from '../../PanelContext';\nimport { formatValue } from '../../utils/dateUtil';\n\nfunction TimeHeader(props) {\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      value = props.value,\n      format = props.format;\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  return /*#__PURE__*/React.createElement(Header, {\n    prefixCls: headerPrefixCls\n  }, value ? formatValue(value, {\n    locale: locale,\n    format: format,\n    generateConfig: generateConfig\n  }) : \"\\xA0\");\n}\n\nexport default TimeHeader;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport { useRef, useLayoutEffect } from 'react';\nimport classNames from 'classnames';\nimport { scrollTo, waitElementReady } from '../../utils/uiUtil';\nimport PanelContext from '../../PanelContext';\n\nfunction TimeUnitColumn(props) {\n  var prefixCls = props.prefixCls,\n      units = props.units,\n      onSelect = props.onSelect,\n      value = props.value,\n      active = props.active,\n      hideDisabledOptions = props.hideDisabledOptions;\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n\n  var _React$useContext = React.useContext(PanelContext),\n      open = _React$useContext.open;\n\n  var ulRef = useRef(null);\n  var liRefs = useRef(new Map());\n  var scrollRef = useRef(); // `useLayoutEffect` here to avoid blink by duration is 0\n\n  useLayoutEffect(function () {\n    var li = liRefs.current.get(value);\n\n    if (li && open !== false) {\n      scrollTo(ulRef.current, li.offsetTop, 120);\n    }\n  }, [value]);\n  useLayoutEffect(function () {\n    if (open) {\n      var li = liRefs.current.get(value);\n\n      if (li) {\n        scrollRef.current = waitElementReady(li, function () {\n          scrollTo(ulRef.current, li.offsetTop, 0);\n        });\n      }\n    }\n\n    return function () {\n      var _scrollRef$current;\n\n      (_scrollRef$current = scrollRef.current) === null || _scrollRef$current === void 0 ? void 0 : _scrollRef$current.call(scrollRef);\n    };\n  }, [open]);\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: classNames(\"\".concat(prefixCls, \"-column\"), _defineProperty({}, \"\".concat(prefixCls, \"-column-active\"), active)),\n    ref: ulRef,\n    style: {\n      position: 'relative'\n    }\n  }, units.map(function (unit) {\n    var _classNames2;\n\n    if (hideDisabledOptions && unit.disabled) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: unit.value,\n      ref: function ref(element) {\n        liRefs.current.set(unit.value, element);\n      },\n      className: classNames(cellPrefixCls, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(cellPrefixCls, \"-disabled\"), unit.disabled), _defineProperty(_classNames2, \"\".concat(cellPrefixCls, \"-selected\"), value === unit.value), _classNames2)),\n      onClick: function onClick() {\n        if (unit.disabled) {\n          return;\n        }\n\n        onSelect(unit.value);\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(cellPrefixCls, \"-inner\")\n    }, unit.label));\n  }));\n}\n\nexport default TimeUnitColumn;","export function leftPad(str, length) {\n  var fill = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '0';\n  var current = String(str);\n\n  while (current.length < length) {\n    current = \"\".concat(fill).concat(str);\n  }\n\n  return current;\n}\nexport var tuple = function tuple() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args;\n};\nexport function toArray(val) {\n  if (val === null || val === undefined) {\n    return [];\n  }\n\n  return Array.isArray(val) ? val : [val];\n}\nexport default function getDataOrAriaProps(props) {\n  var retProps = {};\n  Object.keys(props).forEach(function (key) {\n    if ((key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role' || key === 'name') && key.substr(0, 7) !== 'data-__') {\n      retProps[key] = props[key];\n    }\n  });\n  return retProps;\n}\nexport function getValue(values, index) {\n  return values ? values[index] : null;\n}\nexport function updateValues(values, value, index) {\n  var newValues = [getValue(values, 0), getValue(values, 1)];\n  newValues[index] = typeof value === 'function' ? value(newValues[index]) : value;\n\n  if (!newValues[0] && !newValues[1]) {\n    return null;\n  }\n\n  return newValues;\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport TimeUnitColumn from './TimeUnitColumn';\nimport { leftPad } from '../../utils/miscUtil';\nimport { setTime as utilSetTime } from '../../utils/timeUtil';\n\nfunction shouldUnitsUpdate(prevUnits, nextUnits) {\n  if (prevUnits.length !== nextUnits.length) return true; // if any unit's disabled status is different, the units should be re-evaluted\n\n  for (var i = 0; i < prevUnits.length; i += 1) {\n    if (prevUnits[i].disabled !== nextUnits[i].disabled) return true;\n  }\n\n  return false;\n}\n\nfunction generateUnits(start, end, step, disabledUnits) {\n  var units = [];\n\n  for (var i = start; i <= end; i += step) {\n    units.push({\n      label: leftPad(i, 2),\n      value: i,\n      disabled: (disabledUnits || []).includes(i)\n    });\n  }\n\n  return units;\n}\n\nfunction TimeBody(props) {\n  var generateConfig = props.generateConfig,\n      prefixCls = props.prefixCls,\n      operationRef = props.operationRef,\n      activeColumnIndex = props.activeColumnIndex,\n      value = props.value,\n      showHour = props.showHour,\n      showMinute = props.showMinute,\n      showSecond = props.showSecond,\n      use12Hours = props.use12Hours,\n      _props$hourStep = props.hourStep,\n      hourStep = _props$hourStep === void 0 ? 1 : _props$hourStep,\n      _props$minuteStep = props.minuteStep,\n      minuteStep = _props$minuteStep === void 0 ? 1 : _props$minuteStep,\n      _props$secondStep = props.secondStep,\n      secondStep = _props$secondStep === void 0 ? 1 : _props$secondStep,\n      disabledHours = props.disabledHours,\n      disabledMinutes = props.disabledMinutes,\n      disabledSeconds = props.disabledSeconds,\n      hideDisabledOptions = props.hideDisabledOptions,\n      onSelect = props.onSelect;\n  var columns = [];\n  var contentPrefixCls = \"\".concat(prefixCls, \"-content\");\n  var columnPrefixCls = \"\".concat(prefixCls, \"-time-panel\");\n  var isPM;\n  var originHour = value ? generateConfig.getHour(value) : -1;\n  var hour = originHour;\n  var minute = value ? generateConfig.getMinute(value) : -1;\n  var second = value ? generateConfig.getSecond(value) : -1;\n\n  var setTime = function setTime(isNewPM, newHour, newMinute, newSecond) {\n    var newDate = value || generateConfig.getNow();\n    var mergedHour = Math.max(0, newHour);\n    var mergedMinute = Math.max(0, newMinute);\n    var mergedSecond = Math.max(0, newSecond);\n    newDate = utilSetTime(generateConfig, newDate, !use12Hours || !isNewPM ? mergedHour : mergedHour + 12, mergedMinute, mergedSecond);\n    return newDate;\n  }; // ========================= Unit =========================\n\n\n  var rawHours = generateUnits(0, 23, hourStep, disabledHours && disabledHours());\n  var memorizedRawHours = useMemo(function () {\n    return rawHours;\n  }, rawHours, shouldUnitsUpdate); // Should additional logic to handle 12 hours\n\n  if (use12Hours) {\n    isPM = hour >= 12; // -1 means should display AM\n\n    hour %= 12;\n  }\n\n  var _React$useMemo = React.useMemo(function () {\n    if (!use12Hours) {\n      return [false, false];\n    }\n\n    var AMPMDisabled = [true, true];\n    memorizedRawHours.forEach(function (_ref) {\n      var disabled = _ref.disabled,\n          hourValue = _ref.value;\n      if (disabled) return;\n\n      if (hourValue >= 12) {\n        AMPMDisabled[1] = false;\n      } else {\n        AMPMDisabled[0] = false;\n      }\n    });\n    return AMPMDisabled;\n  }, [use12Hours, memorizedRawHours]),\n      _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n      AMDisabled = _React$useMemo2[0],\n      PMDisabled = _React$useMemo2[1];\n\n  var hours = React.useMemo(function () {\n    if (!use12Hours) return memorizedRawHours;\n    return memorizedRawHours.filter(isPM ? function (hourMeta) {\n      return hourMeta.value >= 12;\n    } : function (hourMeta) {\n      return hourMeta.value < 12;\n    }).map(function (hourMeta) {\n      var hourValue = hourMeta.value % 12;\n      var hourLabel = hourValue === 0 ? '12' : leftPad(hourValue, 2);\n      return _objectSpread(_objectSpread({}, hourMeta), {}, {\n        label: hourLabel,\n        value: hourValue\n      });\n    });\n  }, [use12Hours, isPM, memorizedRawHours]);\n  var minutes = generateUnits(0, 59, minuteStep, disabledMinutes && disabledMinutes(originHour));\n  var seconds = generateUnits(0, 59, secondStep, disabledSeconds && disabledSeconds(originHour, minute)); // ====================== Operations ======================\n\n  operationRef.current = {\n    onUpDown: function onUpDown(diff) {\n      var column = columns[activeColumnIndex];\n\n      if (column) {\n        var valueIndex = column.units.findIndex(function (unit) {\n          return unit.value === column.value;\n        });\n        var unitLen = column.units.length;\n\n        for (var i = 1; i < unitLen; i += 1) {\n          var nextUnit = column.units[(valueIndex + diff * i + unitLen) % unitLen];\n\n          if (nextUnit.disabled !== true) {\n            column.onSelect(nextUnit.value);\n            break;\n          }\n        }\n      }\n    }\n  }; // ======================== Render ========================\n\n  function addColumnNode(condition, node, columnValue, units, onColumnSelect) {\n    if (condition !== false) {\n      columns.push({\n        node: /*#__PURE__*/React.cloneElement(node, {\n          prefixCls: columnPrefixCls,\n          value: columnValue,\n          active: activeColumnIndex === columns.length,\n          onSelect: onColumnSelect,\n          units: units,\n          hideDisabledOptions: hideDisabledOptions\n        }),\n        onSelect: onColumnSelect,\n        value: columnValue,\n        units: units\n      });\n    }\n  } // Hour\n\n\n  addColumnNode(showHour, /*#__PURE__*/React.createElement(TimeUnitColumn, {\n    key: \"hour\"\n  }), hour, hours, function (num) {\n    onSelect(setTime(isPM, num, minute, second), 'mouse');\n  }); // Minute\n\n  addColumnNode(showMinute, /*#__PURE__*/React.createElement(TimeUnitColumn, {\n    key: \"minute\"\n  }), minute, minutes, function (num) {\n    onSelect(setTime(isPM, hour, num, second), 'mouse');\n  }); // Second\n\n  addColumnNode(showSecond, /*#__PURE__*/React.createElement(TimeUnitColumn, {\n    key: \"second\"\n  }), second, seconds, function (num) {\n    onSelect(setTime(isPM, hour, minute, num), 'mouse');\n  }); // 12 Hours\n\n  var PMIndex = -1;\n\n  if (typeof isPM === 'boolean') {\n    PMIndex = isPM ? 1 : 0;\n  }\n\n  addColumnNode(use12Hours === true, /*#__PURE__*/React.createElement(TimeUnitColumn, {\n    key: \"12hours\"\n  }), PMIndex, [{\n    label: 'AM',\n    value: 0,\n    disabled: AMDisabled\n  }, {\n    label: 'PM',\n    value: 1,\n    disabled: PMDisabled\n  }], function (num) {\n    onSelect(setTime(!!num, hour, minute, second), 'mouse');\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: contentPrefixCls\n  }, columns.map(function (_ref2) {\n    var node = _ref2.node;\n    return node;\n  }));\n}\n\nexport default TimeBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport TimeHeader from './TimeHeader';\nimport TimeBody from './TimeBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\n\nvar countBoolean = function countBoolean(boolList) {\n  return boolList.filter(function (bool) {\n    return bool !== false;\n  }).length;\n};\n\nfunction TimePanel(props) {\n  var generateConfig = props.generateConfig,\n      _props$format = props.format,\n      format = _props$format === void 0 ? 'HH:mm:ss' : _props$format,\n      prefixCls = props.prefixCls,\n      active = props.active,\n      operationRef = props.operationRef,\n      showHour = props.showHour,\n      showMinute = props.showMinute,\n      showSecond = props.showSecond,\n      _props$use12Hours = props.use12Hours,\n      use12Hours = _props$use12Hours === void 0 ? false : _props$use12Hours,\n      onSelect = props.onSelect,\n      value = props.value;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-time-panel\");\n  var bodyOperationRef = React.useRef(); // ======================= Keyboard =======================\n\n  var _React$useState = React.useState(-1),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activeColumnIndex = _React$useState2[0],\n      setActiveColumnIndex = _React$useState2[1];\n\n  var columnsCount = countBoolean([showHour, showMinute, showSecond, use12Hours]);\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          setActiveColumnIndex((activeColumnIndex + diff + columnsCount) % columnsCount);\n        },\n        onUpDown: function onUpDown(diff) {\n          if (activeColumnIndex === -1) {\n            setActiveColumnIndex(0);\n          } else if (bodyOperationRef.current) {\n            bodyOperationRef.current.onUpDown(diff);\n          }\n        },\n        onEnter: function onEnter() {\n          onSelect(value || generateConfig.getNow(), 'key');\n          setActiveColumnIndex(-1);\n        }\n      });\n    },\n    onBlur: function onBlur() {\n      setActiveColumnIndex(-1);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(panelPrefixCls, _defineProperty({}, \"\".concat(panelPrefixCls, \"-active\"), active))\n  }, /*#__PURE__*/React.createElement(TimeHeader, _extends({}, props, {\n    format: format,\n    prefixCls: prefixCls\n  })), /*#__PURE__*/React.createElement(TimeBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    activeColumnIndex: activeColumnIndex,\n    operationRef: bodyOperationRef\n  })));\n}\n\nexport default TimePanel;","import * as React from 'react';\nvar RangeContext = /*#__PURE__*/React.createContext({});\nexport default RangeContext;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { isInRange } from '../utils/dateUtil';\nimport { getValue } from '../utils/miscUtil';\nexport default function useCellClassName(_ref) {\n  var cellPrefixCls = _ref.cellPrefixCls,\n      generateConfig = _ref.generateConfig,\n      rangedValue = _ref.rangedValue,\n      hoverRangedValue = _ref.hoverRangedValue,\n      isInView = _ref.isInView,\n      isSameCell = _ref.isSameCell,\n      offsetCell = _ref.offsetCell,\n      today = _ref.today,\n      value = _ref.value;\n\n  function getClassName(currentDate) {\n    var _ref2;\n\n    var prevDate = offsetCell(currentDate, -1);\n    var nextDate = offsetCell(currentDate, 1);\n    var rangeStart = getValue(rangedValue, 0);\n    var rangeEnd = getValue(rangedValue, 1);\n    var hoverStart = getValue(hoverRangedValue, 0);\n    var hoverEnd = getValue(hoverRangedValue, 1);\n    var isRangeHovered = isInRange(generateConfig, hoverStart, hoverEnd, currentDate);\n\n    function isRangeStart(date) {\n      return isSameCell(rangeStart, date);\n    }\n\n    function isRangeEnd(date) {\n      return isSameCell(rangeEnd, date);\n    }\n\n    var isHoverStart = isSameCell(hoverStart, currentDate);\n    var isHoverEnd = isSameCell(hoverEnd, currentDate);\n    var isHoverEdgeStart = (isRangeHovered || isHoverEnd) && (!isInView(prevDate) || isRangeEnd(prevDate));\n    var isHoverEdgeEnd = (isRangeHovered || isHoverStart) && (!isInView(nextDate) || isRangeStart(nextDate));\n    return _ref2 = {}, _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-in-view\"), isInView(currentDate)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-in-range\"), isInRange(generateConfig, rangeStart, rangeEnd, currentDate)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-start\"), isRangeStart(currentDate)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-end\"), isRangeEnd(currentDate)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-start-single\"), isRangeStart(currentDate) && !rangeEnd), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-end-single\"), isRangeEnd(currentDate) && !rangeStart), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-start-near-hover\"), isRangeStart(currentDate) && (isSameCell(prevDate, hoverStart) || isInRange(generateConfig, hoverStart, hoverEnd, prevDate))), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-end-near-hover\"), isRangeEnd(currentDate) && (isSameCell(nextDate, hoverEnd) || isInRange(generateConfig, hoverStart, hoverEnd, nextDate))), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover\"), isRangeHovered), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-start\"), isHoverStart), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-end\"), isHoverEnd), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-edge-start\"), isHoverEdgeStart), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-edge-end\"), isHoverEdgeEnd), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-edge-start-near-range\"), isHoverEdgeStart && isSameCell(prevDate, rangeEnd)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-range-hover-edge-end-near-range\"), isHoverEdgeEnd && isSameCell(nextDate, rangeStart)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-today\"), isSameCell(today, currentDate)), _defineProperty(_ref2, \"\".concat(cellPrefixCls, \"-selected\"), isSameCell(value, currentDate)), _ref2;\n  }\n\n  return getClassName;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { WEEK_DAY_COUNT, getWeekStartDate, isSameDate, isSameMonth, formatValue } from '../../utils/dateUtil';\nimport RangeContext from '../../RangeContext';\nimport useCellClassName from '../../hooks/useCellClassName';\nimport PanelBody from '../PanelBody';\n\nfunction DateBody(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      prefixColumn = props.prefixColumn,\n      locale = props.locale,\n      rowCount = props.rowCount,\n      viewDate = props.viewDate,\n      value = props.value,\n      dateRender = props.dateRender;\n\n  var _React$useContext = React.useContext(RangeContext),\n      rangedValue = _React$useContext.rangedValue,\n      hoverRangedValue = _React$useContext.hoverRangedValue;\n\n  var baseDate = getWeekStartDate(locale.locale, generateConfig, viewDate);\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n  var weekFirstDay = generateConfig.locale.getWeekFirstDay(locale.locale);\n  var today = generateConfig.getNow(); // ============================== Header ==============================\n\n  var headerCells = [];\n  var weekDaysLocale = locale.shortWeekDays || (generateConfig.locale.getShortWeekDays ? generateConfig.locale.getShortWeekDays(locale.locale) : []);\n\n  if (prefixColumn) {\n    headerCells.push( /*#__PURE__*/React.createElement(\"th\", {\n      key: \"empty\",\n      \"aria-label\": \"empty cell\"\n    }));\n  }\n\n  for (var i = 0; i < WEEK_DAY_COUNT; i += 1) {\n    headerCells.push( /*#__PURE__*/React.createElement(\"th\", {\n      key: i\n    }, weekDaysLocale[(i + weekFirstDay) % WEEK_DAY_COUNT]));\n  } // =============================== Body ===============================\n\n\n  var getCellClassName = useCellClassName({\n    cellPrefixCls: cellPrefixCls,\n    today: today,\n    value: value,\n    generateConfig: generateConfig,\n    rangedValue: prefixColumn ? null : rangedValue,\n    hoverRangedValue: prefixColumn ? null : hoverRangedValue,\n    isSameCell: function isSameCell(current, target) {\n      return isSameDate(generateConfig, current, target);\n    },\n    isInView: function isInView(date) {\n      return isSameMonth(generateConfig, date, viewDate);\n    },\n    offsetCell: function offsetCell(date, offset) {\n      return generateConfig.addDate(date, offset);\n    }\n  });\n  var getCellNode = dateRender ? function (date) {\n    return dateRender(date, today);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(PanelBody, _extends({}, props, {\n    rowNum: rowCount,\n    colNum: WEEK_DAY_COUNT,\n    baseDate: baseDate,\n    getCellNode: getCellNode,\n    getCellText: generateConfig.getDate,\n    getCellClassName: getCellClassName,\n    getCellDate: generateConfig.addDate,\n    titleCell: function titleCell(date) {\n      return formatValue(date, {\n        locale: locale,\n        format: 'YYYY-MM-DD',\n        generateConfig: generateConfig\n      });\n    },\n    headerCells: headerCells\n  }));\n}\n\nexport default DateBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Header from '../Header';\nimport PanelContext from '../../PanelContext';\nimport { formatValue } from '../../utils/dateUtil';\n\nfunction DateHeader(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      viewDate = props.viewDate,\n      onNextMonth = props.onNextMonth,\n      onPrevMonth = props.onPrevMonth,\n      onNextYear = props.onNextYear,\n      onPrevYear = props.onPrevYear,\n      onYearClick = props.onYearClick,\n      onMonthClick = props.onMonthClick;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  var monthsLocale = locale.shortMonths || (generateConfig.locale.getShortMonths ? generateConfig.locale.getShortMonths(locale.locale) : []);\n  var month = generateConfig.getMonth(viewDate); // =================== Month & Year ===================\n\n  var yearNode = /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    key: \"year\",\n    onClick: onYearClick,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-year-btn\")\n  }, formatValue(viewDate, {\n    locale: locale,\n    format: locale.yearFormat,\n    generateConfig: generateConfig\n  }));\n  var monthNode = /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    key: \"month\",\n    onClick: onMonthClick,\n    tabIndex: -1,\n    className: \"\".concat(prefixCls, \"-month-btn\")\n  }, locale.monthFormat ? formatValue(viewDate, {\n    locale: locale,\n    format: locale.monthFormat,\n    generateConfig: generateConfig\n  }) : monthsLocale[month]);\n  var monthYearNodes = locale.monthBeforeYear ? [monthNode, yearNode] : [yearNode, monthNode];\n  return /*#__PURE__*/React.createElement(Header, _extends({}, props, {\n    prefixCls: headerPrefixCls,\n    onSuperPrev: onPrevYear,\n    onPrev: onPrevMonth,\n    onNext: onNextMonth,\n    onSuperNext: onNextYear\n  }), monthYearNodes);\n}\n\nexport default DateHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport DateBody from './DateBody';\nimport DateHeader from './DateHeader';\nimport { WEEK_DAY_COUNT } from '../../utils/dateUtil';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\nvar DATE_ROW_COUNT = 6;\n\nfunction DatePanel(props) {\n  var prefixCls = props.prefixCls,\n      _props$panelName = props.panelName,\n      panelName = _props$panelName === void 0 ? 'date' : _props$panelName,\n      keyboardConfig = props.keyboardConfig,\n      active = props.active,\n      operationRef = props.operationRef,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      viewDate = props.viewDate,\n      onViewDateChange = props.onViewDateChange,\n      onPanelChange = props.onPanelChange,\n      _onSelect = props.onSelect;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-\").concat(panelName, \"-panel\"); // ======================= Keyboard =======================\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, _objectSpread({\n        onLeftRight: function onLeftRight(diff) {\n          _onSelect(generateConfig.addDate(value || viewDate, diff), 'key');\n        },\n        onCtrlLeftRight: function onCtrlLeftRight(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff), 'key');\n        },\n        onUpDown: function onUpDown(diff) {\n          _onSelect(generateConfig.addDate(value || viewDate, diff * WEEK_DAY_COUNT), 'key');\n        },\n        onPageUpDown: function onPageUpDown(diff) {\n          _onSelect(generateConfig.addMonth(value || viewDate, diff), 'key');\n        }\n      }, keyboardConfig));\n    }\n  }; // ==================== View Operation ====================\n\n  var onYearChange = function onYearChange(diff) {\n    var newDate = generateConfig.addYear(viewDate, diff);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  var onMonthChange = function onMonthChange(diff) {\n    var newDate = generateConfig.addMonth(viewDate, diff);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(panelPrefixCls, _defineProperty({}, \"\".concat(panelPrefixCls, \"-active\"), active))\n  }, /*#__PURE__*/React.createElement(DateHeader, _extends({}, props, {\n    prefixCls: prefixCls,\n    value: value,\n    viewDate: viewDate // View Operation\n    ,\n    onPrevYear: function onPrevYear() {\n      onYearChange(-1);\n    },\n    onNextYear: function onNextYear() {\n      onYearChange(1);\n    },\n    onPrevMonth: function onPrevMonth() {\n      onMonthChange(-1);\n    },\n    onNextMonth: function onNextMonth() {\n      onMonthChange(1);\n    },\n    onMonthClick: function onMonthClick() {\n      onPanelChange('month', viewDate);\n    },\n    onYearClick: function onYearClick() {\n      onPanelChange('year', viewDate);\n    }\n  })), /*#__PURE__*/React.createElement(DateBody, _extends({}, props, {\n    onSelect: function onSelect(date) {\n      return _onSelect(date, 'mouse');\n    },\n    prefixCls: prefixCls,\n    value: value,\n    viewDate: viewDate,\n    rowCount: DATE_ROW_COUNT\n  })));\n}\n\nexport default DatePanel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport DatePanel from '../DatePanel';\nimport TimePanel from '../TimePanel';\nimport { tuple } from '../../utils/miscUtil';\n\nfunction setTime(generateConfig, date, defaultDate) {\n  if (!defaultDate) {\n    return date;\n  }\n\n  var newDate = date;\n  newDate = generateConfig.setHour(newDate, generateConfig.getHour(defaultDate));\n  newDate = generateConfig.setMinute(newDate, generateConfig.getMinute(defaultDate));\n  newDate = generateConfig.setSecond(newDate, generateConfig.getSecond(defaultDate));\n  return newDate;\n}\n\nvar ACTIVE_PANEL = tuple('date', 'time');\n\nfunction DatetimePanel(props) {\n  var prefixCls = props.prefixCls,\n      operationRef = props.operationRef,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      disabledTime = props.disabledTime,\n      showTime = props.showTime,\n      onSelect = props.onSelect;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-datetime-panel\");\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activePanel = _React$useState2[0],\n      setActivePanel = _React$useState2[1];\n\n  var dateOperationRef = React.useRef({});\n  var timeOperationRef = React.useRef({});\n  var timeProps = _typeof(showTime) === 'object' ? _objectSpread({}, showTime) : {}; // ======================= Keyboard =======================\n\n  function getNextActive(offset) {\n    var activeIndex = ACTIVE_PANEL.indexOf(activePanel) + offset;\n    var nextActivePanel = ACTIVE_PANEL[activeIndex] || null;\n    return nextActivePanel;\n  }\n\n  var onBlur = function onBlur(e) {\n    if (timeOperationRef.current.onBlur) {\n      timeOperationRef.current.onBlur(e);\n    }\n\n    setActivePanel(null);\n  };\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      // Switch active panel\n      if (event.which === KeyCode.TAB) {\n        var nextActivePanel = getNextActive(event.shiftKey ? -1 : 1);\n        setActivePanel(nextActivePanel);\n\n        if (nextActivePanel) {\n          event.preventDefault();\n        }\n\n        return true;\n      } // Operate on current active panel\n\n\n      if (activePanel) {\n        var ref = activePanel === 'date' ? dateOperationRef : timeOperationRef;\n\n        if (ref.current && ref.current.onKeyDown) {\n          ref.current.onKeyDown(event);\n        }\n\n        return true;\n      } // Switch first active panel if operate without panel\n\n\n      if ([KeyCode.LEFT, KeyCode.RIGHT, KeyCode.UP, KeyCode.DOWN].includes(event.which)) {\n        setActivePanel('date');\n        return true;\n      }\n\n      return false;\n    },\n    onBlur: onBlur,\n    onClose: onBlur\n  }; // ======================== Events ========================\n\n  var onInternalSelect = function onInternalSelect(date, source) {\n    var selectedDate = date;\n\n    if (source === 'date' && !value && timeProps.defaultValue) {\n      // Date with time defaultValue\n      selectedDate = generateConfig.setHour(selectedDate, generateConfig.getHour(timeProps.defaultValue));\n      selectedDate = generateConfig.setMinute(selectedDate, generateConfig.getMinute(timeProps.defaultValue));\n      selectedDate = generateConfig.setSecond(selectedDate, generateConfig.getSecond(timeProps.defaultValue));\n    } else if (source === 'time' && !value && defaultValue) {\n      selectedDate = generateConfig.setYear(selectedDate, generateConfig.getYear(defaultValue));\n      selectedDate = generateConfig.setMonth(selectedDate, generateConfig.getMonth(defaultValue));\n      selectedDate = generateConfig.setDate(selectedDate, generateConfig.getDate(defaultValue));\n    }\n\n    if (onSelect) {\n      onSelect(selectedDate, 'mouse');\n    }\n  }; // ======================== Render ========================\n\n\n  var disabledTimes = disabledTime ? disabledTime(value || null) : {};\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(panelPrefixCls, _defineProperty({}, \"\".concat(panelPrefixCls, \"-active\"), activePanel))\n  }, /*#__PURE__*/React.createElement(DatePanel, _extends({}, props, {\n    operationRef: dateOperationRef,\n    active: activePanel === 'date',\n    onSelect: function onSelect(date) {\n      onInternalSelect(setTime(generateConfig, date, showTime && _typeof(showTime) === 'object' ? showTime.defaultValue : null), 'date');\n    }\n  })), /*#__PURE__*/React.createElement(TimePanel, _extends({}, props, {\n    format: undefined\n  }, timeProps, disabledTimes, {\n    defaultValue: undefined,\n    operationRef: timeOperationRef,\n    active: activePanel === 'time',\n    onSelect: function onSelect(date) {\n      onInternalSelect(date, 'time');\n    }\n  })));\n}\n\nexport default DatetimePanel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport DatePanel from '../DatePanel';\nimport { isSameWeek } from '../../utils/dateUtil';\n\nfunction WeekPanel(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      value = props.value; // Render additional column\n\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n\n  var prefixColumn = function prefixColumn(date) {\n    return /*#__PURE__*/React.createElement(\"td\", {\n      key: \"week\",\n      className: classNames(cellPrefixCls, \"\".concat(cellPrefixCls, \"-week\"))\n    }, generateConfig.locale.getWeek(locale.locale, date));\n  }; // Add row className\n\n\n  var rowPrefixCls = \"\".concat(prefixCls, \"-week-panel-row\");\n\n  var rowClassName = function rowClassName(date) {\n    return classNames(rowPrefixCls, _defineProperty({}, \"\".concat(rowPrefixCls, \"-selected\"), isSameWeek(generateConfig, locale.locale, value, date)));\n  };\n\n  return /*#__PURE__*/React.createElement(DatePanel, _extends({}, props, {\n    panelName: \"week\",\n    prefixColumn: prefixColumn,\n    rowClassName: rowClassName,\n    keyboardConfig: {\n      onLeftRight: null\n    }\n  }));\n}\n\nexport default WeekPanel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Header from '../Header';\nimport PanelContext from '../../PanelContext';\nimport { formatValue } from '../../utils/dateUtil';\n\nfunction MonthHeader(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      viewDate = props.viewDate,\n      onNextYear = props.onNextYear,\n      onPrevYear = props.onPrevYear,\n      onYearClick = props.onYearClick;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  return /*#__PURE__*/React.createElement(Header, _extends({}, props, {\n    prefixCls: headerPrefixCls,\n    onSuperPrev: onPrevYear,\n    onSuperNext: onNextYear\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onYearClick,\n    className: \"\".concat(prefixCls, \"-year-btn\")\n  }, formatValue(viewDate, {\n    locale: locale,\n    format: locale.yearFormat,\n    generateConfig: generateConfig\n  })));\n}\n\nexport default MonthHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { formatValue, isSameMonth } from '../../utils/dateUtil';\nimport RangeContext from '../../RangeContext';\nimport useCellClassName from '../../hooks/useCellClassName';\nimport PanelBody from '../PanelBody';\nexport var MONTH_COL_COUNT = 3;\nvar MONTH_ROW_COUNT = 4;\n\nfunction MonthBody(props) {\n  var prefixCls = props.prefixCls,\n      locale = props.locale,\n      value = props.value,\n      viewDate = props.viewDate,\n      generateConfig = props.generateConfig,\n      monthCellRender = props.monthCellRender;\n\n  var _React$useContext = React.useContext(RangeContext),\n      rangedValue = _React$useContext.rangedValue,\n      hoverRangedValue = _React$useContext.hoverRangedValue;\n\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n  var getCellClassName = useCellClassName({\n    cellPrefixCls: cellPrefixCls,\n    value: value,\n    generateConfig: generateConfig,\n    rangedValue: rangedValue,\n    hoverRangedValue: hoverRangedValue,\n    isSameCell: function isSameCell(current, target) {\n      return isSameMonth(generateConfig, current, target);\n    },\n    isInView: function isInView() {\n      return true;\n    },\n    offsetCell: function offsetCell(date, offset) {\n      return generateConfig.addMonth(date, offset);\n    }\n  });\n  var monthsLocale = locale.shortMonths || (generateConfig.locale.getShortMonths ? generateConfig.locale.getShortMonths(locale.locale) : []);\n  var baseMonth = generateConfig.setMonth(viewDate, 0);\n  var getCellNode = monthCellRender ? function (date) {\n    return monthCellRender(date, locale);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(PanelBody, _extends({}, props, {\n    rowNum: MONTH_ROW_COUNT,\n    colNum: MONTH_COL_COUNT,\n    baseDate: baseMonth,\n    getCellNode: getCellNode,\n    getCellText: function getCellText(date) {\n      return locale.monthFormat ? formatValue(date, {\n        locale: locale,\n        format: locale.monthFormat,\n        generateConfig: generateConfig\n      }) : monthsLocale[generateConfig.getMonth(date)];\n    },\n    getCellClassName: getCellClassName,\n    getCellDate: generateConfig.addMonth,\n    titleCell: function titleCell(date) {\n      return formatValue(date, {\n        locale: locale,\n        format: 'YYYY-MM',\n        generateConfig: generateConfig\n      });\n    }\n  }));\n}\n\nexport default MonthBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport MonthHeader from './MonthHeader';\nimport MonthBody, { MONTH_COL_COUNT } from './MonthBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\n\nfunction MonthPanel(props) {\n  var prefixCls = props.prefixCls,\n      operationRef = props.operationRef,\n      onViewDateChange = props.onViewDateChange,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      viewDate = props.viewDate,\n      onPanelChange = props.onPanelChange,\n      _onSelect = props.onSelect;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-month-panel\"); // ======================= Keyboard =======================\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          _onSelect(generateConfig.addMonth(value || viewDate, diff), 'key');\n        },\n        onCtrlLeftRight: function onCtrlLeftRight(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff), 'key');\n        },\n        onUpDown: function onUpDown(diff) {\n          _onSelect(generateConfig.addMonth(value || viewDate, diff * MONTH_COL_COUNT), 'key');\n        },\n        onEnter: function onEnter() {\n          onPanelChange('date', value || viewDate);\n        }\n      });\n    }\n  }; // ==================== View Operation ====================\n\n  var onYearChange = function onYearChange(diff) {\n    var newDate = generateConfig.addYear(viewDate, diff);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: panelPrefixCls\n  }, /*#__PURE__*/React.createElement(MonthHeader, _extends({}, props, {\n    prefixCls: prefixCls,\n    onPrevYear: function onPrevYear() {\n      onYearChange(-1);\n    },\n    onNextYear: function onNextYear() {\n      onYearChange(1);\n    },\n    onYearClick: function onYearClick() {\n      onPanelChange('year', viewDate);\n    }\n  })), /*#__PURE__*/React.createElement(MonthBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    onSelect: function onSelect(date) {\n      _onSelect(date, 'mouse');\n\n      onPanelChange('date', date);\n    }\n  })));\n}\n\nexport default MonthPanel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Header from '../Header';\nimport PanelContext from '../../PanelContext';\nimport { formatValue } from '../../utils/dateUtil';\n\nfunction QuarterHeader(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      viewDate = props.viewDate,\n      onNextYear = props.onNextYear,\n      onPrevYear = props.onPrevYear,\n      onYearClick = props.onYearClick;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  return /*#__PURE__*/React.createElement(Header, _extends({}, props, {\n    prefixCls: headerPrefixCls,\n    onSuperPrev: onPrevYear,\n    onSuperNext: onNextYear\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onYearClick,\n    className: \"\".concat(prefixCls, \"-year-btn\")\n  }, formatValue(viewDate, {\n    locale: locale,\n    format: locale.yearFormat,\n    generateConfig: generateConfig\n  })));\n}\n\nexport default QuarterHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { formatValue, isSameQuarter } from '../../utils/dateUtil';\nimport RangeContext from '../../RangeContext';\nimport useCellClassName from '../../hooks/useCellClassName';\nimport PanelBody from '../PanelBody';\nexport var QUARTER_COL_COUNT = 4;\nvar QUARTER_ROW_COUNT = 1;\n\nfunction QuarterBody(props) {\n  var prefixCls = props.prefixCls,\n      locale = props.locale,\n      value = props.value,\n      viewDate = props.viewDate,\n      generateConfig = props.generateConfig;\n\n  var _React$useContext = React.useContext(RangeContext),\n      rangedValue = _React$useContext.rangedValue,\n      hoverRangedValue = _React$useContext.hoverRangedValue;\n\n  var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n  var getCellClassName = useCellClassName({\n    cellPrefixCls: cellPrefixCls,\n    value: value,\n    generateConfig: generateConfig,\n    rangedValue: rangedValue,\n    hoverRangedValue: hoverRangedValue,\n    isSameCell: function isSameCell(current, target) {\n      return isSameQuarter(generateConfig, current, target);\n    },\n    isInView: function isInView() {\n      return true;\n    },\n    offsetCell: function offsetCell(date, offset) {\n      return generateConfig.addMonth(date, offset * 3);\n    }\n  });\n  var baseQuarter = generateConfig.setDate(generateConfig.setMonth(viewDate, 0), 1);\n  return /*#__PURE__*/React.createElement(PanelBody, _extends({}, props, {\n    rowNum: QUARTER_ROW_COUNT,\n    colNum: QUARTER_COL_COUNT,\n    baseDate: baseQuarter,\n    getCellText: function getCellText(date) {\n      return formatValue(date, {\n        locale: locale,\n        format: locale.quarterFormat || '[Q]Q',\n        generateConfig: generateConfig\n      });\n    },\n    getCellClassName: getCellClassName,\n    getCellDate: function getCellDate(date, offset) {\n      return generateConfig.addMonth(date, offset * 3);\n    },\n    titleCell: function titleCell(date) {\n      return formatValue(date, {\n        locale: locale,\n        format: 'YYYY-[Q]Q',\n        generateConfig: generateConfig\n      });\n    }\n  }));\n}\n\nexport default QuarterBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport QuarterHeader from './QuarterHeader';\nimport QuarterBody from './QuarterBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\n\nfunction QuarterPanel(props) {\n  var prefixCls = props.prefixCls,\n      operationRef = props.operationRef,\n      onViewDateChange = props.onViewDateChange,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      viewDate = props.viewDate,\n      onPanelChange = props.onPanelChange,\n      _onSelect = props.onSelect;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-quarter-panel\"); // ======================= Keyboard =======================\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          _onSelect(generateConfig.addMonth(value || viewDate, diff * 3), 'key');\n        },\n        onCtrlLeftRight: function onCtrlLeftRight(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff), 'key');\n        },\n        onUpDown: function onUpDown(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff), 'key');\n        }\n      });\n    }\n  }; // ==================== View Operation ====================\n\n  var onYearChange = function onYearChange(diff) {\n    var newDate = generateConfig.addYear(viewDate, diff);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: panelPrefixCls\n  }, /*#__PURE__*/React.createElement(QuarterHeader, _extends({}, props, {\n    prefixCls: prefixCls,\n    onPrevYear: function onPrevYear() {\n      onYearChange(-1);\n    },\n    onNextYear: function onNextYear() {\n      onYearChange(1);\n    },\n    onYearClick: function onYearClick() {\n      onPanelChange('year', viewDate);\n    }\n  })), /*#__PURE__*/React.createElement(QuarterBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    onSelect: function onSelect(date) {\n      _onSelect(date, 'mouse');\n    }\n  })));\n}\n\nexport default QuarterPanel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Header from '../Header';\nimport { YEAR_DECADE_COUNT } from '.';\nimport PanelContext from '../../PanelContext';\n\nfunction YearHeader(props) {\n  var prefixCls = props.prefixCls,\n      generateConfig = props.generateConfig,\n      viewDate = props.viewDate,\n      onPrevDecade = props.onPrevDecade,\n      onNextDecade = props.onNextDecade,\n      onDecadeClick = props.onDecadeClick;\n\n  var _React$useContext = React.useContext(PanelContext),\n      hideHeader = _React$useContext.hideHeader;\n\n  if (hideHeader) {\n    return null;\n  }\n\n  var headerPrefixCls = \"\".concat(prefixCls, \"-header\");\n  var yearNumber = generateConfig.getYear(viewDate);\n  var startYear = Math.floor(yearNumber / YEAR_DECADE_COUNT) * YEAR_DECADE_COUNT;\n  var endYear = startYear + YEAR_DECADE_COUNT - 1;\n  return /*#__PURE__*/React.createElement(Header, _extends({}, props, {\n    prefixCls: headerPrefixCls,\n    onSuperPrev: onPrevDecade,\n    onSuperNext: onNextDecade\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onDecadeClick,\n    className: \"\".concat(prefixCls, \"-decade-btn\")\n  }, startYear, \"-\", endYear));\n}\n\nexport default YearHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { YEAR_DECADE_COUNT } from '.';\nimport useCellClassName from '../../hooks/useCellClassName';\nimport { formatValue, isSameYear } from '../../utils/dateUtil';\nimport RangeContext from '../../RangeContext';\nimport PanelBody from '../PanelBody';\nexport var YEAR_COL_COUNT = 3;\nvar YEAR_ROW_COUNT = 4;\n\nfunction YearBody(props) {\n  var prefixCls = props.prefixCls,\n      value = props.value,\n      viewDate = props.viewDate,\n      locale = props.locale,\n      generateConfig = props.generateConfig;\n\n  var _React$useContext = React.useContext(RangeContext),\n      rangedValue = _React$useContext.rangedValue,\n      hoverRangedValue = _React$useContext.hoverRangedValue;\n\n  var yearPrefixCls = \"\".concat(prefixCls, \"-cell\"); // =============================== Year ===============================\n\n  var yearNumber = generateConfig.getYear(viewDate);\n  var startYear = Math.floor(yearNumber / YEAR_DECADE_COUNT) * YEAR_DECADE_COUNT;\n  var endYear = startYear + YEAR_DECADE_COUNT - 1;\n  var baseYear = generateConfig.setYear(viewDate, startYear - Math.ceil((YEAR_COL_COUNT * YEAR_ROW_COUNT - YEAR_DECADE_COUNT) / 2));\n\n  var isInView = function isInView(date) {\n    var currentYearNumber = generateConfig.getYear(date);\n    return startYear <= currentYearNumber && currentYearNumber <= endYear;\n  };\n\n  var getCellClassName = useCellClassName({\n    cellPrefixCls: yearPrefixCls,\n    value: value,\n    generateConfig: generateConfig,\n    rangedValue: rangedValue,\n    hoverRangedValue: hoverRangedValue,\n    isSameCell: function isSameCell(current, target) {\n      return isSameYear(generateConfig, current, target);\n    },\n    isInView: isInView,\n    offsetCell: function offsetCell(date, offset) {\n      return generateConfig.addYear(date, offset);\n    }\n  });\n  return /*#__PURE__*/React.createElement(PanelBody, _extends({}, props, {\n    rowNum: YEAR_ROW_COUNT,\n    colNum: YEAR_COL_COUNT,\n    baseDate: baseYear,\n    getCellText: generateConfig.getYear,\n    getCellClassName: getCellClassName,\n    getCellDate: generateConfig.addYear,\n    titleCell: function titleCell(date) {\n      return formatValue(date, {\n        locale: locale,\n        format: 'YYYY',\n        generateConfig: generateConfig\n      });\n    }\n  }));\n}\n\nexport default YearBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport YearHeader from './YearHeader';\nimport YearBody, { YEAR_COL_COUNT } from './YearBody';\nimport { createKeyDownHandler } from '../../utils/uiUtil';\nexport var YEAR_DECADE_COUNT = 10;\n\nfunction YearPanel(props) {\n  var prefixCls = props.prefixCls,\n      operationRef = props.operationRef,\n      onViewDateChange = props.onViewDateChange,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      viewDate = props.viewDate,\n      sourceMode = props.sourceMode,\n      _onSelect = props.onSelect,\n      onPanelChange = props.onPanelChange;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-year-panel\"); // ======================= Keyboard =======================\n\n  operationRef.current = {\n    onKeyDown: function onKeyDown(event) {\n      return createKeyDownHandler(event, {\n        onLeftRight: function onLeftRight(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff), 'key');\n        },\n        onCtrlLeftRight: function onCtrlLeftRight(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff * YEAR_DECADE_COUNT), 'key');\n        },\n        onUpDown: function onUpDown(diff) {\n          _onSelect(generateConfig.addYear(value || viewDate, diff * YEAR_COL_COUNT), 'key');\n        },\n        onEnter: function onEnter() {\n          onPanelChange(sourceMode === 'date' ? 'date' : 'month', value || viewDate);\n        }\n      });\n    }\n  }; // ==================== View Operation ====================\n\n  var onDecadeChange = function onDecadeChange(diff) {\n    var newDate = generateConfig.addYear(viewDate, diff * 10);\n    onViewDateChange(newDate);\n    onPanelChange(null, newDate);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: panelPrefixCls\n  }, /*#__PURE__*/React.createElement(YearHeader, _extends({}, props, {\n    prefixCls: prefixCls,\n    onPrevDecade: function onPrevDecade() {\n      onDecadeChange(-1);\n    },\n    onNextDecade: function onNextDecade() {\n      onDecadeChange(1);\n    },\n    onDecadeClick: function onDecadeClick() {\n      onPanelChange('decade', viewDate);\n    }\n  })), /*#__PURE__*/React.createElement(YearBody, _extends({}, props, {\n    prefixCls: prefixCls,\n    onSelect: function onSelect(date) {\n      onPanelChange(sourceMode === 'date' ? 'date' : 'month', date);\n\n      _onSelect(date, 'mouse');\n    }\n  })));\n}\n\nexport default YearPanel;","import * as React from 'react';\nexport default function getExtraFooter(prefixCls, mode, renderExtraFooter) {\n  if (!renderExtraFooter) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-footer-extra\")\n  }, renderExtraFooter(mode));\n}","import * as React from 'react';\nexport default function getRanges(_ref) {\n  var prefixCls = _ref.prefixCls,\n      _ref$rangeList = _ref.rangeList,\n      rangeList = _ref$rangeList === void 0 ? [] : _ref$rangeList,\n      _ref$components = _ref.components,\n      components = _ref$components === void 0 ? {} : _ref$components,\n      needConfirmButton = _ref.needConfirmButton,\n      onNow = _ref.onNow,\n      onOk = _ref.onOk,\n      okDisabled = _ref.okDisabled,\n      showNow = _ref.showNow,\n      locale = _ref.locale;\n  var presetNode;\n  var okNode;\n\n  if (rangeList.length) {\n    var Item = components.rangeItem || 'span';\n    presetNode = /*#__PURE__*/React.createElement(React.Fragment, null, rangeList.map(function (_ref2) {\n      var label = _ref2.label,\n          onClick = _ref2.onClick,\n          onMouseEnter = _ref2.onMouseEnter,\n          onMouseLeave = _ref2.onMouseLeave;\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: label,\n        className: \"\".concat(prefixCls, \"-preset\")\n      }, /*#__PURE__*/React.createElement(Item, {\n        onClick: onClick,\n        onMouseEnter: onMouseEnter,\n        onMouseLeave: onMouseLeave\n      }, label));\n    }));\n  }\n\n  if (needConfirmButton) {\n    var Button = components.button || 'button';\n\n    if (onNow && !presetNode && showNow !== false) {\n      presetNode = /*#__PURE__*/React.createElement(\"li\", {\n        className: \"\".concat(prefixCls, \"-now\")\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"\".concat(prefixCls, \"-now-btn\"),\n        onClick: onNow\n      }, locale.now));\n    }\n\n    okNode = needConfirmButton && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"\".concat(prefixCls, \"-ok\")\n    }, /*#__PURE__*/React.createElement(Button, {\n      disabled: okDisabled,\n      onClick: onOk\n    }, locale.ok));\n  }\n\n  if (!presetNode && !okNode) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(prefixCls, \"-ranges\")\n  }, presetNode, okNode);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/**\n * Logic:\n *  When `mode` === `picker`,\n *  click will trigger `onSelect` (if value changed trigger `onChange` also).\n *  Panel change will not trigger `onSelect` but trigger `onPanelChange`\n */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport warning from \"rc-util/es/warning\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport TimePanel from './panels/TimePanel';\nimport DatetimePanel from './panels/DatetimePanel';\nimport DatePanel from './panels/DatePanel';\nimport WeekPanel from './panels/WeekPanel';\nimport MonthPanel from './panels/MonthPanel';\nimport QuarterPanel from './panels/QuarterPanel';\nimport YearPanel from './panels/YearPanel';\nimport DecadePanel from './panels/DecadePanel';\nimport { isEqual } from './utils/dateUtil';\nimport PanelContext from './PanelContext';\nimport { PickerModeMap } from './utils/uiUtil';\nimport RangeContext from './RangeContext';\nimport getExtraFooter from './utils/getExtraFooter';\nimport getRanges from './utils/getRanges';\nimport { getLowerBoundTime, setTime } from './utils/timeUtil';\n\nfunction PickerPanel(props) {\n  var _classNames;\n\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n      className = props.className,\n      style = props.style,\n      locale = props.locale,\n      generateConfig = props.generateConfig,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      pickerValue = props.pickerValue,\n      defaultPickerValue = props.defaultPickerValue,\n      disabledDate = props.disabledDate,\n      mode = props.mode,\n      _props$picker = props.picker,\n      picker = _props$picker === void 0 ? 'date' : _props$picker,\n      _props$tabIndex = props.tabIndex,\n      tabIndex = _props$tabIndex === void 0 ? 0 : _props$tabIndex,\n      showNow = props.showNow,\n      showTime = props.showTime,\n      showToday = props.showToday,\n      renderExtraFooter = props.renderExtraFooter,\n      hideHeader = props.hideHeader,\n      onSelect = props.onSelect,\n      onChange = props.onChange,\n      onPanelChange = props.onPanelChange,\n      onMouseDown = props.onMouseDown,\n      onPickerValueChange = props.onPickerValueChange,\n      _onOk = props.onOk,\n      components = props.components,\n      direction = props.direction,\n      _props$hourStep = props.hourStep,\n      hourStep = _props$hourStep === void 0 ? 1 : _props$hourStep,\n      _props$minuteStep = props.minuteStep,\n      minuteStep = _props$minuteStep === void 0 ? 1 : _props$minuteStep,\n      _props$secondStep = props.secondStep,\n      secondStep = _props$secondStep === void 0 ? 1 : _props$secondStep;\n  var needConfirmButton = picker === 'date' && !!showTime || picker === 'time';\n  var isHourStepValid = 24 % hourStep === 0;\n  var isMinuteStepValid = 60 % minuteStep === 0;\n  var isSecondStepValid = 60 % secondStep === 0;\n\n  if (process.env.NODE_ENV !== 'production') {\n    warning(!value || generateConfig.isValidate(value), 'Invalidate date pass to `value`.');\n    warning(!value || generateConfig.isValidate(value), 'Invalidate date pass to `defaultValue`.');\n    warning(isHourStepValid, \"`hourStep` \".concat(hourStep, \" is invalid. It should be a factor of 24.\"));\n    warning(isMinuteStepValid, \"`minuteStep` \".concat(minuteStep, \" is invalid. It should be a factor of 60.\"));\n    warning(isSecondStepValid, \"`secondStep` \".concat(secondStep, \" is invalid. It should be a factor of 60.\"));\n  } // ============================ State =============================\n\n\n  var panelContext = React.useContext(PanelContext);\n  var operationRef = panelContext.operationRef,\n      panelDivRef = panelContext.panelRef,\n      onContextSelect = panelContext.onSelect,\n      hideRanges = panelContext.hideRanges,\n      defaultOpenValue = panelContext.defaultOpenValue;\n\n  var _React$useContext = React.useContext(RangeContext),\n      inRange = _React$useContext.inRange,\n      panelPosition = _React$useContext.panelPosition,\n      rangedValue = _React$useContext.rangedValue,\n      hoverRangedValue = _React$useContext.hoverRangedValue;\n\n  var panelRef = React.useRef({}); // Handle init logic\n\n  var initRef = React.useRef(true); // Value\n\n  var _useMergedState = useMergedState(null, {\n    value: value,\n    defaultValue: defaultValue,\n    postState: function postState(val) {\n      if (!val && defaultOpenValue && picker === 'time') {\n        return defaultOpenValue;\n      }\n\n      return val;\n    }\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedValue = _useMergedState2[0],\n      setInnerValue = _useMergedState2[1]; // View date control\n\n\n  var _useMergedState3 = useMergedState(null, {\n    value: pickerValue,\n    defaultValue: defaultPickerValue || mergedValue,\n    postState: function postState(date) {\n      return date || generateConfig.getNow();\n    }\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      viewDate = _useMergedState4[0],\n      setInnerViewDate = _useMergedState4[1];\n\n  var setViewDate = function setViewDate(date) {\n    setInnerViewDate(date);\n\n    if (onPickerValueChange) {\n      onPickerValueChange(date);\n    }\n  }; // Panel control\n\n\n  var getInternalNextMode = function getInternalNextMode(nextMode) {\n    var getNextMode = PickerModeMap[picker];\n\n    if (getNextMode) {\n      return getNextMode(nextMode);\n    }\n\n    return nextMode;\n  }; // Save panel is changed from which panel\n\n\n  var _useMergedState5 = useMergedState(function () {\n    if (picker === 'time') {\n      return 'time';\n    }\n\n    return getInternalNextMode('date');\n  }, {\n    value: mode\n  }),\n      _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n      mergedMode = _useMergedState6[0],\n      setInnerMode = _useMergedState6[1];\n\n  React.useEffect(function () {\n    setInnerMode(picker);\n  }, [picker]);\n\n  var _React$useState = React.useState(function () {\n    return mergedMode;\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      sourceMode = _React$useState2[0],\n      setSourceMode = _React$useState2[1];\n\n  var onInternalPanelChange = function onInternalPanelChange(newMode, viewValue) {\n    var nextMode = getInternalNextMode(newMode || mergedMode);\n    setSourceMode(mergedMode);\n    setInnerMode(nextMode);\n\n    if (onPanelChange && (mergedMode !== nextMode || isEqual(generateConfig, viewDate, viewDate))) {\n      onPanelChange(viewValue, nextMode);\n    }\n  };\n\n  var triggerSelect = function triggerSelect(date, type) {\n    var forceTriggerSelect = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (mergedMode === picker || forceTriggerSelect) {\n      setInnerValue(date);\n\n      if (onSelect) {\n        onSelect(date);\n      }\n\n      if (onContextSelect) {\n        onContextSelect(date, type);\n      }\n\n      if (onChange && !isEqual(generateConfig, date, mergedValue) && !(disabledDate === null || disabledDate === void 0 ? void 0 : disabledDate(date))) {\n        onChange(date);\n      }\n    }\n  }; // ========================= Interactive ==========================\n\n\n  var onInternalKeyDown = function onInternalKeyDown(e) {\n    if (panelRef.current && panelRef.current.onKeyDown) {\n      if ([KeyCode.LEFT, KeyCode.RIGHT, KeyCode.UP, KeyCode.DOWN, KeyCode.PAGE_UP, KeyCode.PAGE_DOWN, KeyCode.ENTER].includes(e.which)) {\n        e.preventDefault();\n      }\n\n      return panelRef.current.onKeyDown(e);\n    }\n    /* istanbul ignore next */\n\n    /* eslint-disable no-lone-blocks */\n\n\n    {\n      warning(false, 'Panel not correct handle keyDown event. Please help to fire issue about this.');\n      return false;\n    }\n    /* eslint-enable no-lone-blocks */\n  };\n\n  var onInternalBlur = function onInternalBlur(e) {\n    if (panelRef.current && panelRef.current.onBlur) {\n      panelRef.current.onBlur(e);\n    }\n  };\n\n  if (operationRef && panelPosition !== 'right') {\n    operationRef.current = {\n      onKeyDown: onInternalKeyDown,\n      onClose: function onClose() {\n        if (panelRef.current && panelRef.current.onClose) {\n          panelRef.current.onClose();\n        }\n      }\n    };\n  } // ============================ Effect ============================\n\n\n  React.useEffect(function () {\n    if (value && !initRef.current) {\n      setInnerViewDate(value);\n    }\n  }, [value]);\n  React.useEffect(function () {\n    initRef.current = false;\n  }, []); // ============================ Panels ============================\n\n  var panelNode;\n\n  var pickerProps = _objectSpread(_objectSpread({}, props), {}, {\n    operationRef: panelRef,\n    prefixCls: prefixCls,\n    viewDate: viewDate,\n    value: mergedValue,\n    onViewDateChange: setViewDate,\n    sourceMode: sourceMode,\n    onPanelChange: onInternalPanelChange,\n    disabledDate: disabledDate\n  });\n\n  delete pickerProps.onChange;\n  delete pickerProps.onSelect;\n\n  switch (mergedMode) {\n    case 'decade':\n      panelNode = /*#__PURE__*/React.createElement(DecadePanel, _extends({}, pickerProps, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    case 'year':\n      panelNode = /*#__PURE__*/React.createElement(YearPanel, _extends({}, pickerProps, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    case 'month':\n      panelNode = /*#__PURE__*/React.createElement(MonthPanel, _extends({}, pickerProps, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    case 'quarter':\n      panelNode = /*#__PURE__*/React.createElement(QuarterPanel, _extends({}, pickerProps, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    case 'week':\n      panelNode = /*#__PURE__*/React.createElement(WeekPanel, _extends({}, pickerProps, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    case 'time':\n      delete pickerProps.showTime;\n      panelNode = /*#__PURE__*/React.createElement(TimePanel, _extends({}, pickerProps, _typeof(showTime) === 'object' ? showTime : null, {\n        onSelect: function onSelect(date, type) {\n          setViewDate(date);\n          triggerSelect(date, type);\n        }\n      }));\n      break;\n\n    default:\n      if (showTime) {\n        panelNode = /*#__PURE__*/React.createElement(DatetimePanel, _extends({}, pickerProps, {\n          onSelect: function onSelect(date, type) {\n            setViewDate(date);\n            triggerSelect(date, type);\n          }\n        }));\n      } else {\n        panelNode = /*#__PURE__*/React.createElement(DatePanel, _extends({}, pickerProps, {\n          onSelect: function onSelect(date, type) {\n            setViewDate(date);\n            triggerSelect(date, type);\n          }\n        }));\n      }\n\n  } // ============================ Footer ============================\n\n\n  var extraFooter;\n  var rangesNode;\n\n  var onNow = function onNow() {\n    var now = generateConfig.getNow();\n    var lowerBoundTime = getLowerBoundTime(generateConfig.getHour(now), generateConfig.getMinute(now), generateConfig.getSecond(now), isHourStepValid ? hourStep : 1, isMinuteStepValid ? minuteStep : 1, isSecondStepValid ? secondStep : 1);\n    var adjustedNow = setTime(generateConfig, now, lowerBoundTime[0], // hour\n    lowerBoundTime[1], // minute\n    lowerBoundTime[2]);\n    triggerSelect(adjustedNow, 'submit');\n  };\n\n  if (!hideRanges) {\n    extraFooter = getExtraFooter(prefixCls, mergedMode, renderExtraFooter);\n    rangesNode = getRanges({\n      prefixCls: prefixCls,\n      components: components,\n      needConfirmButton: needConfirmButton,\n      okDisabled: !mergedValue || disabledDate && disabledDate(mergedValue),\n      locale: locale,\n      showNow: showNow,\n      onNow: needConfirmButton && onNow,\n      onOk: function onOk() {\n        if (mergedValue) {\n          triggerSelect(mergedValue, 'submit', true);\n\n          if (_onOk) {\n            _onOk(mergedValue);\n          }\n        }\n      }\n    });\n  }\n\n  var todayNode;\n\n  if (showToday && mergedMode === 'date' && picker === 'date' && !showTime) {\n    var now = generateConfig.getNow();\n    var todayCls = \"\".concat(prefixCls, \"-today-btn\");\n    var disabled = disabledDate && disabledDate(now);\n    todayNode = /*#__PURE__*/React.createElement(\"a\", {\n      className: classNames(todayCls, disabled && \"\".concat(todayCls, \"-disabled\")),\n      \"aria-disabled\": disabled,\n      onClick: function onClick() {\n        if (!disabled) {\n          triggerSelect(now, 'mouse', true);\n        }\n      }\n    }, locale.today);\n  }\n\n  return /*#__PURE__*/React.createElement(PanelContext.Provider, {\n    value: _objectSpread(_objectSpread({}, panelContext), {}, {\n      mode: mergedMode,\n      hideHeader: 'hideHeader' in props ? hideHeader : panelContext.hideHeader,\n      hidePrevBtn: inRange && panelPosition === 'right',\n      hideNextBtn: inRange && panelPosition === 'left'\n    })\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    tabIndex: tabIndex,\n    className: classNames(\"\".concat(prefixCls, \"-panel\"), className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-panel-has-range\"), rangedValue && rangedValue[0] && rangedValue[1]), _defineProperty(_classNames, \"\".concat(prefixCls, \"-panel-has-range-hover\"), hoverRangedValue && hoverRangedValue[0] && hoverRangedValue[1]), _defineProperty(_classNames, \"\".concat(prefixCls, \"-panel-rtl\"), direction === 'rtl'), _classNames)),\n    style: style,\n    onKeyDown: onInternalKeyDown,\n    onBlur: onInternalBlur,\n    onMouseDown: onMouseDown,\n    ref: panelDivRef\n  }, panelNode, extraFooter || rangesNode || todayNode ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-footer\")\n  }, extraFooter, rangesNode, todayNode) : null));\n}\n\nexport default PickerPanel;\n/* eslint-enable */","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Trigger from 'rc-trigger';\nvar BUILT_IN_PLACEMENTS = {\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1\n    }\n  }\n};\n\nfunction PickerTrigger(_ref) {\n  var _classNames;\n\n  var prefixCls = _ref.prefixCls,\n      popupElement = _ref.popupElement,\n      popupStyle = _ref.popupStyle,\n      visible = _ref.visible,\n      dropdownClassName = _ref.dropdownClassName,\n      dropdownAlign = _ref.dropdownAlign,\n      transitionName = _ref.transitionName,\n      getPopupContainer = _ref.getPopupContainer,\n      children = _ref.children,\n      range = _ref.range,\n      popupPlacement = _ref.popupPlacement,\n      direction = _ref.direction;\n  var dropdownPrefixCls = \"\".concat(prefixCls, \"-dropdown\");\n\n  var getPopupPlacement = function getPopupPlacement() {\n    if (popupPlacement !== undefined) {\n      return popupPlacement;\n    }\n\n    return direction === 'rtl' ? 'bottomRight' : 'bottomLeft';\n  };\n\n  return /*#__PURE__*/React.createElement(Trigger, {\n    showAction: [],\n    hideAction: [],\n    popupPlacement: getPopupPlacement(),\n    builtinPlacements: BUILT_IN_PLACEMENTS,\n    prefixCls: dropdownPrefixCls,\n    popupTransitionName: transitionName,\n    popup: popupElement,\n    popupAlign: dropdownAlign,\n    popupVisible: visible,\n    popupClassName: classNames(dropdownClassName, (_classNames = {}, _defineProperty(_classNames, \"\".concat(dropdownPrefixCls, \"-range\"), range), _defineProperty(_classNames, \"\".concat(dropdownPrefixCls, \"-rtl\"), direction === 'rtl'), _classNames)),\n    popupStyle: popupStyle,\n    getPopupContainer: getPopupContainer\n  }, children);\n}\n\nexport default PickerTrigger;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect, useRef } from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport { addGlobalMouseDownEvent } from '../utils/uiUtil';\nexport default function usePickerInput(_ref) {\n  var open = _ref.open,\n      value = _ref.value,\n      isClickOutside = _ref.isClickOutside,\n      triggerOpen = _ref.triggerOpen,\n      forwardKeyDown = _ref.forwardKeyDown,\n      _onKeyDown = _ref.onKeyDown,\n      blurToCancel = _ref.blurToCancel,\n      onSubmit = _ref.onSubmit,\n      onCancel = _ref.onCancel,\n      _onFocus = _ref.onFocus,\n      _onBlur = _ref.onBlur;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      typing = _useState2[0],\n      setTyping = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      focused = _useState4[0],\n      setFocused = _useState4[1];\n  /**\n   * We will prevent blur to handle open event when user click outside,\n   * since this will repeat trigger `onOpenChange` event.\n   */\n\n\n  var preventBlurRef = useRef(false);\n  var valueChangedRef = useRef(false);\n  var preventDefaultRef = useRef(false);\n  var inputProps = {\n    onMouseDown: function onMouseDown() {\n      setTyping(true);\n      triggerOpen(true);\n    },\n    onKeyDown: function onKeyDown(e) {\n      var preventDefault = function preventDefault() {\n        preventDefaultRef.current = true;\n      };\n\n      _onKeyDown(e, preventDefault);\n\n      if (preventDefaultRef.current) return;\n\n      switch (e.which) {\n        case KeyCode.ENTER:\n          {\n            if (!open) {\n              triggerOpen(true);\n            } else if (onSubmit() !== false) {\n              setTyping(true);\n            }\n\n            e.preventDefault();\n            return;\n          }\n\n        case KeyCode.TAB:\n          {\n            if (typing && open && !e.shiftKey) {\n              setTyping(false);\n              e.preventDefault();\n            } else if (!typing && open) {\n              if (!forwardKeyDown(e) && e.shiftKey) {\n                setTyping(true);\n                e.preventDefault();\n              }\n            }\n\n            return;\n          }\n\n        case KeyCode.ESC:\n          {\n            setTyping(true);\n            onCancel();\n            return;\n          }\n      }\n\n      if (!open && ![KeyCode.SHIFT].includes(e.which)) {\n        triggerOpen(true);\n      } else if (!typing) {\n        // Let popup panel handle keyboard\n        forwardKeyDown(e);\n      }\n    },\n    onFocus: function onFocus(e) {\n      setTyping(true);\n      setFocused(true);\n\n      if (_onFocus) {\n        _onFocus(e);\n      }\n    },\n    onBlur: function onBlur(e) {\n      if (preventBlurRef.current || !isClickOutside(document.activeElement)) {\n        preventBlurRef.current = false;\n        return;\n      }\n\n      if (blurToCancel) {\n        setTimeout(function () {\n          if (isClickOutside(document.activeElement)) {\n            onCancel();\n          }\n        }, 0);\n      } else if (open) {\n        triggerOpen(false);\n\n        if (valueChangedRef.current) {\n          onSubmit();\n        }\n      }\n\n      setFocused(false);\n\n      if (_onBlur) {\n        _onBlur(e);\n      }\n    }\n  }; // check if value changed\n\n  useEffect(function () {\n    valueChangedRef.current = false;\n  }, [open]);\n  useEffect(function () {\n    valueChangedRef.current = true;\n  }, [value]); // Global click handler\n\n  useEffect(function () {\n    return addGlobalMouseDownEvent(function (_ref2) {\n      var target = _ref2.target;\n\n      if (open) {\n        if (!isClickOutside(target)) {\n          preventBlurRef.current = true; // Always set back in case `onBlur` prevented by user\n\n          requestAnimationFrame(function () {\n            preventBlurRef.current = false;\n          });\n        } else if (!focused) {\n          triggerOpen(false);\n        }\n      }\n    });\n  });\n  return [inputProps, {\n    focused: focused,\n    typing: typing\n  }];\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nexport default function useTextValueMapping(_ref) {\n  var valueTexts = _ref.valueTexts,\n      onTextChange = _ref.onTextChange;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      text = _React$useState2[0],\n      setInnerText = _React$useState2[1];\n\n  var valueTextsRef = React.useRef([]);\n  valueTextsRef.current = valueTexts;\n\n  function triggerTextChange(value) {\n    setInnerText(value);\n    onTextChange(value);\n  }\n\n  function resetText() {\n    setInnerText(valueTextsRef.current[0]);\n  }\n\n  React.useEffect(function () {\n    if (valueTexts.every(function (valText) {\n      return valText !== text;\n    })) {\n      resetText();\n    }\n  }, [valueTexts.join('||')]);\n  return [text, triggerTextChange, resetText];\n}","import shallowEqual from 'shallowequal';\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport { formatValue } from '../utils/dateUtil';\nexport default function useValueTexts(value, _ref) {\n  var formatList = _ref.formatList,\n      generateConfig = _ref.generateConfig,\n      locale = _ref.locale;\n  return useMemo(function () {\n    if (!value) {\n      return [[''], ''];\n    } // We will convert data format back to first format\n\n\n    var firstValueText = '';\n    var fullValueTexts = [];\n\n    for (var i = 0; i < formatList.length; i += 1) {\n      var format = formatList[i];\n      var formatStr = formatValue(value, {\n        generateConfig: generateConfig,\n        locale: locale,\n        format: format\n      });\n      fullValueTexts.push(formatStr);\n\n      if (i === 0) {\n        firstValueText = formatStr;\n      }\n    }\n\n    return [fullValueTexts, firstValueText];\n  }, [value, formatList], function (prev, next) {\n    return prev[0] !== next[0] || !shallowEqual(prev[1], next[1]);\n  });\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect, useRef } from 'react';\nimport useValueTexts from './useValueTexts';\nexport default function useHoverValue(valueText, _ref) {\n  var formatList = _ref.formatList,\n      generateConfig = _ref.generateConfig,\n      locale = _ref.locale;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      internalSetValue = _useState2[1];\n\n  var raf = useRef(null);\n\n  function setValue(val) {\n    var immediately = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    cancelAnimationFrame(raf.current);\n\n    if (immediately) {\n      internalSetValue(val);\n      return;\n    }\n\n    raf.current = requestAnimationFrame(function () {\n      internalSetValue(val);\n    });\n  }\n\n  var _useValueTexts = useValueTexts(value, {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  }),\n      _useValueTexts2 = _slicedToArray(_useValueTexts, 2),\n      firstText = _useValueTexts2[1];\n\n  function onEnter(date) {\n    setValue(date);\n  }\n\n  function onLeave() {\n    var immediately = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    setValue(null, immediately);\n  }\n\n  useEffect(function () {\n    onLeave(true);\n  }, [valueText]);\n  useEffect(function () {\n    return function () {\n      return cancelAnimationFrame(raf.current);\n    };\n  }, []);\n  return [firstText, onEnter, onLeave];\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/**\n * Removed:\n *  - getCalendarContainer: use `getPopupContainer` instead\n *  - onOk\n *\n * New Feature:\n *  - picker\n *  - allowEmpty\n *  - selectable\n *\n * Tips: Should add faq about `datetime` mode with `defaultValue`\n */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport warning from \"rc-util/es/warning\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport PickerPanel from './PickerPanel';\nimport PickerTrigger from './PickerTrigger';\nimport { formatValue, isEqual, parseValue } from './utils/dateUtil';\nimport getDataOrAriaProps, { toArray } from './utils/miscUtil';\nimport PanelContext from './PanelContext';\nimport { getDefaultFormat, getInputSize, elementsContains } from './utils/uiUtil';\nimport usePickerInput from './hooks/usePickerInput';\nimport useTextValueMapping from './hooks/useTextValueMapping';\nimport useValueTexts from './hooks/useValueTexts';\nimport useHoverValue from './hooks/useHoverValue';\n\nfunction InnerPicker(props) {\n  var _classNames2;\n\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n      id = props.id,\n      tabIndex = props.tabIndex,\n      style = props.style,\n      className = props.className,\n      dropdownClassName = props.dropdownClassName,\n      dropdownAlign = props.dropdownAlign,\n      popupStyle = props.popupStyle,\n      transitionName = props.transitionName,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      inputReadOnly = props.inputReadOnly,\n      allowClear = props.allowClear,\n      autoFocus = props.autoFocus,\n      showTime = props.showTime,\n      _props$picker = props.picker,\n      picker = _props$picker === void 0 ? 'date' : _props$picker,\n      format = props.format,\n      use12Hours = props.use12Hours,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      open = props.open,\n      defaultOpen = props.defaultOpen,\n      defaultOpenValue = props.defaultOpenValue,\n      suffixIcon = props.suffixIcon,\n      clearIcon = props.clearIcon,\n      disabled = props.disabled,\n      disabledDate = props.disabledDate,\n      placeholder = props.placeholder,\n      getPopupContainer = props.getPopupContainer,\n      pickerRef = props.pickerRef,\n      panelRender = props.panelRender,\n      onChange = props.onChange,\n      onOpenChange = props.onOpenChange,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      onMouseDown = props.onMouseDown,\n      onMouseUp = props.onMouseUp,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      onContextMenu = props.onContextMenu,\n      onClick = props.onClick,\n      _onKeyDown = props.onKeyDown,\n      _onSelect = props.onSelect,\n      direction = props.direction,\n      _props$autoComplete = props.autoComplete,\n      autoComplete = _props$autoComplete === void 0 ? 'off' : _props$autoComplete;\n  var inputRef = React.useRef(null);\n  var needConfirmButton = picker === 'date' && !!showTime || picker === 'time'; // ============================= State =============================\n\n  var formatList = toArray(getDefaultFormat(format, picker, showTime, use12Hours)); // Panel ref\n\n  var panelDivRef = React.useRef(null);\n  var inputDivRef = React.useRef(null); // Real value\n\n  var _useMergedState = useMergedState(null, {\n    value: value,\n    defaultValue: defaultValue\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedValue = _useMergedState2[0],\n      setInnerValue = _useMergedState2[1]; // Selected value\n\n\n  var _React$useState = React.useState(mergedValue),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      selectedValue = _React$useState2[0],\n      setSelectedValue = _React$useState2[1]; // Operation ref\n\n\n  var operationRef = React.useRef(null); // Open\n\n  var _useMergedState3 = useMergedState(false, {\n    value: open,\n    defaultValue: defaultOpen,\n    postState: function postState(postOpen) {\n      return disabled ? false : postOpen;\n    },\n    onChange: function onChange(newOpen) {\n      if (onOpenChange) {\n        onOpenChange(newOpen);\n      }\n\n      if (!newOpen && operationRef.current && operationRef.current.onClose) {\n        operationRef.current.onClose();\n      }\n    }\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      mergedOpen = _useMergedState4[0],\n      triggerInnerOpen = _useMergedState4[1]; // ============================= Text ==============================\n\n\n  var _useValueTexts = useValueTexts(selectedValue, {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  }),\n      _useValueTexts2 = _slicedToArray(_useValueTexts, 2),\n      valueTexts = _useValueTexts2[0],\n      firstValueText = _useValueTexts2[1];\n\n  var _useTextValueMapping = useTextValueMapping({\n    valueTexts: valueTexts,\n    onTextChange: function onTextChange(newText) {\n      var inputDate = parseValue(newText, {\n        locale: locale,\n        formatList: formatList,\n        generateConfig: generateConfig\n      });\n\n      if (inputDate && (!disabledDate || !disabledDate(inputDate))) {\n        setSelectedValue(inputDate);\n      }\n    }\n  }),\n      _useTextValueMapping2 = _slicedToArray(_useTextValueMapping, 3),\n      text = _useTextValueMapping2[0],\n      triggerTextChange = _useTextValueMapping2[1],\n      resetText = _useTextValueMapping2[2]; // ============================ Trigger ============================\n\n\n  var triggerChange = function triggerChange(newValue) {\n    setSelectedValue(newValue);\n    setInnerValue(newValue);\n\n    if (onChange && !isEqual(generateConfig, mergedValue, newValue)) {\n      onChange(newValue, newValue ? formatValue(newValue, {\n        generateConfig: generateConfig,\n        locale: locale,\n        format: formatList[0]\n      }) : '');\n    }\n  };\n\n  var triggerOpen = function triggerOpen(newOpen) {\n    if (disabled && newOpen) {\n      return;\n    }\n\n    triggerInnerOpen(newOpen);\n  };\n\n  var forwardKeyDown = function forwardKeyDown(e) {\n    if (mergedOpen && operationRef.current && operationRef.current.onKeyDown) {\n      // Let popup panel handle keyboard\n      return operationRef.current.onKeyDown(e);\n    }\n    /* istanbul ignore next */\n\n    /* eslint-disable no-lone-blocks */\n\n\n    {\n      warning(false, 'Picker not correct forward KeyDown operation. Please help to fire issue about this.');\n      return false;\n    }\n  };\n\n  var onInternalMouseUp = function onInternalMouseUp() {\n    if (onMouseUp) {\n      onMouseUp.apply(void 0, arguments);\n    }\n\n    if (inputRef.current) {\n      inputRef.current.focus();\n      triggerOpen(true);\n    }\n  }; // ============================= Input =============================\n\n\n  var _usePickerInput = usePickerInput({\n    blurToCancel: needConfirmButton,\n    open: mergedOpen,\n    value: text,\n    triggerOpen: triggerOpen,\n    forwardKeyDown: forwardKeyDown,\n    isClickOutside: function isClickOutside(target) {\n      return !elementsContains([panelDivRef.current, inputDivRef.current], target);\n    },\n    onSubmit: function onSubmit() {\n      if (disabledDate && disabledDate(selectedValue)) {\n        return false;\n      }\n\n      triggerChange(selectedValue);\n      triggerOpen(false);\n      resetText();\n      return true;\n    },\n    onCancel: function onCancel() {\n      triggerOpen(false);\n      setSelectedValue(mergedValue);\n      resetText();\n    },\n    onKeyDown: function onKeyDown(e, preventDefault) {\n      _onKeyDown === null || _onKeyDown === void 0 ? void 0 : _onKeyDown(e, preventDefault);\n    },\n    onFocus: onFocus,\n    onBlur: onBlur\n  }),\n      _usePickerInput2 = _slicedToArray(_usePickerInput, 2),\n      inputProps = _usePickerInput2[0],\n      _usePickerInput2$ = _usePickerInput2[1],\n      focused = _usePickerInput2$.focused,\n      typing = _usePickerInput2$.typing; // ============================= Sync ==============================\n  // Close should sync back with text value\n\n\n  React.useEffect(function () {\n    if (!mergedOpen) {\n      setSelectedValue(mergedValue);\n\n      if (!valueTexts.length || valueTexts[0] === '') {\n        triggerTextChange('');\n      } else if (firstValueText !== text) {\n        resetText();\n      }\n    }\n  }, [mergedOpen, valueTexts]); // Change picker should sync back with text value\n\n  React.useEffect(function () {\n    if (!mergedOpen) {\n      resetText();\n    }\n  }, [picker]); // Sync innerValue with control mode\n\n  React.useEffect(function () {\n    // Sync select value\n    setSelectedValue(mergedValue);\n  }, [mergedValue]); // ============================ Private ============================\n\n  if (pickerRef) {\n    pickerRef.current = {\n      focus: function focus() {\n        if (inputRef.current) {\n          inputRef.current.focus();\n        }\n      },\n      blur: function blur() {\n        if (inputRef.current) {\n          inputRef.current.blur();\n        }\n      }\n    };\n  }\n\n  var _useHoverValue = useHoverValue(text, {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  }),\n      _useHoverValue2 = _slicedToArray(_useHoverValue, 3),\n      hoverValue = _useHoverValue2[0],\n      onEnter = _useHoverValue2[1],\n      onLeave = _useHoverValue2[2]; // ============================= Panel =============================\n\n\n  var panelProps = _objectSpread(_objectSpread({}, props), {}, {\n    className: undefined,\n    style: undefined,\n    pickerValue: undefined,\n    onPickerValueChange: undefined,\n    onChange: null\n  });\n\n  var panelNode = /*#__PURE__*/React.createElement(PickerPanel, _extends({}, panelProps, {\n    generateConfig: generateConfig,\n    className: classNames(_defineProperty({}, \"\".concat(prefixCls, \"-panel-focused\"), !typing)),\n    value: selectedValue,\n    locale: locale,\n    tabIndex: -1,\n    onSelect: function onSelect(date) {\n      _onSelect === null || _onSelect === void 0 ? void 0 : _onSelect(date);\n      setSelectedValue(date);\n    },\n    direction: direction,\n    onPanelChange: function onPanelChange(viewDate, mode) {\n      var onPanelChange = props.onPanelChange;\n      onLeave(true);\n      onPanelChange === null || onPanelChange === void 0 ? void 0 : onPanelChange(viewDate, mode);\n    }\n  }));\n\n  if (panelRender) {\n    panelNode = panelRender(panelNode);\n  }\n\n  var panel = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-panel-container\"),\n    onMouseDown: function onMouseDown(e) {\n      e.preventDefault();\n    }\n  }, panelNode);\n  var suffixNode;\n\n  if (suffixIcon) {\n    suffixNode = /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-suffix\")\n    }, suffixIcon);\n  }\n\n  var clearNode;\n\n  if (allowClear && mergedValue && !disabled) {\n    clearNode = /*#__PURE__*/React.createElement(\"span\", {\n      onMouseDown: function onMouseDown(e) {\n        e.preventDefault();\n        e.stopPropagation();\n      },\n      onMouseUp: function onMouseUp(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        triggerChange(null);\n        triggerOpen(false);\n      },\n      className: \"\".concat(prefixCls, \"-clear\")\n    }, clearIcon || /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-clear-btn\")\n    }));\n  } // ============================ Warning ============================\n\n\n  if (process.env.NODE_ENV !== 'production') {\n    warning(!defaultOpenValue, '`defaultOpenValue` may confuse user for the current value status. Please use `defaultValue` instead.');\n  } // ============================ Return =============================\n\n\n  var onContextSelect = function onContextSelect(date, type) {\n    if (type === 'submit' || type !== 'key' && !needConfirmButton) {\n      // triggerChange will also update selected values\n      triggerChange(date);\n      triggerOpen(false);\n    }\n  };\n\n  var popupPlacement = direction === 'rtl' ? 'bottomRight' : 'bottomLeft';\n  return /*#__PURE__*/React.createElement(PanelContext.Provider, {\n    value: {\n      operationRef: operationRef,\n      hideHeader: picker === 'time',\n      panelRef: panelDivRef,\n      onSelect: onContextSelect,\n      open: mergedOpen,\n      defaultOpenValue: defaultOpenValue,\n      onDateMouseEnter: onEnter,\n      onDateMouseLeave: onLeave\n    }\n  }, /*#__PURE__*/React.createElement(PickerTrigger, {\n    visible: mergedOpen,\n    popupElement: panel,\n    popupStyle: popupStyle,\n    prefixCls: prefixCls,\n    dropdownClassName: dropdownClassName,\n    dropdownAlign: dropdownAlign,\n    getPopupContainer: getPopupContainer,\n    transitionName: transitionName,\n    popupPlacement: popupPlacement,\n    direction: direction\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(prefixCls, className, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), focused), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2)),\n    style: style,\n    onMouseDown: onMouseDown,\n    onMouseUp: onInternalMouseUp,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onContextMenu: onContextMenu,\n    onClick: onClick\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-input\"), _defineProperty({}, \"\".concat(prefixCls, \"-input-placeholder\"), !!hoverValue)),\n    ref: inputDivRef\n  }, /*#__PURE__*/React.createElement(\"input\", _extends({\n    id: id,\n    tabIndex: tabIndex,\n    disabled: disabled,\n    readOnly: inputReadOnly || typeof formatList[0] === 'function' || !typing,\n    value: hoverValue || text,\n    onChange: function onChange(e) {\n      triggerTextChange(e.target.value);\n    },\n    autoFocus: autoFocus,\n    placeholder: placeholder,\n    ref: inputRef,\n    title: text\n  }, inputProps, {\n    size: getInputSize(picker, formatList[0], generateConfig)\n  }, getDataOrAriaProps(props), {\n    autoComplete: autoComplete\n  })), suffixNode, clearNode))));\n} // Wrap with class component to enable pass generic with instance method\n\n\nvar Picker = /*#__PURE__*/function (_React$Component) {\n  _inherits(Picker, _React$Component);\n\n  var _super = _createSuper(Picker);\n\n  function Picker() {\n    var _this;\n\n    _classCallCheck(this, Picker);\n\n    _this = _super.apply(this, arguments);\n    _this.pickerRef = /*#__PURE__*/React.createRef();\n\n    _this.focus = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.focus();\n      }\n    };\n\n    _this.blur = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.blur();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Picker, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(InnerPicker, _extends({}, this.props, {\n        pickerRef: this.pickerRef\n      }));\n    }\n  }]);\n\n  return Picker;\n}(React.Component);\n\nexport default Picker;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { getValue, updateValues } from '../utils/miscUtil';\nimport { getClosingViewDate, isSameYear, isSameMonth, isSameDecade } from '../utils/dateUtil';\n\nfunction getStartEndDistance(startDate, endDate, picker, generateConfig) {\n  var startNext = getClosingViewDate(startDate, picker, generateConfig, 1);\n\n  function getDistance(compareFunc) {\n    if (compareFunc(startDate, endDate)) {\n      return 'same';\n    }\n\n    if (compareFunc(startNext, endDate)) {\n      return 'closing';\n    }\n\n    return 'far';\n  }\n\n  switch (picker) {\n    case 'year':\n      return getDistance(function (start, end) {\n        return isSameDecade(generateConfig, start, end);\n      });\n\n    case 'quarter':\n    case 'month':\n      return getDistance(function (start, end) {\n        return isSameYear(generateConfig, start, end);\n      });\n\n    default:\n      return getDistance(function (start, end) {\n        return isSameMonth(generateConfig, start, end);\n      });\n  }\n}\n\nfunction getRangeViewDate(values, index, picker, generateConfig) {\n  var startDate = getValue(values, 0);\n  var endDate = getValue(values, 1);\n\n  if (index === 0) {\n    return startDate;\n  }\n\n  if (startDate && endDate) {\n    var distance = getStartEndDistance(startDate, endDate, picker, generateConfig);\n\n    switch (distance) {\n      case 'same':\n        return startDate;\n\n      case 'closing':\n        return startDate;\n\n      default:\n        return getClosingViewDate(endDate, picker, generateConfig, -1);\n    }\n  }\n\n  return startDate;\n}\n\nexport default function useRangeViewDates(_ref) {\n  var values = _ref.values,\n      picker = _ref.picker,\n      defaultDates = _ref.defaultDates,\n      generateConfig = _ref.generateConfig;\n\n  var _React$useState = React.useState(function () {\n    return [getValue(defaultDates, 0), getValue(defaultDates, 1)];\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      defaultViewDates = _React$useState2[0],\n      setDefaultViewDates = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      viewDates = _React$useState4[0],\n      setInternalViewDates = _React$useState4[1];\n\n  var startDate = getValue(values, 0);\n  var endDate = getValue(values, 1);\n\n  function getViewDate(index) {\n    // If set default view date, use it\n    if (defaultViewDates[index]) {\n      return defaultViewDates[index];\n    }\n\n    return getValue(viewDates, index) || getRangeViewDate(values, index, picker, generateConfig) || startDate || endDate || generateConfig.getNow();\n  }\n\n  function setViewDate(viewDate, index) {\n    if (viewDate) {\n      var newViewDates = updateValues(viewDates, viewDate, index); // Set view date will clean up default one\n\n      setDefaultViewDates( // Should always be an array\n      updateValues(defaultViewDates, null, index) || [null, null]); // Reset another one when not have value\n\n      var anotherIndex = (index + 1) % 2;\n\n      if (!getValue(values, anotherIndex)) {\n        newViewDates = updateValues(newViewDates, viewDate, anotherIndex);\n      }\n\n      setInternalViewDates(newViewDates);\n    } else if (startDate || endDate) {\n      // Reset all when has values when `viewDate` is `null` which means from open trigger\n      setInternalViewDates(null);\n    }\n  }\n\n  return [getViewDate, setViewDate];\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef, useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport warning from \"rc-util/es/warning\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport PickerTrigger from './PickerTrigger';\nimport PickerPanel from './PickerPanel';\nimport usePickerInput from './hooks/usePickerInput';\nimport getDataOrAriaProps, { toArray, getValue, updateValues } from './utils/miscUtil';\nimport { getDefaultFormat, getInputSize, elementsContains } from './utils/uiUtil';\nimport PanelContext from './PanelContext';\nimport { isEqual, getClosingViewDate, isSameDate, isSameWeek, isSameQuarter, formatValue, parseValue } from './utils/dateUtil';\nimport useValueTexts from './hooks/useValueTexts';\nimport useTextValueMapping from './hooks/useTextValueMapping';\nimport RangeContext from './RangeContext';\nimport useRangeDisabled from './hooks/useRangeDisabled';\nimport getExtraFooter from './utils/getExtraFooter';\nimport getRanges from './utils/getRanges';\nimport useRangeViewDates from './hooks/useRangeViewDates';\nimport useHoverValue from './hooks/useHoverValue';\n\nfunction reorderValues(values, generateConfig) {\n  if (values && values[0] && values[1] && generateConfig.isAfter(values[0], values[1])) {\n    return [values[1], values[0]];\n  }\n\n  return values;\n}\n\nfunction canValueTrigger(value, index, disabled, allowEmpty) {\n  if (value) {\n    return true;\n  }\n\n  if (allowEmpty && allowEmpty[index]) {\n    return true;\n  }\n\n  if (disabled[(index + 1) % 2]) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction InnerRangePicker(props) {\n  var _classNames2, _classNames3, _classNames4;\n\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n      id = props.id,\n      style = props.style,\n      className = props.className,\n      popupStyle = props.popupStyle,\n      dropdownClassName = props.dropdownClassName,\n      transitionName = props.transitionName,\n      dropdownAlign = props.dropdownAlign,\n      getPopupContainer = props.getPopupContainer,\n      generateConfig = props.generateConfig,\n      locale = props.locale,\n      placeholder = props.placeholder,\n      autoFocus = props.autoFocus,\n      disabled = props.disabled,\n      format = props.format,\n      _props$picker = props.picker,\n      picker = _props$picker === void 0 ? 'date' : _props$picker,\n      showTime = props.showTime,\n      use12Hours = props.use12Hours,\n      _props$separator = props.separator,\n      separator = _props$separator === void 0 ? '~' : _props$separator,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      defaultPickerValue = props.defaultPickerValue,\n      open = props.open,\n      defaultOpen = props.defaultOpen,\n      disabledDate = props.disabledDate,\n      _disabledTime = props.disabledTime,\n      dateRender = props.dateRender,\n      panelRender = props.panelRender,\n      ranges = props.ranges,\n      allowEmpty = props.allowEmpty,\n      allowClear = props.allowClear,\n      suffixIcon = props.suffixIcon,\n      clearIcon = props.clearIcon,\n      pickerRef = props.pickerRef,\n      inputReadOnly = props.inputReadOnly,\n      mode = props.mode,\n      renderExtraFooter = props.renderExtraFooter,\n      onChange = props.onChange,\n      onOpenChange = props.onOpenChange,\n      onPanelChange = props.onPanelChange,\n      onCalendarChange = props.onCalendarChange,\n      _onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      _onOk = props.onOk,\n      _onKeyDown = props.onKeyDown,\n      components = props.components,\n      order = props.order,\n      direction = props.direction,\n      activePickerIndex = props.activePickerIndex,\n      _props$autoComplete = props.autoComplete,\n      autoComplete = _props$autoComplete === void 0 ? 'off' : _props$autoComplete;\n  var needConfirmButton = picker === 'date' && !!showTime || picker === 'time'; // We record opened status here in case repeat open with picker\n\n  var openRecordsRef = useRef({});\n  var containerRef = useRef(null);\n  var panelDivRef = useRef(null);\n  var startInputDivRef = useRef(null);\n  var endInputDivRef = useRef(null);\n  var separatorRef = useRef(null);\n  var startInputRef = useRef(null);\n  var endInputRef = useRef(null); // ============================= Misc ==============================\n\n  var formatList = toArray(getDefaultFormat(format, picker, showTime, use12Hours)); // Active picker\n\n  var _useMergedState = useMergedState(0, {\n    value: activePickerIndex\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedActivePickerIndex = _useMergedState2[0],\n      setMergedActivePickerIndex = _useMergedState2[1]; // Operation ref\n\n\n  var operationRef = useRef(null);\n  var mergedDisabled = React.useMemo(function () {\n    if (Array.isArray(disabled)) {\n      return disabled;\n    }\n\n    return [disabled || false, disabled || false];\n  }, [disabled]); // ============================= Value =============================\n\n  var _useMergedState3 = useMergedState(null, {\n    value: value,\n    defaultValue: defaultValue,\n    postState: function postState(values) {\n      return picker === 'time' && !order ? values : reorderValues(values, generateConfig);\n    }\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      mergedValue = _useMergedState4[0],\n      setInnerValue = _useMergedState4[1]; // =========================== View Date ===========================\n  // Config view panel\n\n\n  var _useRangeViewDates = useRangeViewDates({\n    values: mergedValue,\n    picker: picker,\n    defaultDates: defaultPickerValue,\n    generateConfig: generateConfig\n  }),\n      _useRangeViewDates2 = _slicedToArray(_useRangeViewDates, 2),\n      getViewDate = _useRangeViewDates2[0],\n      setViewDate = _useRangeViewDates2[1]; // ========================= Select Values =========================\n\n\n  var _useMergedState5 = useMergedState(mergedValue, {\n    postState: function postState(values) {\n      var postValues = values;\n\n      if (mergedDisabled[0] && mergedDisabled[1]) {\n        return postValues;\n      } // Fill disabled unit\n\n\n      for (var i = 0; i < 2; i += 1) {\n        if (mergedDisabled[i] && !getValue(postValues, i) && !getValue(allowEmpty, i)) {\n          postValues = updateValues(postValues, generateConfig.getNow(), i);\n        }\n      }\n\n      return postValues;\n    }\n  }),\n      _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n      selectedValue = _useMergedState6[0],\n      setSelectedValue = _useMergedState6[1]; // ============================= Modes =============================\n\n\n  var _useMergedState7 = useMergedState([picker, picker], {\n    value: mode\n  }),\n      _useMergedState8 = _slicedToArray(_useMergedState7, 2),\n      mergedModes = _useMergedState8[0],\n      setInnerModes = _useMergedState8[1];\n\n  useEffect(function () {\n    setInnerModes([picker, picker]);\n  }, [picker]);\n\n  var triggerModesChange = function triggerModesChange(modes, values) {\n    setInnerModes(modes);\n\n    if (onPanelChange) {\n      onPanelChange(values, modes);\n    }\n  }; // ========================= Disable Date ==========================\n\n\n  var _useRangeDisabled = useRangeDisabled({\n    picker: picker,\n    selectedValue: selectedValue,\n    locale: locale,\n    disabled: mergedDisabled,\n    disabledDate: disabledDate,\n    generateConfig: generateConfig\n  }, openRecordsRef.current[1], openRecordsRef.current[0]),\n      _useRangeDisabled2 = _slicedToArray(_useRangeDisabled, 2),\n      disabledStartDate = _useRangeDisabled2[0],\n      disabledEndDate = _useRangeDisabled2[1]; // ============================= Open ==============================\n\n\n  var _useMergedState9 = useMergedState(false, {\n    value: open,\n    defaultValue: defaultOpen,\n    postState: function postState(postOpen) {\n      return mergedDisabled[mergedActivePickerIndex] ? false : postOpen;\n    },\n    onChange: function onChange(newOpen) {\n      if (onOpenChange) {\n        onOpenChange(newOpen);\n      }\n\n      if (!newOpen && operationRef.current && operationRef.current.onClose) {\n        operationRef.current.onClose();\n      }\n    }\n  }),\n      _useMergedState10 = _slicedToArray(_useMergedState9, 2),\n      mergedOpen = _useMergedState10[0],\n      triggerInnerOpen = _useMergedState10[1];\n\n  var startOpen = mergedOpen && mergedActivePickerIndex === 0;\n  var endOpen = mergedOpen && mergedActivePickerIndex === 1; // ============================= Popup =============================\n  // Popup min width\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      popupMinWidth = _useState2[0],\n      setPopupMinWidth = _useState2[1];\n\n  useEffect(function () {\n    if (!mergedOpen && containerRef.current) {\n      setPopupMinWidth(containerRef.current.offsetWidth);\n    }\n  }, [mergedOpen]); // ============================ Trigger ============================\n\n  var triggerRef = React.useRef();\n\n  function _triggerOpen(newOpen, index) {\n    if (newOpen) {\n      clearTimeout(triggerRef.current);\n      openRecordsRef.current[index] = true;\n      setMergedActivePickerIndex(index);\n      triggerInnerOpen(newOpen); // Open to reset view date\n\n      if (!mergedOpen) {\n        setViewDate(null, index);\n      }\n    } else if (mergedActivePickerIndex === index) {\n      triggerInnerOpen(newOpen); // Clean up async\n      // This makes ref not quick refresh in case user open another input with blur trigger\n\n      var openRecords = openRecordsRef.current;\n      triggerRef.current = setTimeout(function () {\n        if (openRecords === openRecordsRef.current) {\n          openRecordsRef.current = {};\n        }\n      });\n    }\n  }\n\n  function triggerOpenAndFocus(index) {\n    _triggerOpen(true, index); // Use setTimeout to make sure panel DOM exists\n\n\n    setTimeout(function () {\n      var inputRef = [startInputRef, endInputRef][index];\n\n      if (inputRef.current) {\n        inputRef.current.focus();\n      }\n    }, 0);\n  }\n\n  function triggerChange(newValue, sourceIndex) {\n    var values = newValue;\n    var startValue = getValue(values, 0);\n    var endValue = getValue(values, 1); // >>>>> Format start & end values\n\n    if (startValue && endValue && generateConfig.isAfter(startValue, endValue)) {\n      if ( // WeekPicker only compare week\n      picker === 'week' && !isSameWeek(generateConfig, locale.locale, startValue, endValue) || // QuotaPicker only compare week\n      picker === 'quarter' && !isSameQuarter(generateConfig, startValue, endValue) || // Other non-TimePicker compare date\n      picker !== 'week' && picker !== 'quarter' && picker !== 'time' && !isSameDate(generateConfig, startValue, endValue)) {\n        // Clean up end date when start date is after end date\n        if (sourceIndex === 0) {\n          values = [startValue, null];\n          endValue = null;\n        } else {\n          startValue = null;\n          values = [null, endValue];\n        } // Clean up cache since invalidate\n\n\n        openRecordsRef.current = _defineProperty({}, sourceIndex, true);\n      } else if (picker !== 'time' || order !== false) {\n        // Reorder when in same date\n        values = reorderValues(values, generateConfig);\n      }\n    }\n\n    setSelectedValue(values);\n    var startStr = values && values[0] ? formatValue(values[0], {\n      generateConfig: generateConfig,\n      locale: locale,\n      format: formatList[0]\n    }) : '';\n    var endStr = values && values[1] ? formatValue(values[1], {\n      generateConfig: generateConfig,\n      locale: locale,\n      format: formatList[0]\n    }) : '';\n\n    if (onCalendarChange) {\n      var info = {\n        range: sourceIndex === 0 ? 'start' : 'end'\n      };\n      onCalendarChange(values, [startStr, endStr], info);\n    } // >>>>> Trigger `onChange` event\n\n\n    var canStartValueTrigger = canValueTrigger(startValue, 0, mergedDisabled, allowEmpty);\n    var canEndValueTrigger = canValueTrigger(endValue, 1, mergedDisabled, allowEmpty);\n    var canTrigger = values === null || canStartValueTrigger && canEndValueTrigger;\n\n    if (canTrigger) {\n      // Trigger onChange only when value is validate\n      setInnerValue(values);\n\n      if (onChange && (!isEqual(generateConfig, getValue(mergedValue, 0), startValue) || !isEqual(generateConfig, getValue(mergedValue, 1), endValue))) {\n        onChange(values, [startStr, endStr]);\n      }\n    } // >>>>> Open picker when\n    // Always open another picker if possible\n\n\n    var nextOpenIndex = null;\n\n    if (sourceIndex === 0 && !mergedDisabled[1]) {\n      nextOpenIndex = 1;\n    } else if (sourceIndex === 1 && !mergedDisabled[0]) {\n      nextOpenIndex = 0;\n    }\n\n    if (nextOpenIndex !== null && nextOpenIndex !== mergedActivePickerIndex && (!openRecordsRef.current[nextOpenIndex] || !getValue(values, nextOpenIndex)) && getValue(values, sourceIndex)) {\n      // Delay to focus to avoid input blur trigger expired selectedValues\n      triggerOpenAndFocus(nextOpenIndex);\n    } else {\n      _triggerOpen(false, sourceIndex);\n    }\n  }\n\n  var forwardKeyDown = function forwardKeyDown(e) {\n    if (mergedOpen && operationRef.current && operationRef.current.onKeyDown) {\n      // Let popup panel handle keyboard\n      return operationRef.current.onKeyDown(e);\n    }\n    /* istanbul ignore next */\n\n    /* eslint-disable no-lone-blocks */\n\n\n    {\n      warning(false, 'Picker not correct forward KeyDown operation. Please help to fire issue about this.');\n      return false;\n    }\n  }; // ============================= Text ==============================\n\n\n  var sharedTextHooksProps = {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  };\n\n  var _useValueTexts = useValueTexts(getValue(selectedValue, 0), sharedTextHooksProps),\n      _useValueTexts2 = _slicedToArray(_useValueTexts, 2),\n      startValueTexts = _useValueTexts2[0],\n      firstStartValueText = _useValueTexts2[1];\n\n  var _useValueTexts3 = useValueTexts(getValue(selectedValue, 1), sharedTextHooksProps),\n      _useValueTexts4 = _slicedToArray(_useValueTexts3, 2),\n      endValueTexts = _useValueTexts4[0],\n      firstEndValueText = _useValueTexts4[1];\n\n  var _onTextChange = function onTextChange(newText, index) {\n    var inputDate = parseValue(newText, {\n      locale: locale,\n      formatList: formatList,\n      generateConfig: generateConfig\n    });\n    var disabledFunc = index === 0 ? disabledStartDate : disabledEndDate;\n\n    if (inputDate && !disabledFunc(inputDate)) {\n      setSelectedValue(updateValues(selectedValue, inputDate, index));\n      setViewDate(inputDate, index);\n    }\n  };\n\n  var _useTextValueMapping = useTextValueMapping({\n    valueTexts: startValueTexts,\n    onTextChange: function onTextChange(newText) {\n      return _onTextChange(newText, 0);\n    }\n  }),\n      _useTextValueMapping2 = _slicedToArray(_useTextValueMapping, 3),\n      startText = _useTextValueMapping2[0],\n      triggerStartTextChange = _useTextValueMapping2[1],\n      resetStartText = _useTextValueMapping2[2];\n\n  var _useTextValueMapping3 = useTextValueMapping({\n    valueTexts: endValueTexts,\n    onTextChange: function onTextChange(newText) {\n      return _onTextChange(newText, 1);\n    }\n  }),\n      _useTextValueMapping4 = _slicedToArray(_useTextValueMapping3, 3),\n      endText = _useTextValueMapping4[0],\n      triggerEndTextChange = _useTextValueMapping4[1],\n      resetEndText = _useTextValueMapping4[2];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      rangeHoverValue = _useState4[0],\n      setRangeHoverValue = _useState4[1]; // ========================== Hover Range ==========================\n\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      hoverRangedValue = _useState6[0],\n      setHoverRangedValue = _useState6[1];\n\n  var _useHoverValue = useHoverValue(startText, {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  }),\n      _useHoverValue2 = _slicedToArray(_useHoverValue, 3),\n      startHoverValue = _useHoverValue2[0],\n      onStartEnter = _useHoverValue2[1],\n      onStartLeave = _useHoverValue2[2];\n\n  var _useHoverValue3 = useHoverValue(endText, {\n    formatList: formatList,\n    generateConfig: generateConfig,\n    locale: locale\n  }),\n      _useHoverValue4 = _slicedToArray(_useHoverValue3, 3),\n      endHoverValue = _useHoverValue4[0],\n      onEndEnter = _useHoverValue4[1],\n      onEndLeave = _useHoverValue4[2];\n\n  var onDateMouseEnter = function onDateMouseEnter(date) {\n    setHoverRangedValue(updateValues(selectedValue, date, mergedActivePickerIndex));\n\n    if (mergedActivePickerIndex === 0) {\n      onStartEnter(date);\n    } else {\n      onEndEnter(date);\n    }\n  };\n\n  var onDateMouseLeave = function onDateMouseLeave() {\n    setHoverRangedValue(updateValues(selectedValue, null, mergedActivePickerIndex));\n\n    if (mergedActivePickerIndex === 0) {\n      onStartLeave();\n    } else {\n      onEndLeave();\n    }\n  }; // ============================= Input =============================\n\n\n  var getSharedInputHookProps = function getSharedInputHookProps(index, resetText) {\n    return {\n      blurToCancel: needConfirmButton,\n      forwardKeyDown: forwardKeyDown,\n      onBlur: onBlur,\n      isClickOutside: function isClickOutside(target) {\n        return !elementsContains([panelDivRef.current, startInputDivRef.current, endInputDivRef.current], target);\n      },\n      onFocus: function onFocus(e) {\n        setMergedActivePickerIndex(index);\n\n        if (_onFocus) {\n          _onFocus(e);\n        }\n      },\n      triggerOpen: function triggerOpen(newOpen) {\n        _triggerOpen(newOpen, index);\n      },\n      onSubmit: function onSubmit() {\n        triggerChange(selectedValue, index);\n        resetText();\n      },\n      onCancel: function onCancel() {\n        _triggerOpen(false, index);\n\n        setSelectedValue(mergedValue);\n        resetText();\n      }\n    };\n  };\n\n  var _usePickerInput = usePickerInput(_objectSpread(_objectSpread({}, getSharedInputHookProps(0, resetStartText)), {}, {\n    open: startOpen,\n    value: startText,\n    onKeyDown: function onKeyDown(e, preventDefault) {\n      _onKeyDown === null || _onKeyDown === void 0 ? void 0 : _onKeyDown(e, preventDefault);\n    }\n  })),\n      _usePickerInput2 = _slicedToArray(_usePickerInput, 2),\n      startInputProps = _usePickerInput2[0],\n      _usePickerInput2$ = _usePickerInput2[1],\n      startFocused = _usePickerInput2$.focused,\n      startTyping = _usePickerInput2$.typing;\n\n  var _usePickerInput3 = usePickerInput(_objectSpread(_objectSpread({}, getSharedInputHookProps(1, resetEndText)), {}, {\n    open: endOpen,\n    value: endText,\n    onKeyDown: function onKeyDown(e, preventDefault) {\n      _onKeyDown === null || _onKeyDown === void 0 ? void 0 : _onKeyDown(e, preventDefault);\n    }\n  })),\n      _usePickerInput4 = _slicedToArray(_usePickerInput3, 2),\n      endInputProps = _usePickerInput4[0],\n      _usePickerInput4$ = _usePickerInput4[1],\n      endFocused = _usePickerInput4$.focused,\n      endTyping = _usePickerInput4$.typing; // ========================== Click Picker ==========================\n\n\n  var onPickerClick = function onPickerClick(e) {\n    // When click inside the picker & outside the picker's input elements\n    // the panel should still be opened\n    if (!mergedOpen && !startInputRef.current.contains(e.target) && !endInputRef.current.contains(e.target)) {\n      if (!mergedDisabled[0]) {\n        triggerOpenAndFocus(0);\n      } else if (!mergedDisabled[1]) {\n        triggerOpenAndFocus(1);\n      }\n    }\n  };\n\n  var onPickerMouseDown = function onPickerMouseDown(e) {\n    // shouldn't affect input elements if picker is active\n    if (mergedOpen && (startFocused || endFocused) && !startInputRef.current.contains(e.target) && !endInputRef.current.contains(e.target)) {\n      e.preventDefault();\n    }\n  }; // ============================= Sync ==============================\n  // Close should sync back with text value\n\n\n  var startStr = mergedValue && mergedValue[0] ? formatValue(mergedValue[0], {\n    locale: locale,\n    format: 'YYYYMMDDHHmmss',\n    generateConfig: generateConfig\n  }) : '';\n  var endStr = mergedValue && mergedValue[1] ? formatValue(mergedValue[1], {\n    locale: locale,\n    format: 'YYYYMMDDHHmmss',\n    generateConfig: generateConfig\n  }) : '';\n  useEffect(function () {\n    if (!mergedOpen) {\n      setSelectedValue(mergedValue);\n\n      if (!startValueTexts.length || startValueTexts[0] === '') {\n        triggerStartTextChange('');\n      } else if (firstStartValueText !== startText) {\n        resetStartText();\n      }\n\n      if (!endValueTexts.length || endValueTexts[0] === '') {\n        triggerEndTextChange('');\n      } else if (firstEndValueText !== endText) {\n        resetEndText();\n      }\n    }\n  }, [mergedOpen, startValueTexts, endValueTexts]); // Sync innerValue with control mode\n\n  useEffect(function () {\n    setSelectedValue(mergedValue);\n  }, [startStr, endStr]); // ============================ Warning ============================\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (value && Array.isArray(disabled) && (getValue(disabled, 0) && !getValue(value, 0) || getValue(disabled, 1) && !getValue(value, 1))) {\n      warning(false, '`disabled` should not set with empty `value`. You should set `allowEmpty` or `value` instead.');\n    }\n  } // ============================ Private ============================\n\n\n  if (pickerRef) {\n    pickerRef.current = {\n      focus: function focus() {\n        if (startInputRef.current) {\n          startInputRef.current.focus();\n        }\n      },\n      blur: function blur() {\n        if (startInputRef.current) {\n          startInputRef.current.blur();\n        }\n\n        if (endInputRef.current) {\n          endInputRef.current.blur();\n        }\n      }\n    };\n  } // ============================ Ranges =============================\n\n\n  var rangeLabels = Object.keys(ranges || {});\n  var rangeList = rangeLabels.map(function (label) {\n    var range = ranges[label];\n    var newValues = typeof range === 'function' ? range() : range;\n    return {\n      label: label,\n      onClick: function onClick() {\n        triggerChange(newValues, null);\n\n        _triggerOpen(false, mergedActivePickerIndex);\n      },\n      onMouseEnter: function onMouseEnter() {\n        setRangeHoverValue(newValues);\n      },\n      onMouseLeave: function onMouseLeave() {\n        setRangeHoverValue(null);\n      }\n    };\n  }); // ============================= Panel =============================\n\n  function renderPanel() {\n    var panelPosition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var panelProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var panelHoverRangedValue = null;\n\n    if (mergedOpen && hoverRangedValue && hoverRangedValue[0] && hoverRangedValue[1] && generateConfig.isAfter(hoverRangedValue[1], hoverRangedValue[0])) {\n      panelHoverRangedValue = hoverRangedValue;\n    }\n\n    var panelShowTime = showTime;\n\n    if (showTime && _typeof(showTime) === 'object' && showTime.defaultValue) {\n      var timeDefaultValues = showTime.defaultValue;\n      panelShowTime = _objectSpread(_objectSpread({}, showTime), {}, {\n        defaultValue: getValue(timeDefaultValues, mergedActivePickerIndex) || undefined\n      });\n    }\n\n    var panelDateRender = null;\n\n    if (dateRender) {\n      panelDateRender = function panelDateRender(date, today) {\n        return dateRender(date, today, {\n          range: mergedActivePickerIndex ? 'end' : 'start'\n        });\n      };\n    }\n\n    return /*#__PURE__*/React.createElement(RangeContext.Provider, {\n      value: {\n        inRange: true,\n        panelPosition: panelPosition,\n        rangedValue: rangeHoverValue || selectedValue,\n        hoverRangedValue: panelHoverRangedValue\n      }\n    }, /*#__PURE__*/React.createElement(PickerPanel, _extends({}, props, panelProps, {\n      dateRender: panelDateRender,\n      showTime: panelShowTime,\n      mode: mergedModes[mergedActivePickerIndex],\n      generateConfig: generateConfig,\n      style: undefined,\n      direction: direction,\n      disabledDate: mergedActivePickerIndex === 0 ? disabledStartDate : disabledEndDate,\n      disabledTime: function disabledTime(date) {\n        if (_disabledTime) {\n          return _disabledTime(date, mergedActivePickerIndex === 0 ? 'start' : 'end');\n        }\n\n        return false;\n      },\n      className: classNames(_defineProperty({}, \"\".concat(prefixCls, \"-panel-focused\"), mergedActivePickerIndex === 0 ? !startTyping : !endTyping)),\n      value: getValue(selectedValue, mergedActivePickerIndex),\n      locale: locale,\n      tabIndex: -1,\n      onPanelChange: function onPanelChange(date, newMode) {\n        // clear hover value when panel change\n        if (mergedActivePickerIndex === 0) {\n          onStartLeave(true);\n        }\n\n        if (mergedActivePickerIndex === 1) {\n          onEndLeave(true);\n        }\n\n        triggerModesChange(updateValues(mergedModes, newMode, mergedActivePickerIndex), updateValues(selectedValue, date, mergedActivePickerIndex));\n        var viewDate = date;\n\n        if (panelPosition === 'right' && mergedModes[mergedActivePickerIndex] === newMode) {\n          viewDate = getClosingViewDate(viewDate, newMode, generateConfig, -1);\n        }\n\n        setViewDate(viewDate, mergedActivePickerIndex);\n      },\n      onOk: null,\n      onSelect: undefined,\n      onChange: undefined,\n      defaultValue: mergedActivePickerIndex === 0 ? getValue(selectedValue, 1) : getValue(selectedValue, 0),\n      defaultPickerValue: undefined\n    })));\n  }\n\n  var arrowLeft = 0;\n  var panelLeft = 0;\n\n  if (mergedActivePickerIndex && startInputDivRef.current && separatorRef.current && panelDivRef.current) {\n    // Arrow offset\n    arrowLeft = startInputDivRef.current.offsetWidth + separatorRef.current.offsetWidth;\n\n    if (panelDivRef.current.offsetWidth && arrowLeft > panelDivRef.current.offsetWidth) {\n      panelLeft = arrowLeft;\n    }\n  }\n\n  var arrowPositionStyle = direction === 'rtl' ? {\n    right: arrowLeft\n  } : {\n    left: arrowLeft\n  };\n\n  function renderPanels() {\n    var panels;\n    var extraNode = getExtraFooter(prefixCls, mergedModes[mergedActivePickerIndex], renderExtraFooter);\n    var rangesNode = getRanges({\n      prefixCls: prefixCls,\n      components: components,\n      needConfirmButton: needConfirmButton,\n      okDisabled: !getValue(selectedValue, mergedActivePickerIndex) || disabledDate && disabledDate(selectedValue[mergedActivePickerIndex]),\n      locale: locale,\n      rangeList: rangeList,\n      onOk: function onOk() {\n        if (getValue(selectedValue, mergedActivePickerIndex)) {\n          // triggerChangeOld(selectedValue);\n          triggerChange(selectedValue, mergedActivePickerIndex);\n\n          if (_onOk) {\n            _onOk(selectedValue);\n          }\n        }\n      }\n    });\n\n    if (picker !== 'time' && !showTime) {\n      var viewDate = getViewDate(mergedActivePickerIndex);\n      var nextViewDate = getClosingViewDate(viewDate, picker, generateConfig);\n      var currentMode = mergedModes[mergedActivePickerIndex];\n      var showDoublePanel = currentMode === picker;\n      var leftPanel = renderPanel(showDoublePanel ? 'left' : false, {\n        pickerValue: viewDate,\n        onPickerValueChange: function onPickerValueChange(newViewDate) {\n          setViewDate(newViewDate, mergedActivePickerIndex);\n        }\n      });\n      var rightPanel = renderPanel('right', {\n        pickerValue: nextViewDate,\n        onPickerValueChange: function onPickerValueChange(newViewDate) {\n          setViewDate(getClosingViewDate(newViewDate, picker, generateConfig, -1), mergedActivePickerIndex);\n        }\n      });\n\n      if (direction === 'rtl') {\n        panels = /*#__PURE__*/React.createElement(React.Fragment, null, rightPanel, showDoublePanel && leftPanel);\n      } else {\n        panels = /*#__PURE__*/React.createElement(React.Fragment, null, leftPanel, showDoublePanel && rightPanel);\n      }\n    } else {\n      panels = renderPanel();\n    }\n\n    var mergedNodes = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-panels\")\n    }, panels), (extraNode || rangesNode) && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-footer\")\n    }, extraNode, rangesNode));\n\n    if (panelRender) {\n      mergedNodes = panelRender(mergedNodes);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-panel-container\"),\n      style: {\n        marginLeft: panelLeft\n      },\n      ref: panelDivRef,\n      onMouseDown: function onMouseDown(e) {\n        e.preventDefault();\n      }\n    }, mergedNodes);\n  }\n\n  var rangePanel = /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-range-wrapper\"), \"\".concat(prefixCls, \"-\").concat(picker, \"-range-wrapper\")),\n    style: {\n      minWidth: popupMinWidth\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-range-arrow\"),\n    style: arrowPositionStyle\n  }), renderPanels()); // ============================= Icons =============================\n\n  var suffixNode;\n\n  if (suffixIcon) {\n    suffixNode = /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-suffix\")\n    }, suffixIcon);\n  }\n\n  var clearNode;\n\n  if (allowClear && (getValue(mergedValue, 0) && !mergedDisabled[0] || getValue(mergedValue, 1) && !mergedDisabled[1])) {\n    clearNode = /*#__PURE__*/React.createElement(\"span\", {\n      onMouseDown: function onMouseDown(e) {\n        e.preventDefault();\n        e.stopPropagation();\n      },\n      onMouseUp: function onMouseUp(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var values = mergedValue;\n\n        if (!mergedDisabled[0]) {\n          values = updateValues(values, null, 0);\n        }\n\n        if (!mergedDisabled[1]) {\n          values = updateValues(values, null, 1);\n        }\n\n        triggerChange(values, null);\n\n        _triggerOpen(false, mergedActivePickerIndex);\n      },\n      className: \"\".concat(prefixCls, \"-clear\")\n    }, clearIcon || /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-clear-btn\")\n    }));\n  }\n\n  var inputSharedProps = {\n    size: getInputSize(picker, formatList[0], generateConfig)\n  };\n  var activeBarLeft = 0;\n  var activeBarWidth = 0;\n\n  if (startInputDivRef.current && endInputDivRef.current && separatorRef.current) {\n    if (mergedActivePickerIndex === 0) {\n      activeBarWidth = startInputDivRef.current.offsetWidth;\n    } else {\n      activeBarLeft = arrowLeft;\n      activeBarWidth = endInputDivRef.current.offsetWidth;\n    }\n  }\n\n  var activeBarPositionStyle = direction === 'rtl' ? {\n    right: activeBarLeft\n  } : {\n    left: activeBarLeft\n  }; // ============================ Return =============================\n\n  var onContextSelect = function onContextSelect(date, type) {\n    var values = updateValues(selectedValue, date, mergedActivePickerIndex);\n\n    if (type === 'submit' || type !== 'key' && !needConfirmButton) {\n      // triggerChange will also update selected values\n      triggerChange(values, mergedActivePickerIndex); // clear hover value style\n\n      if (mergedActivePickerIndex === 0) {\n        onStartLeave();\n      } else {\n        onEndLeave();\n      }\n    } else {\n      setSelectedValue(values);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(PanelContext.Provider, {\n    value: {\n      operationRef: operationRef,\n      hideHeader: picker === 'time',\n      onDateMouseEnter: onDateMouseEnter,\n      onDateMouseLeave: onDateMouseLeave,\n      hideRanges: true,\n      onSelect: onContextSelect,\n      open: mergedOpen\n    }\n  }, /*#__PURE__*/React.createElement(PickerTrigger, {\n    visible: mergedOpen,\n    popupElement: rangePanel,\n    popupStyle: popupStyle,\n    prefixCls: prefixCls,\n    dropdownClassName: dropdownClassName,\n    dropdownAlign: dropdownAlign,\n    getPopupContainer: getPopupContainer,\n    transitionName: transitionName,\n    range: true,\n    direction: direction\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: containerRef,\n    className: classNames(prefixCls, \"\".concat(prefixCls, \"-range\"), className, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), mergedDisabled[0] && mergedDisabled[1]), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), mergedActivePickerIndex === 0 ? startFocused : endFocused), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2)),\n    style: style,\n    onClick: onPickerClick,\n    onMouseDown: onPickerMouseDown\n  }, getDataOrAriaProps(props)), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-input\"), (_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex === 0), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-placeholder\"), !!startHoverValue), _classNames3)),\n    ref: startInputDivRef\n  }, /*#__PURE__*/React.createElement(\"input\", _extends({\n    id: id,\n    disabled: mergedDisabled[0],\n    readOnly: inputReadOnly || typeof formatList[0] === 'function' || !startTyping,\n    value: startHoverValue || startText,\n    onChange: function onChange(e) {\n      triggerStartTextChange(e.target.value);\n    },\n    autoFocus: autoFocus,\n    placeholder: getValue(placeholder, 0) || '',\n    ref: startInputRef\n  }, startInputProps, inputSharedProps, {\n    autoComplete: autoComplete\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-range-separator\"),\n    ref: separatorRef\n  }, separator), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-input\"), (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex === 1), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-placeholder\"), !!endHoverValue), _classNames4)),\n    ref: endInputDivRef\n  }, /*#__PURE__*/React.createElement(\"input\", _extends({\n    disabled: mergedDisabled[1],\n    readOnly: inputReadOnly || typeof formatList[0] === 'function' || !endTyping,\n    value: endHoverValue || endText,\n    onChange: function onChange(e) {\n      triggerEndTextChange(e.target.value);\n    },\n    placeholder: getValue(placeholder, 1) || '',\n    ref: endInputRef\n  }, endInputProps, inputSharedProps, {\n    autoComplete: autoComplete\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-active-bar\"),\n    style: _objectSpread(_objectSpread({}, activeBarPositionStyle), {}, {\n      width: activeBarWidth,\n      position: 'absolute'\n    })\n  }), suffixNode, clearNode)));\n} // Wrap with class component to enable pass generic with instance method\n\n\nvar RangePicker = /*#__PURE__*/function (_React$Component) {\n  _inherits(RangePicker, _React$Component);\n\n  var _super = _createSuper(RangePicker);\n\n  function RangePicker() {\n    var _this;\n\n    _classCallCheck(this, RangePicker);\n\n    _this = _super.apply(this, arguments);\n    _this.pickerRef = /*#__PURE__*/React.createRef();\n\n    _this.focus = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.focus();\n      }\n    };\n\n    _this.blur = function () {\n      if (_this.pickerRef.current) {\n        _this.pickerRef.current.blur();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(RangePicker, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(InnerRangePicker, _extends({}, this.props, {\n        pickerRef: this.pickerRef\n      }));\n    }\n  }]);\n\n  return RangePicker;\n}(React.Component);\n\nexport default RangePicker;","import * as React from 'react';\nimport { getValue } from '../utils/miscUtil';\nimport { isSameDate, getQuarter } from '../utils/dateUtil';\nexport default function useRangeDisabled(_ref, disabledStart, disabledEnd) {\n  var picker = _ref.picker,\n      locale = _ref.locale,\n      selectedValue = _ref.selectedValue,\n      disabledDate = _ref.disabledDate,\n      disabled = _ref.disabled,\n      generateConfig = _ref.generateConfig;\n  var startDate = getValue(selectedValue, 0);\n  var endDate = getValue(selectedValue, 1);\n\n  function weekFirstDate(date) {\n    return generateConfig.locale.getWeekFirstDate(locale.locale, date);\n  }\n\n  function monthNumber(date) {\n    var year = generateConfig.getYear(date);\n    var month = generateConfig.getMonth(date);\n    return year * 100 + month;\n  }\n\n  function quarterNumber(date) {\n    var year = generateConfig.getYear(date);\n    var quarter = getQuarter(generateConfig, date);\n    return year * 10 + quarter;\n  }\n\n  var disabledStartDate = React.useCallback(function (date) {\n    if (disabledDate && disabledDate(date)) {\n      return true;\n    } // Disabled range\n\n\n    if (disabled[1] && endDate) {\n      return !isSameDate(generateConfig, date, endDate) && generateConfig.isAfter(date, endDate);\n    } // Disabled part\n\n\n    if (disabledStart && endDate) {\n      switch (picker) {\n        case 'quarter':\n          return quarterNumber(date) > quarterNumber(endDate);\n\n        case 'month':\n          return monthNumber(date) > monthNumber(endDate);\n\n        case 'week':\n          return weekFirstDate(date) > weekFirstDate(endDate);\n\n        default:\n          return !isSameDate(generateConfig, date, endDate) && generateConfig.isAfter(date, endDate);\n      }\n    }\n\n    return false;\n  }, [disabledDate, disabled[1], endDate, disabledStart]);\n  var disabledEndDate = React.useCallback(function (date) {\n    if (disabledDate && disabledDate(date)) {\n      return true;\n    } // Disabled range\n\n\n    if (disabled[0] && startDate) {\n      return !isSameDate(generateConfig, date, endDate) && generateConfig.isAfter(startDate, date);\n    } // Disabled part\n\n\n    if (disabledEnd && startDate) {\n      switch (picker) {\n        case 'quarter':\n          return quarterNumber(date) < quarterNumber(startDate);\n\n        case 'month':\n          return monthNumber(date) < monthNumber(startDate);\n\n        case 'week':\n          return weekFirstDate(date) < weekFirstDate(startDate);\n\n        default:\n          return !isSameDate(generateConfig, date, startDate) && generateConfig.isAfter(startDate, date);\n      }\n    }\n\n    return false;\n  }, [disabledDate, disabled[0], startDate, disabledEnd]);\n  return [disabledStartDate, disabledEndDate];\n}","import Picker from './Picker';\nimport PickerPanel from './PickerPanel';\nimport RangePicker from './RangePicker';\nexport { PickerPanel, RangePicker };\nexport default Picker;","/**!\n * Sortable 1.13.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar version = \"1.13.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !!\n    /*@__PURE__*/\n    navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread({}, extraEventProperties, PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, [\"evt\"]);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    if (lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        threshold = sortable[expando].options.emptyInsertThreshold,\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (threshold && insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // assign target only if condition is true\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","import * as CodeMirror from 'codemirror';\nimport 'codemirror/mode/markdown/markdown';\nimport React, { Component } from 'react';\nimport { DomEvent, IDefineModeOptions, IEventDict, IGetSelectionOptions, IInstance, ISetScrollOptions, ISetSelectionOptions } from '../../common/codemirror';\nimport './codemirror.less';\nimport './index.less';\n\ndeclare let global: any;\ndeclare let require: any;\n\nconst SERVER_RENDERED = (typeof navigator === 'undefined' || global.PREVENT_CODEMIRROR_RENDER === true);\n\nlet cm: any;\nif (!SERVER_RENDERED) {\n  // tslint:disable-next-line: no-var-requires\n  cm = require('codemirror');\n}\n\nexport interface ICodeMirror {\n  value?: string,\n  width?: number | string,\n  height?: number | string,\n  className?: string;\n  cursor?: CodeMirror.Position;\n  defineMode?: IDefineModeOptions;\n  editorDidConfigure?: (editor: IInstance) => void;\n  editorDidMount?: (editor: IInstance, value: string, cb: () => void) => void;\n  editorWillMount?: () => void;\n  editorWillUnmount?: (lib: any) => void;\n  onClear?: (from: CodeMirror.Position, to: CodeMirror.Position) => void;\n  onBlur?: DomEvent;\n  onChange?: (editor: IInstance, data: CodeMirror.EditorChange, value: string) => void;\n  onContextMenu?: DomEvent;\n  onCopy?: DomEvent;\n  onCursor?: (editor: IInstance, data: CodeMirror.Position) => void;\n  onCut?: DomEvent;\n  onCursorActivity?: (editor: IInstance) => void;\n  onDblClick?: DomEvent;\n  onDragEnter?: DomEvent;\n  onDragLeave?: DomEvent;\n  onDragOver?: DomEvent\n  onDragStart?: DomEvent;\n  onDrop?: DomEvent;\n  onFocus?: DomEvent\n  onGutterClick?: (editor: IInstance, lineNumber: number, gutter: string, event: Event) => void;\n  onKeyDown?: DomEvent;\n  onKeyPress?: DomEvent;\n  onKeyUp?: DomEvent;\n  onMouseDown?: DomEvent;\n  onPaste?: DomEvent;\n  onRenderLine?: (editor: IInstance, line: CodeMirror.LineHandle, element: HTMLElement) => void;\n  onScroll?: (editor: IInstance, data: CodeMirror.ScrollInfo) => void;\n  onSelection?: (editor: IInstance, data: IGetSelectionOptions) => void;\n  onTouchStart?: DomEvent;\n  onUpdate?: (editor: IInstance) => void;\n  onViewportChange?: (editor: IInstance, start: number, end: number) => void;\n  options?: CodeMirror.EditorConfiguration\n  selection?: { ranges: ISetSelectionOptions[], focus?: boolean };\n  scroll?: ISetScrollOptions;\n  [key: string]: any,\n}\n\nexport interface ICodeMirrorState {\n  value: string;\n}\n\nexport default class ReactCodeMirror extends Component<ICodeMirror, ICodeMirrorState> {\n  public static defaultProps: ICodeMirror = {\n    height: '100%',\n    options: {\n      lineNumbers: true,\n      mode: 'markdown',\n      tabSize: 2,\n    },\n    value: '',\n    width: '100%',\n  }\n  public textarea!: HTMLTextAreaElement;\n  public editor!: CodeMirror.Editor;\n  // public editor!: Doc | Editor | EditorFromTextArea | Editor;\n  public constructor(props: Readonly<ICodeMirror>) {\n    super(props);\n    if (SERVER_RENDERED) {\n      return;\n    }\n\n    if (this.props.editorWillMount) {\n      this.props.editorWillMount();\n    }\n  }\n  public render() {\n    return (\n      <textarea ref={(instance: HTMLTextAreaElement) => this.textarea = instance} />\n    );\n  }\n\n  public componentDidMount() {\n    if (SERVER_RENDERED) {\n      return;\n    }\n\n    const { options } = this.props;\n    if (this.props.defineMode) {\n      if (this.props.defineMode.name && this.props.defineMode.fn) {\n        cm.defineMode(this.props.defineMode.name, this.props.defineMode.fn);\n      }\n    }\n\n    const editorOption = { tabSize: 2, lineNumbers: true, ...options, mode: 'markdown' };\n    // codemirror\n    this.editor = cm.fromTextArea(this.textarea, editorOption) as CodeMirror.EditorFromTextArea;\n    this.renderCodeMirror(this.props);\n  }\n\n  componentDidUpdate(prevProps: ICodeMirror) {\n    const { value, width, height } = this.props;\n    if (this.editor.getValue() !== value && value !== prevProps.value) {\n      this.editor.setValue(value || '');\n    }\n    if (width !== prevProps.width || height !== prevProps.height) {\n      // Setting Size\n      this.editor.setSize(width, height);\n    }\n  }\n\n  public shouldComponentUpdate(nextProps: ICodeMirror, nextState: ICodeMirrorState) {\n    return nextProps.value !== this.props.value \n    || nextProps.options !== this.props.options\n    || nextProps.height !== this.props.height\n    || nextProps.width !== this.props.width;\n  }\n  //  props \n  public getEventHandleFromProps(): IEventDict {\n    const propNames = Object.keys(this.props);\n    const eventHandle = propNames.filter((prop) => {\n      return /^on+/.test(prop);\n    });\n\n    const eventDict: IEventDict = {};\n    eventHandle.forEach((ele) => {\n      eventDict[ele] = ele.replace(/^on[A-Z]/g, s => s.slice(2).toLowerCase()) as string;\n    });\n\n    return eventDict;\n  }\n\n  private renderCodeMirror(props: ICodeMirror) {\n    const { value, width, height } = props;\n    // CodeMirror\n    // \n    const eventDict = this.getEventHandleFromProps();\n    Object.keys(eventDict).forEach((event: string) => {\n      const handle = this.props[event];\n      this.editor.on(eventDict[event], handle);\n    });\n    // Init value\n    this.editor.setValue(value || '');\n    // this.editor.setOption(name, editorOption.mode);\n\n    if (width || height) {\n      // Setting size\n      this.editor.setSize(width, height);\n    }\n  }\n}","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nmodule.exports = _createSuper;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../meta\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../meta\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"markdown\", function(cmCfg, modeCfg) {\n\n  var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n  var htmlModeMissing = htmlMode.name == \"null\"\n\n  function getMode(name) {\n    if (CodeMirror.findModeByName) {\n      var found = CodeMirror.findModeByName(name);\n      if (found) name = found.mime || found.mimes[0];\n    }\n    var mode = CodeMirror.getMode(cmCfg, name);\n    return mode.name == \"null\" ? null : mode;\n  }\n\n  // Should characters that affect highlighting be highlighted separate?\n  // Does not include characters that will be output (such as `1.` and `-` for lists)\n  if (modeCfg.highlightFormatting === undefined)\n    modeCfg.highlightFormatting = false;\n\n  // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n  // Excess `>` will emit `error` token.\n  if (modeCfg.maxBlockquoteDepth === undefined)\n    modeCfg.maxBlockquoteDepth = 0;\n\n  // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n  if (modeCfg.taskLists === undefined) modeCfg.taskLists = false;\n\n  // Turn on strikethrough syntax\n  if (modeCfg.strikethrough === undefined)\n    modeCfg.strikethrough = false;\n\n  if (modeCfg.emoji === undefined)\n    modeCfg.emoji = false;\n\n  if (modeCfg.fencedCodeBlockHighlighting === undefined)\n    modeCfg.fencedCodeBlockHighlighting = true;\n\n  if (modeCfg.fencedCodeBlockDefaultMode === undefined)\n    modeCfg.fencedCodeBlockDefaultMode = 'text/plain';\n\n  if (modeCfg.xml === undefined)\n    modeCfg.xml = true;\n\n  // Allow token types to be overridden by user-provided token types.\n  if (modeCfg.tokenTypeOverrides === undefined)\n    modeCfg.tokenTypeOverrides = {};\n\n  var tokenTypes = {\n    header: \"header\",\n    code: \"comment\",\n    quote: \"quote\",\n    list1: \"variable-2\",\n    list2: \"variable-3\",\n    list3: \"keyword\",\n    hr: \"hr\",\n    image: \"image\",\n    imageAltText: \"image-alt-text\",\n    imageMarker: \"image-marker\",\n    formatting: \"formatting\",\n    linkInline: \"link\",\n    linkEmail: \"link\",\n    linkText: \"link\",\n    linkHref: \"string\",\n    em: \"em\",\n    strong: \"strong\",\n    strikethrough: \"strikethrough\",\n    emoji: \"builtin\"\n  };\n\n  for (var tokenType in tokenTypes) {\n    if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n      tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n    }\n  }\n\n  var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/\n  ,   listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/\n  ,   taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n  ,   atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/\n  ,   setextHeaderRE = /^ {0,3}(?:\\={1,}|-{2,})\\s*$/\n  ,   textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/\n  ,   fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w\\/+#-]*)[^\\n`]*$/\n  ,   linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n  ,   punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/\n  ,   expandedTab = \"    \" // CommonMark specifies tab as 4 spaces\n\n  function switchInline(stream, state, f) {\n    state.f = state.inline = f;\n    return f(stream, state);\n  }\n\n  function switchBlock(stream, state, f) {\n    state.f = state.block = f;\n    return f(stream, state);\n  }\n\n  function lineIsEmpty(line) {\n    return !line || !/\\S/.test(line.string)\n  }\n\n  // Blocks\n\n  function blankLine(state) {\n    // Reset linkTitle state\n    state.linkTitle = false;\n    state.linkHref = false;\n    state.linkText = false;\n    // Reset EM state\n    state.em = false;\n    // Reset STRONG state\n    state.strong = false;\n    // Reset strikethrough state\n    state.strikethrough = false;\n    // Reset state.quote\n    state.quote = 0;\n    // Reset state.indentedCode\n    state.indentedCode = false;\n    if (state.f == htmlBlock) {\n      var exit = htmlModeMissing\n      if (!exit) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n        exit = inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n          (!inner.state.context && inner.state.tokenize.isInText)\n      }\n      if (exit) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    // Reset state.trailingSpace\n    state.trailingSpace = 0;\n    state.trailingSpaceNewLine = false;\n    // Mark this line as blank\n    state.prevLine = state.thisLine\n    state.thisLine = {stream: null}\n    return null;\n  }\n\n  function blockNormal(stream, state) {\n    var firstTokenOnLine = stream.column() === state.indentation;\n    var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n    var prevLineIsIndentedCode = state.indentedCode;\n    var prevLineIsHr = state.prevLine.hr;\n    var prevLineIsList = state.list !== false;\n    var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n\n    state.indentedCode = false;\n\n    var lineIndentation = state.indentation;\n    // compute once per line (on first token)\n    if (state.indentationDiff === null) {\n      state.indentationDiff = state.indentation;\n      if (prevLineIsList) {\n        state.list = null;\n        // While this list item's marker's indentation is less than the deepest\n        //  list item's content's indentation,pop the deepest list item\n        //  indentation off the stack, and update block indentation state\n        while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n          state.listStack.pop();\n          if (state.listStack.length) {\n            state.indentation = state.listStack[state.listStack.length - 1];\n          // less than the first list's indent -> the line is no longer a list\n          } else {\n            state.list = false;\n          }\n        }\n        if (state.list !== false) {\n          state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1]\n        }\n      }\n    }\n\n    // not comprehensive (currently only for setext detection purposes)\n    var allowsInlineContinuation = (\n        !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header &&\n        (!prevLineIsList || !prevLineIsIndentedCode) &&\n        !state.prevLine.fencedCodeEnd\n    );\n\n    var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) &&\n      state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n\n    var match = null;\n    if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd ||\n         state.prevLine.header || prevLineLineIsEmpty)) {\n      stream.skipToEnd();\n      state.indentedCode = true;\n      return tokenTypes.code;\n    } else if (stream.eatSpace()) {\n      return null;\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n      state.quote = 0;\n      state.header = match[1].length;\n      state.thisLine.header = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      state.f = state.inline;\n      return getType(state);\n    } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n      state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n      if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n      stream.eatSpace();\n      return getType(state);\n    } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n      var listType = match[1] ? \"ol\" : \"ul\";\n\n      state.indentation = lineIndentation + stream.current().length;\n      state.list = true;\n      state.quote = 0;\n\n      // Add this list item's content's indentation to the stack\n      state.listStack.push(state.indentation);\n      // Reset inline styles which shouldn't propagate across list items\n      state.em = false;\n      state.strong = false;\n      state.code = false;\n      state.strikethrough = false;\n\n      if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n        state.taskList = true;\n      }\n      state.f = state.inline;\n      if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n      return getType(state);\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n      state.quote = 0;\n      state.fencedEndRE = new RegExp(match[1] + \"+ *$\");\n      // try switching mode\n      state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2] || modeCfg.fencedCodeBlockDefaultMode );\n      if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n      state.f = state.block = local;\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      state.code = -1\n      return getType(state);\n    // SETEXT has lowest block-scope precedence after HR, so check it after\n    //  the others (code, blockquote, list...)\n    } else if (\n      // if setext set, indicates line after ---/===\n      state.setext || (\n        // line before ---/===\n        (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false &&\n        !state.code && !isHr && !linkDefRE.test(stream.string) &&\n        (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))\n      )\n    ) {\n      if ( !state.setext ) {\n        state.header = match[0].charAt(0) == '=' ? 1 : 2;\n        state.setext = state.header;\n      } else {\n        state.header = state.setext;\n        // has no effect on type so we can reset it now\n        state.setext = 0;\n        stream.skipToEnd();\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      }\n      state.thisLine.header = true;\n      state.f = state.inline;\n      return getType(state);\n    } else if (isHr) {\n      stream.skipToEnd();\n      state.hr = true;\n      state.thisLine.hr = true;\n      return tokenTypes.hr;\n    } else if (stream.peek() === '[') {\n      return switchInline(stream, state, footnoteLink);\n    }\n\n    return switchInline(stream, state, state.inline);\n  }\n\n  function htmlBlock(stream, state) {\n    var style = htmlMode.token(stream, state.htmlState);\n    if (!htmlModeMissing) {\n      var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n      if ((inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n           (!inner.state.context && inner.state.tokenize.isInText)) ||\n          (state.md_inside && stream.current().indexOf(\">\") > -1)) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    return style;\n  }\n\n  function local(stream, state) {\n    var currListInd = state.listStack[state.listStack.length - 1] || 0;\n    var hasExitedList = state.indentation < currListInd;\n    var maxFencedEndInd = currListInd + 3;\n    if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      var returnType;\n      if (!hasExitedList) returnType = getType(state)\n      state.localMode = state.localState = null;\n      state.block = blockNormal;\n      state.f = inlineNormal;\n      state.fencedEndRE = null;\n      state.code = 0\n      state.thisLine.fencedCodeEnd = true;\n      if (hasExitedList) return switchBlock(stream, state, state.block);\n      return returnType;\n    } else if (state.localMode) {\n      return state.localMode.token(stream, state.localState);\n    } else {\n      stream.skipToEnd();\n      return tokenTypes.code;\n    }\n  }\n\n  // Inline\n  function getType(state) {\n    var styles = [];\n\n    if (state.formatting) {\n      styles.push(tokenTypes.formatting);\n\n      if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n      for (var i = 0; i < state.formatting.length; i++) {\n        styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n        if (state.formatting[i] === \"header\") {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n        }\n\n        // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n        // Add `error` instead if the maximum blockquote nesting depth is passed\n        if (state.formatting[i] === \"quote\") {\n          if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n          } else {\n            styles.push(\"error\");\n          }\n        }\n      }\n    }\n\n    if (state.taskOpen) {\n      styles.push(\"meta\");\n      return styles.length ? styles.join(' ') : null;\n    }\n    if (state.taskClosed) {\n      styles.push(\"property\");\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    if (state.linkHref) {\n      styles.push(tokenTypes.linkHref, \"url\");\n    } else { // Only apply inline styles to non-url text\n      if (state.strong) { styles.push(tokenTypes.strong); }\n      if (state.em) { styles.push(tokenTypes.em); }\n      if (state.strikethrough) { styles.push(tokenTypes.strikethrough); }\n      if (state.emoji) { styles.push(tokenTypes.emoji); }\n      if (state.linkText) { styles.push(tokenTypes.linkText); }\n      if (state.code) { styles.push(tokenTypes.code); }\n      if (state.image) { styles.push(tokenTypes.image); }\n      if (state.imageAltText) { styles.push(tokenTypes.imageAltText, \"link\"); }\n      if (state.imageMarker) { styles.push(tokenTypes.imageMarker); }\n    }\n\n    if (state.header) { styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header); }\n\n    if (state.quote) {\n      styles.push(tokenTypes.quote);\n\n      // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n      if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n        styles.push(tokenTypes.quote + \"-\" + state.quote);\n      } else {\n        styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n      }\n    }\n\n    if (state.list !== false) {\n      var listMod = (state.listStack.length - 1) % 3;\n      if (!listMod) {\n        styles.push(tokenTypes.list1);\n      } else if (listMod === 1) {\n        styles.push(tokenTypes.list2);\n      } else {\n        styles.push(tokenTypes.list3);\n      }\n    }\n\n    if (state.trailingSpaceNewLine) {\n      styles.push(\"trailing-space-new-line\");\n    } else if (state.trailingSpace) {\n      styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n    }\n\n    return styles.length ? styles.join(' ') : null;\n  }\n\n  function handleText(stream, state) {\n    if (stream.match(textRE, true)) {\n      return getType(state);\n    }\n    return undefined;\n  }\n\n  function inlineNormal(stream, state) {\n    var style = state.text(stream, state);\n    if (typeof style !== 'undefined')\n      return style;\n\n    if (state.list) { // List marker (*, +, -, 1., etc)\n      state.list = null;\n      return getType(state);\n    }\n\n    if (state.taskList) {\n      var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n      if (taskOpen) state.taskOpen = true;\n      else state.taskClosed = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"task\";\n      state.taskList = false;\n      return getType(state);\n    }\n\n    state.taskOpen = false;\n    state.taskClosed = false;\n\n    if (state.header && stream.match(/^#+$/, true)) {\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      return getType(state);\n    }\n\n    var ch = stream.next();\n\n    // Matches link titles present on next line\n    if (state.linkTitle) {\n      state.linkTitle = false;\n      var matchCh = ch;\n      if (ch === '(') {\n        matchCh = ')';\n      }\n      matchCh = (matchCh+'').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n      var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n      if (stream.match(new RegExp(regex), true)) {\n        return tokenTypes.linkHref;\n      }\n    }\n\n    // If this block is changed, it may need to be updated in GFM mode\n    if (ch === '`') {\n      var previousFormatting = state.formatting;\n      if (modeCfg.highlightFormatting) state.formatting = \"code\";\n      stream.eatWhile('`');\n      var count = stream.current().length\n      if (state.code == 0 && (!state.quote || count == 1)) {\n        state.code = count\n        return getType(state)\n      } else if (count == state.code) { // Must be exact\n        var t = getType(state)\n        state.code = 0\n        return t\n      } else {\n        state.formatting = previousFormatting\n        return getType(state)\n      }\n    } else if (state.code) {\n      return getType(state);\n    }\n\n    if (ch === '\\\\') {\n      stream.next();\n      if (modeCfg.highlightFormatting) {\n        var type = getType(state);\n        var formattingEscape = tokenTypes.formatting + \"-escape\";\n        return type ? type + \" \" + formattingEscape : formattingEscape;\n      }\n    }\n\n    if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n      state.imageMarker = true;\n      state.image = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n      state.imageMarker = false;\n      state.imageAltText = true\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.imageAltText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      var type = getType(state);\n      state.imageAltText = false;\n      state.image = false;\n      state.inline = state.f = linkHref;\n      return type;\n    }\n\n    if (ch === '[' && !state.image) {\n      if (state.linkText && stream.match(/^.*?\\]/)) return getType(state)\n      state.linkText = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.linkText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      state.linkText = false;\n      state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal\n      return type;\n    }\n\n    if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkEmail;\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n      var end = stream.string.indexOf(\">\", stream.pos);\n      if (end != -1) {\n        var atts = stream.string.substring(stream.start, end);\n        if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n      }\n      stream.backUp(1);\n      state.htmlState = CodeMirror.startState(htmlMode);\n      return switchBlock(stream, state, htmlBlock);\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n      state.md_inside = false;\n      return \"tag\";\n    } else if (ch === \"*\" || ch === \"_\") {\n      var len = 1, before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2)\n      while (len < 3 && stream.eat(ch)) len++\n      var after = stream.peek() || \" \"\n      // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n      var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before))\n      var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after))\n      var setEm = null, setStrong = null\n      if (len % 2) { // Em\n        if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setEm = true\n        else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setEm = false\n      }\n      if (len > 1) { // Strong\n        if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setStrong = true\n        else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setStrong = false\n      }\n      if (setStrong != null || setEm != null) {\n        if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\"\n        if (setEm === true) state.em = ch\n        if (setStrong === true) state.strong = ch\n        var t = getType(state)\n        if (setEm === false) state.em = false\n        if (setStrong === false) state.strong = false\n        return t\n      }\n    } else if (ch === ' ') {\n      if (stream.eat('*') || stream.eat('_')) { // Probably surrounded by spaces\n        if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n          return getType(state);\n        } else { // Not surrounded by spaces, back up pointer\n          stream.backUp(1);\n        }\n      }\n    }\n\n    if (modeCfg.strikethrough) {\n      if (ch === '~' && stream.eatWhile(ch)) {\n        if (state.strikethrough) {// Remove strikethrough\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          var t = getType(state);\n          state.strikethrough = false;\n          return t;\n        } else if (stream.match(/^[^\\s]/, false)) {// Add strikethrough\n          state.strikethrough = true;\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          return getType(state);\n        }\n      } else if (ch === ' ') {\n        if (stream.match('~~', true)) { // Probably surrounded by space\n          if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n            return getType(state);\n          } else { // Not surrounded by spaces, back up pointer\n            stream.backUp(2);\n          }\n        }\n      }\n    }\n\n    if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n      state.emoji = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n      var retType = getType(state);\n      state.emoji = false;\n      return retType;\n    }\n\n    if (ch === ' ') {\n      if (stream.match(/^ +$/, false)) {\n        state.trailingSpace++;\n      } else if (state.trailingSpace) {\n        state.trailingSpaceNewLine = true;\n      }\n    }\n\n    return getType(state);\n  }\n\n  function linkInline(stream, state) {\n    var ch = stream.next();\n\n    if (ch === \">\") {\n      state.f = state.inline = inlineNormal;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    stream.match(/^[^>]+/, true);\n\n    return tokenTypes.linkInline;\n  }\n\n  function linkHref(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    var ch = stream.next();\n    if (ch === '(' || ch === '[') {\n      state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n      if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n      state.linkHref = true;\n      return getType(state);\n    }\n    return 'error';\n  }\n\n  var linkRE = {\n    \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n    \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n  }\n\n  function getLinkHrefInside(endChar) {\n    return function(stream, state) {\n      var ch = stream.next();\n\n      if (ch === endChar) {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        var returnState = getType(state);\n        state.linkHref = false;\n        return returnState;\n      }\n\n      stream.match(linkRE[endChar])\n      state.linkHref = true;\n      return getType(state);\n    };\n  }\n\n  function footnoteLink(stream, state) {\n    if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n      state.f = footnoteLinkInside;\n      stream.next(); // Consume [\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      state.linkText = true;\n      return getType(state);\n    }\n    return switchInline(stream, state, inlineNormal);\n  }\n\n  function footnoteLinkInside(stream, state) {\n    if (stream.match(']:', true)) {\n      state.f = state.inline = footnoteUrl;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var returnType = getType(state);\n      state.linkText = false;\n      return returnType;\n    }\n\n    stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n\n    return tokenTypes.linkText;\n  }\n\n  function footnoteUrl(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    // Match URL\n    stream.match(/^[^\\s]+/, true);\n    // Check for link title\n    if (stream.peek() === undefined) { // End of line, set flag to check next line\n      state.linkTitle = true;\n    } else { // More content on line, check if link title\n      stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\.)+\"|'(?:[^'\\\\]|\\\\.)+'|\\((?:[^)\\\\]|\\\\.)+\\)))?/, true);\n    }\n    state.f = state.inline = inlineNormal;\n    return tokenTypes.linkHref + \" url\";\n  }\n\n  var mode = {\n    startState: function() {\n      return {\n        f: blockNormal,\n\n        prevLine: {stream: null},\n        thisLine: {stream: null},\n\n        block: blockNormal,\n        htmlState: null,\n        indentation: 0,\n\n        inline: inlineNormal,\n        text: handleText,\n\n        formatting: false,\n        linkText: false,\n        linkHref: false,\n        linkTitle: false,\n        code: 0,\n        em: false,\n        strong: false,\n        header: 0,\n        setext: 0,\n        hr: false,\n        taskList: false,\n        list: false,\n        listStack: [],\n        quote: 0,\n        trailingSpace: 0,\n        trailingSpaceNewLine: false,\n        strikethrough: false,\n        emoji: false,\n        fencedEndRE: null\n      };\n    },\n\n    copyState: function(s) {\n      return {\n        f: s.f,\n\n        prevLine: s.prevLine,\n        thisLine: s.thisLine,\n\n        block: s.block,\n        htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n        indentation: s.indentation,\n\n        localMode: s.localMode,\n        localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n\n        inline: s.inline,\n        text: s.text,\n        formatting: false,\n        linkText: s.linkText,\n        linkTitle: s.linkTitle,\n        linkHref: s.linkHref,\n        code: s.code,\n        em: s.em,\n        strong: s.strong,\n        strikethrough: s.strikethrough,\n        emoji: s.emoji,\n        header: s.header,\n        setext: s.setext,\n        hr: s.hr,\n        taskList: s.taskList,\n        list: s.list,\n        listStack: s.listStack.slice(0),\n        quote: s.quote,\n        indentedCode: s.indentedCode,\n        trailingSpace: s.trailingSpace,\n        trailingSpaceNewLine: s.trailingSpaceNewLine,\n        md_inside: s.md_inside,\n        fencedEndRE: s.fencedEndRE\n      };\n    },\n\n    token: function(stream, state) {\n\n      // Reset state.formatting\n      state.formatting = false;\n\n      if (stream != state.thisLine.stream) {\n        state.header = 0;\n        state.hr = false;\n\n        if (stream.match(/^\\s*$/, true)) {\n          blankLine(state);\n          return null;\n        }\n\n        state.prevLine = state.thisLine\n        state.thisLine = {stream: stream}\n\n        // Reset state.taskList\n        state.taskList = false;\n\n        // Reset state.trailingSpace\n        state.trailingSpace = 0;\n        state.trailingSpaceNewLine = false;\n\n        if (!state.localState) {\n          state.f = state.block;\n          if (state.f != htmlBlock) {\n            var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n            state.indentation = indentation;\n            state.indentationDiff = null;\n            if (indentation > 0) return null;\n          }\n        }\n      }\n      return state.f(stream, state);\n    },\n\n    innerMode: function(state) {\n      if (state.block == htmlBlock) return {state: state.htmlState, mode: htmlMode};\n      if (state.localState) return {state: state.localState, mode: state.localMode};\n      return {state: state, mode: mode};\n    },\n\n    indent: function(state, textAfter, line) {\n      if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line)\n      if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line)\n      return CodeMirror.Pass\n    },\n\n    blankLine: blankLine,\n\n    getType: getType,\n\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    fold: \"markdown\"\n  };\n  return mode;\n}, \"xml\");\n\nCodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n\nCodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName || \"\";\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.modeInfo = [\n    {name: \"APL\", mime: \"text/apl\", mode: \"apl\", ext: [\"dyalog\", \"apl\"]},\n    {name: \"PGP\", mimes: [\"application/pgp\", \"application/pgp-encrypted\", \"application/pgp-keys\", \"application/pgp-signature\"], mode: \"asciiarmor\", ext: [\"asc\", \"pgp\", \"sig\"]},\n    {name: \"ASN.1\", mime: \"text/x-ttcn-asn\", mode: \"asn.1\", ext: [\"asn\", \"asn1\"]},\n    {name: \"Asterisk\", mime: \"text/x-asterisk\", mode: \"asterisk\", file: /^extensions\\.conf$/i},\n    {name: \"Brainfuck\", mime: \"text/x-brainfuck\", mode: \"brainfuck\", ext: [\"b\", \"bf\"]},\n    {name: \"C\", mime: \"text/x-csrc\", mode: \"clike\", ext: [\"c\", \"h\", \"ino\"]},\n    {name: \"C++\", mime: \"text/x-c++src\", mode: \"clike\", ext: [\"cpp\", \"c++\", \"cc\", \"cxx\", \"hpp\", \"h++\", \"hh\", \"hxx\"], alias: [\"cpp\"]},\n    {name: \"Cobol\", mime: \"text/x-cobol\", mode: \"cobol\", ext: [\"cob\", \"cpy\"]},\n    {name: \"C#\", mime: \"text/x-csharp\", mode: \"clike\", ext: [\"cs\"], alias: [\"csharp\", \"cs\"]},\n    {name: \"Clojure\", mime: \"text/x-clojure\", mode: \"clojure\", ext: [\"clj\", \"cljc\", \"cljx\"]},\n    {name: \"ClojureScript\", mime: \"text/x-clojurescript\", mode: \"clojure\", ext: [\"cljs\"]},\n    {name: \"Closure Stylesheets (GSS)\", mime: \"text/x-gss\", mode: \"css\", ext: [\"gss\"]},\n    {name: \"CMake\", mime: \"text/x-cmake\", mode: \"cmake\", ext: [\"cmake\", \"cmake.in\"], file: /^CMakeLists\\.txt$/},\n    {name: \"CoffeeScript\", mimes: [\"application/vnd.coffeescript\", \"text/coffeescript\", \"text/x-coffeescript\"], mode: \"coffeescript\", ext: [\"coffee\"], alias: [\"coffee\", \"coffee-script\"]},\n    {name: \"Common Lisp\", mime: \"text/x-common-lisp\", mode: \"commonlisp\", ext: [\"cl\", \"lisp\", \"el\"], alias: [\"lisp\"]},\n    {name: \"Cypher\", mime: \"application/x-cypher-query\", mode: \"cypher\", ext: [\"cyp\", \"cypher\"]},\n    {name: \"Cython\", mime: \"text/x-cython\", mode: \"python\", ext: [\"pyx\", \"pxd\", \"pxi\"]},\n    {name: \"Crystal\", mime: \"text/x-crystal\", mode: \"crystal\", ext: [\"cr\"]},\n    {name: \"CSS\", mime: \"text/css\", mode: \"css\", ext: [\"css\"]},\n    {name: \"CQL\", mime: \"text/x-cassandra\", mode: \"sql\", ext: [\"cql\"]},\n    {name: \"D\", mime: \"text/x-d\", mode: \"d\", ext: [\"d\"]},\n    {name: \"Dart\", mimes: [\"application/dart\", \"text/x-dart\"], mode: \"dart\", ext: [\"dart\"]},\n    {name: \"diff\", mime: \"text/x-diff\", mode: \"diff\", ext: [\"diff\", \"patch\"]},\n    {name: \"Django\", mime: \"text/x-django\", mode: \"django\"},\n    {name: \"Dockerfile\", mime: \"text/x-dockerfile\", mode: \"dockerfile\", file: /^Dockerfile$/},\n    {name: \"DTD\", mime: \"application/xml-dtd\", mode: \"dtd\", ext: [\"dtd\"]},\n    {name: \"Dylan\", mime: \"text/x-dylan\", mode: \"dylan\", ext: [\"dylan\", \"dyl\", \"intr\"]},\n    {name: \"EBNF\", mime: \"text/x-ebnf\", mode: \"ebnf\"},\n    {name: \"ECL\", mime: \"text/x-ecl\", mode: \"ecl\", ext: [\"ecl\"]},\n    {name: \"edn\", mime: \"application/edn\", mode: \"clojure\", ext: [\"edn\"]},\n    {name: \"Eiffel\", mime: \"text/x-eiffel\", mode: \"eiffel\", ext: [\"e\"]},\n    {name: \"Elm\", mime: \"text/x-elm\", mode: \"elm\", ext: [\"elm\"]},\n    {name: \"Embedded JavaScript\", mime: \"application/x-ejs\", mode: \"htmlembedded\", ext: [\"ejs\"]},\n    {name: \"Embedded Ruby\", mime: \"application/x-erb\", mode: \"htmlembedded\", ext: [\"erb\"]},\n    {name: \"Erlang\", mime: \"text/x-erlang\", mode: \"erlang\", ext: [\"erl\"]},\n    {name: \"Esper\", mime: \"text/x-esper\", mode: \"sql\"},\n    {name: \"Factor\", mime: \"text/x-factor\", mode: \"factor\", ext: [\"factor\"]},\n    {name: \"FCL\", mime: \"text/x-fcl\", mode: \"fcl\"},\n    {name: \"Forth\", mime: \"text/x-forth\", mode: \"forth\", ext: [\"forth\", \"fth\", \"4th\"]},\n    {name: \"Fortran\", mime: \"text/x-fortran\", mode: \"fortran\", ext: [\"f\", \"for\", \"f77\", \"f90\", \"f95\"]},\n    {name: \"F#\", mime: \"text/x-fsharp\", mode: \"mllike\", ext: [\"fs\"], alias: [\"fsharp\"]},\n    {name: \"Gas\", mime: \"text/x-gas\", mode: \"gas\", ext: [\"s\"]},\n    {name: \"Gherkin\", mime: \"text/x-feature\", mode: \"gherkin\", ext: [\"feature\"]},\n    {name: \"GitHub Flavored Markdown\", mime: \"text/x-gfm\", mode: \"gfm\", file: /^(readme|contributing|history)\\.md$/i},\n    {name: \"Go\", mime: \"text/x-go\", mode: \"go\", ext: [\"go\"]},\n    {name: \"Groovy\", mime: \"text/x-groovy\", mode: \"groovy\", ext: [\"groovy\", \"gradle\"], file: /^Jenkinsfile$/},\n    {name: \"HAML\", mime: \"text/x-haml\", mode: \"haml\", ext: [\"haml\"]},\n    {name: \"Haskell\", mime: \"text/x-haskell\", mode: \"haskell\", ext: [\"hs\"]},\n    {name: \"Haskell (Literate)\", mime: \"text/x-literate-haskell\", mode: \"haskell-literate\", ext: [\"lhs\"]},\n    {name: \"Haxe\", mime: \"text/x-haxe\", mode: \"haxe\", ext: [\"hx\"]},\n    {name: \"HXML\", mime: \"text/x-hxml\", mode: \"haxe\", ext: [\"hxml\"]},\n    {name: \"ASP.NET\", mime: \"application/x-aspx\", mode: \"htmlembedded\", ext: [\"aspx\"], alias: [\"asp\", \"aspx\"]},\n    {name: \"HTML\", mime: \"text/html\", mode: \"htmlmixed\", ext: [\"html\", \"htm\", \"handlebars\", \"hbs\"], alias: [\"xhtml\"]},\n    {name: \"HTTP\", mime: \"message/http\", mode: \"http\"},\n    {name: \"IDL\", mime: \"text/x-idl\", mode: \"idl\", ext: [\"pro\"]},\n    {name: \"Pug\", mime: \"text/x-pug\", mode: \"pug\", ext: [\"jade\", \"pug\"], alias: [\"jade\"]},\n    {name: \"Java\", mime: \"text/x-java\", mode: \"clike\", ext: [\"java\"]},\n    {name: \"Java Server Pages\", mime: \"application/x-jsp\", mode: \"htmlembedded\", ext: [\"jsp\"], alias: [\"jsp\"]},\n    {name: \"JavaScript\", mimes: [\"text/javascript\", \"text/ecmascript\", \"application/javascript\", \"application/x-javascript\", \"application/ecmascript\"],\n     mode: \"javascript\", ext: [\"js\"], alias: [\"ecmascript\", \"js\", \"node\"]},\n    {name: \"JSON\", mimes: [\"application/json\", \"application/x-json\"], mode: \"javascript\", ext: [\"json\", \"map\"], alias: [\"json5\"]},\n    {name: \"JSON-LD\", mime: \"application/ld+json\", mode: \"javascript\", ext: [\"jsonld\"], alias: [\"jsonld\"]},\n    {name: \"JSX\", mime: \"text/jsx\", mode: \"jsx\", ext: [\"jsx\"]},\n    {name: \"Jinja2\", mime: \"text/jinja2\", mode: \"jinja2\", ext: [\"j2\", \"jinja\", \"jinja2\"]},\n    {name: \"Julia\", mime: \"text/x-julia\", mode: \"julia\", ext: [\"jl\"]},\n    {name: \"Kotlin\", mime: \"text/x-kotlin\", mode: \"clike\", ext: [\"kt\"]},\n    {name: \"LESS\", mime: \"text/x-less\", mode: \"css\", ext: [\"less\"]},\n    {name: \"LiveScript\", mime: \"text/x-livescript\", mode: \"livescript\", ext: [\"ls\"], alias: [\"ls\"]},\n    {name: \"Lua\", mime: \"text/x-lua\", mode: \"lua\", ext: [\"lua\"]},\n    {name: \"Markdown\", mime: \"text/x-markdown\", mode: \"markdown\", ext: [\"markdown\", \"md\", \"mkd\"]},\n    {name: \"mIRC\", mime: \"text/mirc\", mode: \"mirc\"},\n    {name: \"MariaDB SQL\", mime: \"text/x-mariadb\", mode: \"sql\"},\n    {name: \"Mathematica\", mime: \"text/x-mathematica\", mode: \"mathematica\", ext: [\"m\", \"nb\", \"wl\", \"wls\"]},\n    {name: \"Modelica\", mime: \"text/x-modelica\", mode: \"modelica\", ext: [\"mo\"]},\n    {name: \"MUMPS\", mime: \"text/x-mumps\", mode: \"mumps\", ext: [\"mps\"]},\n    {name: \"MS SQL\", mime: \"text/x-mssql\", mode: \"sql\"},\n    {name: \"mbox\", mime: \"application/mbox\", mode: \"mbox\", ext: [\"mbox\"]},\n    {name: \"MySQL\", mime: \"text/x-mysql\", mode: \"sql\"},\n    {name: \"Nginx\", mime: \"text/x-nginx-conf\", mode: \"nginx\", file: /nginx.*\\.conf$/i},\n    {name: \"NSIS\", mime: \"text/x-nsis\", mode: \"nsis\", ext: [\"nsh\", \"nsi\"]},\n    {name: \"NTriples\", mimes: [\"application/n-triples\", \"application/n-quads\", \"text/n-triples\"],\n     mode: \"ntriples\", ext: [\"nt\", \"nq\"]},\n    {name: \"Objective-C\", mime: \"text/x-objectivec\", mode: \"clike\", ext: [\"m\"], alias: [\"objective-c\", \"objc\"]},\n    {name: \"Objective-C++\", mime: \"text/x-objectivec++\", mode: \"clike\", ext: [\"mm\"], alias: [\"objective-c++\", \"objc++\"]},\n    {name: \"OCaml\", mime: \"text/x-ocaml\", mode: \"mllike\", ext: [\"ml\", \"mli\", \"mll\", \"mly\"]},\n    {name: \"Octave\", mime: \"text/x-octave\", mode: \"octave\", ext: [\"m\"]},\n    {name: \"Oz\", mime: \"text/x-oz\", mode: \"oz\", ext: [\"oz\"]},\n    {name: \"Pascal\", mime: \"text/x-pascal\", mode: \"pascal\", ext: [\"p\", \"pas\"]},\n    {name: \"PEG.js\", mime: \"null\", mode: \"pegjs\", ext: [\"jsonld\"]},\n    {name: \"Perl\", mime: \"text/x-perl\", mode: \"perl\", ext: [\"pl\", \"pm\"]},\n    {name: \"PHP\", mimes: [\"text/x-php\", \"application/x-httpd-php\", \"application/x-httpd-php-open\"], mode: \"php\", ext: [\"php\", \"php3\", \"php4\", \"php5\", \"php7\", \"phtml\"]},\n    {name: \"Pig\", mime: \"text/x-pig\", mode: \"pig\", ext: [\"pig\"]},\n    {name: \"Plain Text\", mime: \"text/plain\", mode: \"null\", ext: [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\"]},\n    {name: \"PLSQL\", mime: \"text/x-plsql\", mode: \"sql\", ext: [\"pls\"]},\n    {name: \"PostgreSQL\", mime: \"text/x-pgsql\", mode: \"sql\"},\n    {name: \"PowerShell\", mime: \"application/x-powershell\", mode: \"powershell\", ext: [\"ps1\", \"psd1\", \"psm1\"]},\n    {name: \"Properties files\", mime: \"text/x-properties\", mode: \"properties\", ext: [\"properties\", \"ini\", \"in\"], alias: [\"ini\", \"properties\"]},\n    {name: \"ProtoBuf\", mime: \"text/x-protobuf\", mode: \"protobuf\", ext: [\"proto\"]},\n    {name: \"Python\", mime: \"text/x-python\", mode: \"python\", ext: [\"BUILD\", \"bzl\", \"py\", \"pyw\"], file: /^(BUCK|BUILD)$/},\n    {name: \"Puppet\", mime: \"text/x-puppet\", mode: \"puppet\", ext: [\"pp\"]},\n    {name: \"Q\", mime: \"text/x-q\", mode: \"q\", ext: [\"q\"]},\n    {name: \"R\", mime: \"text/x-rsrc\", mode: \"r\", ext: [\"r\", \"R\"], alias: [\"rscript\"]},\n    {name: \"reStructuredText\", mime: \"text/x-rst\", mode: \"rst\", ext: [\"rst\"], alias: [\"rst\"]},\n    {name: \"RPM Changes\", mime: \"text/x-rpm-changes\", mode: \"rpm\"},\n    {name: \"RPM Spec\", mime: \"text/x-rpm-spec\", mode: \"rpm\", ext: [\"spec\"]},\n    {name: \"Ruby\", mime: \"text/x-ruby\", mode: \"ruby\", ext: [\"rb\"], alias: [\"jruby\", \"macruby\", \"rake\", \"rb\", \"rbx\"]},\n    {name: \"Rust\", mime: \"text/x-rustsrc\", mode: \"rust\", ext: [\"rs\"]},\n    {name: \"SAS\", mime: \"text/x-sas\", mode: \"sas\", ext: [\"sas\"]},\n    {name: \"Sass\", mime: \"text/x-sass\", mode: \"sass\", ext: [\"sass\"]},\n    {name: \"Scala\", mime: \"text/x-scala\", mode: \"clike\", ext: [\"scala\"]},\n    {name: \"Scheme\", mime: \"text/x-scheme\", mode: \"scheme\", ext: [\"scm\", \"ss\"]},\n    {name: \"SCSS\", mime: \"text/x-scss\", mode: \"css\", ext: [\"scss\"]},\n    {name: \"Shell\", mimes: [\"text/x-sh\", \"application/x-sh\"], mode: \"shell\", ext: [\"sh\", \"ksh\", \"bash\"], alias: [\"bash\", \"sh\", \"zsh\"], file: /^PKGBUILD$/},\n    {name: \"Sieve\", mime: \"application/sieve\", mode: \"sieve\", ext: [\"siv\", \"sieve\"]},\n    {name: \"Slim\", mimes: [\"text/x-slim\", \"application/x-slim\"], mode: \"slim\", ext: [\"slim\"]},\n    {name: \"Smalltalk\", mime: \"text/x-stsrc\", mode: \"smalltalk\", ext: [\"st\"]},\n    {name: \"Smarty\", mime: \"text/x-smarty\", mode: \"smarty\", ext: [\"tpl\"]},\n    {name: \"Solr\", mime: \"text/x-solr\", mode: \"solr\"},\n    {name: \"SML\", mime: \"text/x-sml\", mode: \"mllike\", ext: [\"sml\", \"sig\", \"fun\", \"smackspec\"]},\n    {name: \"Soy\", mime: \"text/x-soy\", mode: \"soy\", ext: [\"soy\"], alias: [\"closure template\"]},\n    {name: \"SPARQL\", mime: \"application/sparql-query\", mode: \"sparql\", ext: [\"rq\", \"sparql\"], alias: [\"sparul\"]},\n    {name: \"Spreadsheet\", mime: \"text/x-spreadsheet\", mode: \"spreadsheet\", alias: [\"excel\", \"formula\"]},\n    {name: \"SQL\", mime: \"text/x-sql\", mode: \"sql\", ext: [\"sql\"]},\n    {name: \"SQLite\", mime: \"text/x-sqlite\", mode: \"sql\"},\n    {name: \"Squirrel\", mime: \"text/x-squirrel\", mode: \"clike\", ext: [\"nut\"]},\n    {name: \"Stylus\", mime: \"text/x-styl\", mode: \"stylus\", ext: [\"styl\"]},\n    {name: \"Swift\", mime: \"text/x-swift\", mode: \"swift\", ext: [\"swift\"]},\n    {name: \"sTeX\", mime: \"text/x-stex\", mode: \"stex\"},\n    {name: \"LaTeX\", mime: \"text/x-latex\", mode: \"stex\", ext: [\"text\", \"ltx\", \"tex\"], alias: [\"tex\"]},\n    {name: \"SystemVerilog\", mime: \"text/x-systemverilog\", mode: \"verilog\", ext: [\"v\", \"sv\", \"svh\"]},\n    {name: \"Tcl\", mime: \"text/x-tcl\", mode: \"tcl\", ext: [\"tcl\"]},\n    {name: \"Textile\", mime: \"text/x-textile\", mode: \"textile\", ext: [\"textile\"]},\n    {name: \"TiddlyWiki\", mime: \"text/x-tiddlywiki\", mode: \"tiddlywiki\"},\n    {name: \"Tiki wiki\", mime: \"text/tiki\", mode: \"tiki\"},\n    {name: \"TOML\", mime: \"text/x-toml\", mode: \"toml\", ext: [\"toml\"]},\n    {name: \"Tornado\", mime: \"text/x-tornado\", mode: \"tornado\"},\n    {name: \"troff\", mime: \"text/troff\", mode: \"troff\", ext: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]},\n    {name: \"TTCN\", mime: \"text/x-ttcn\", mode: \"ttcn\", ext: [\"ttcn\", \"ttcn3\", \"ttcnpp\"]},\n    {name: \"TTCN_CFG\", mime: \"text/x-ttcn-cfg\", mode: \"ttcn-cfg\", ext: [\"cfg\"]},\n    {name: \"Turtle\", mime: \"text/turtle\", mode: \"turtle\", ext: [\"ttl\"]},\n    {name: \"TypeScript\", mime: \"application/typescript\", mode: \"javascript\", ext: [\"ts\"], alias: [\"ts\"]},\n    {name: \"TypeScript-JSX\", mime: \"text/typescript-jsx\", mode: \"jsx\", ext: [\"tsx\"], alias: [\"tsx\"]},\n    {name: \"Twig\", mime: \"text/x-twig\", mode: \"twig\"},\n    {name: \"Web IDL\", mime: \"text/x-webidl\", mode: \"webidl\", ext: [\"webidl\"]},\n    {name: \"VB.NET\", mime: \"text/x-vb\", mode: \"vb\", ext: [\"vb\"]},\n    {name: \"VBScript\", mime: \"text/vbscript\", mode: \"vbscript\", ext: [\"vbs\"]},\n    {name: \"Velocity\", mime: \"text/velocity\", mode: \"velocity\", ext: [\"vtl\"]},\n    {name: \"Verilog\", mime: \"text/x-verilog\", mode: \"verilog\", ext: [\"v\"]},\n    {name: \"VHDL\", mime: \"text/x-vhdl\", mode: \"vhdl\", ext: [\"vhd\", \"vhdl\"]},\n    {name: \"Vue.js Component\", mimes: [\"script/x-vue\", \"text/x-vue\"], mode: \"vue\", ext: [\"vue\"]},\n    {name: \"XML\", mimes: [\"application/xml\", \"text/xml\"], mode: \"xml\", ext: [\"xml\", \"xsl\", \"xsd\", \"svg\"], alias: [\"rss\", \"wsdl\", \"xsd\"]},\n    {name: \"XQuery\", mime: \"application/xquery\", mode: \"xquery\", ext: [\"xy\", \"xquery\"]},\n    {name: \"Yacas\", mime: \"text/x-yacas\", mode: \"yacas\", ext: [\"ys\"]},\n    {name: \"YAML\", mimes: [\"text/x-yaml\", \"text/yaml\"], mode: \"yaml\", ext: [\"yaml\", \"yml\"], alias: [\"yml\"]},\n    {name: \"Z80\", mime: \"text/x-z80\", mode: \"z80\", ext: [\"z80\"]},\n    {name: \"mscgen\", mime: \"text/x-mscgen\", mode: \"mscgen\", ext: [\"mscgen\", \"mscin\", \"msc\"]},\n    {name: \"xu\", mime: \"text/x-xu\", mode: \"mscgen\", ext: [\"xu\"]},\n    {name: \"msgenny\", mime: \"text/x-msgenny\", mode: \"mscgen\", ext: [\"msgenny\"]},\n    {name: \"WebAssembly\", mime: \"text/webassembly\", mode: \"wast\", ext: [\"wat\", \"wast\"]},\n  ];\n  // Ensure all modes have a mime property for backwards compatibility\n  for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n    var info = CodeMirror.modeInfo[i];\n    if (info.mimes) info.mime = info.mimes[0];\n  }\n\n  CodeMirror.findModeByMIME = function(mime) {\n    mime = mime.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.mime == mime) return info;\n      if (info.mimes) for (var j = 0; j < info.mimes.length; j++)\n        if (info.mimes[j] == mime) return info;\n    }\n    if (/\\+xml$/.test(mime)) return CodeMirror.findModeByMIME(\"application/xml\")\n    if (/\\+json$/.test(mime)) return CodeMirror.findModeByMIME(\"application/json\")\n  };\n\n  CodeMirror.findModeByExtension = function(ext) {\n    ext = ext.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.ext) for (var j = 0; j < info.ext.length; j++)\n        if (info.ext[j] == ext) return info;\n    }\n  };\n\n  CodeMirror.findModeByFileName = function(filename) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.file && info.file.test(filename)) return info;\n    }\n    var dot = filename.lastIndexOf(\".\");\n    var ext = dot > -1 && filename.substring(dot + 1, filename.length);\n    if (ext) return CodeMirror.findModeByExtension(ext);\n  };\n\n  CodeMirror.findModeByName = function(name) {\n    name = name.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.name.toLowerCase() == name) return info;\n      if (info.alias) for (var j = 0; j < info.alias.length; j++)\n        if (info.alias[j].toLowerCase() == name) return info;\n    }\n  };\n});\n","'use strict'\n\nvar bail = require('bail')\nvar buffer = require('is-buffer')\nvar extend = require('extend')\nvar plain = require('is-plain-obj')\nvar trough = require('trough')\nvar vfile = require('vfile')\n\n// Expose a frozen processor.\nmodule.exports = unified().freeze()\n\nvar slice = [].slice\nvar own = {}.hasOwnProperty\n\n// Process pipeline.\nvar pipeline = trough()\n  .use(pipelineParse)\n  .use(pipelineRun)\n  .use(pipelineStringify)\n\nfunction pipelineParse(p, ctx) {\n  ctx.tree = p.parse(ctx.file)\n}\n\nfunction pipelineRun(p, ctx, next) {\n  p.run(ctx.tree, ctx.file, done)\n\n  function done(error, tree, file) {\n    if (error) {\n      next(error)\n    } else {\n      ctx.tree = tree\n      ctx.file = file\n      next()\n    }\n  }\n}\n\nfunction pipelineStringify(p, ctx) {\n  var result = p.stringify(ctx.tree, ctx.file)\n\n  if (result === undefined || result === null) {\n    // Empty.\n  } else if (typeof result === 'string' || buffer(result)) {\n    ctx.file.contents = result\n  } else {\n    ctx.file.result = result\n  }\n}\n\n// Function to create the first processor.\nfunction unified() {\n  var attachers = []\n  var transformers = trough()\n  var namespace = {}\n  var freezeIndex = -1\n  var frozen\n\n  // Data management.\n  processor.data = data\n\n  // Lock.\n  processor.freeze = freeze\n\n  // Plugins.\n  processor.attachers = attachers\n  processor.use = use\n\n  // API.\n  processor.parse = parse\n  processor.stringify = stringify\n  processor.run = run\n  processor.runSync = runSync\n  processor.process = process\n  processor.processSync = processSync\n\n  // Expose.\n  return processor\n\n  // Create a new processor based on the processor in the current scope.\n  function processor() {\n    var destination = unified()\n    var index = -1\n\n    while (++index < attachers.length) {\n      destination.use.apply(null, attachers[index])\n    }\n\n    destination.data(extend(true, {}, namespace))\n\n    return destination\n  }\n\n  // Freeze: used to signal a processor that has finished configuration.\n  //\n  // For example, take unified itself: its frozen.\n  // Plugins should not be added to it.\n  // Rather, it should be extended, by invoking it, before modifying it.\n  //\n  // In essence, always invoke this when exporting a processor.\n  function freeze() {\n    var values\n    var transformer\n\n    if (frozen) {\n      return processor\n    }\n\n    while (++freezeIndex < attachers.length) {\n      values = attachers[freezeIndex]\n\n      if (values[1] === false) {\n        continue\n      }\n\n      if (values[1] === true) {\n        values[1] = undefined\n      }\n\n      transformer = values[0].apply(processor, values.slice(1))\n\n      if (typeof transformer === 'function') {\n        transformers.use(transformer)\n      }\n    }\n\n    frozen = true\n    freezeIndex = Infinity\n\n    return processor\n  }\n\n  // Data management.\n  // Getter / setter for processor-specific informtion.\n  function data(key, value) {\n    if (typeof key === 'string') {\n      // Set `key`.\n      if (arguments.length === 2) {\n        assertUnfrozen('data', frozen)\n        namespace[key] = value\n        return processor\n      }\n\n      // Get `key`.\n      return (own.call(namespace, key) && namespace[key]) || null\n    }\n\n    // Set space.\n    if (key) {\n      assertUnfrozen('data', frozen)\n      namespace = key\n      return processor\n    }\n\n    // Get space.\n    return namespace\n  }\n\n  // Plugin management.\n  //\n  // Pass it:\n  // *   an attacher and options,\n  // *   a preset,\n  // *   a list of presets, attachers, and arguments (list of attachers and\n  //     options).\n  function use(value) {\n    var settings\n\n    assertUnfrozen('use', frozen)\n\n    if (value === null || value === undefined) {\n      // Empty.\n    } else if (typeof value === 'function') {\n      addPlugin.apply(null, arguments)\n    } else if (typeof value === 'object') {\n      if ('length' in value) {\n        addList(value)\n      } else {\n        addPreset(value)\n      }\n    } else {\n      throw new Error('Expected usable value, not `' + value + '`')\n    }\n\n    if (settings) {\n      namespace.settings = extend(namespace.settings || {}, settings)\n    }\n\n    return processor\n\n    function addPreset(result) {\n      addList(result.plugins)\n\n      if (result.settings) {\n        settings = extend(settings || {}, result.settings)\n      }\n    }\n\n    function add(value) {\n      if (typeof value === 'function') {\n        addPlugin(value)\n      } else if (typeof value === 'object') {\n        if ('length' in value) {\n          addPlugin.apply(null, value)\n        } else {\n          addPreset(value)\n        }\n      } else {\n        throw new Error('Expected usable value, not `' + value + '`')\n      }\n    }\n\n    function addList(plugins) {\n      var index = -1\n\n      if (plugins === null || plugins === undefined) {\n        // Empty.\n      } else if (typeof plugins === 'object' && 'length' in plugins) {\n        while (++index < plugins.length) {\n          add(plugins[index])\n        }\n      } else {\n        throw new Error('Expected a list of plugins, not `' + plugins + '`')\n      }\n    }\n\n    function addPlugin(plugin, value) {\n      var entry = find(plugin)\n\n      if (entry) {\n        if (plain(entry[1]) && plain(value)) {\n          value = extend(true, entry[1], value)\n        }\n\n        entry[1] = value\n      } else {\n        attachers.push(slice.call(arguments))\n      }\n    }\n  }\n\n  function find(plugin) {\n    var index = -1\n\n    while (++index < attachers.length) {\n      if (attachers[index][0] === plugin) {\n        return attachers[index]\n      }\n    }\n  }\n\n  // Parse a file (in string or vfile representation) into a unist node using\n  // the `Parser` on the processor.\n  function parse(doc) {\n    var file = vfile(doc)\n    var Parser\n\n    freeze()\n    Parser = processor.Parser\n    assertParser('parse', Parser)\n\n    if (newable(Parser, 'parse')) {\n      return new Parser(String(file), file).parse()\n    }\n\n    return Parser(String(file), file) // eslint-disable-line new-cap\n  }\n\n  // Run transforms on a unist node representation of a file (in string or\n  // vfile representation), async.\n  function run(node, file, cb) {\n    assertNode(node)\n    freeze()\n\n    if (!cb && typeof file === 'function') {\n      cb = file\n      file = null\n    }\n\n    if (!cb) {\n      return new Promise(executor)\n    }\n\n    executor(null, cb)\n\n    function executor(resolve, reject) {\n      transformers.run(node, vfile(file), done)\n\n      function done(error, tree, file) {\n        tree = tree || node\n        if (error) {\n          reject(error)\n        } else if (resolve) {\n          resolve(tree)\n        } else {\n          cb(null, tree, file)\n        }\n      }\n    }\n  }\n\n  // Run transforms on a unist node representation of a file (in string or\n  // vfile representation), sync.\n  function runSync(node, file) {\n    var result\n    var complete\n\n    run(node, file, done)\n\n    assertDone('runSync', 'run', complete)\n\n    return result\n\n    function done(error, tree) {\n      complete = true\n      result = tree\n      bail(error)\n    }\n  }\n\n  // Stringify a unist node representation of a file (in string or vfile\n  // representation) into a string using the `Compiler` on the processor.\n  function stringify(node, doc) {\n    var file = vfile(doc)\n    var Compiler\n\n    freeze()\n    Compiler = processor.Compiler\n    assertCompiler('stringify', Compiler)\n    assertNode(node)\n\n    if (newable(Compiler, 'compile')) {\n      return new Compiler(node, file).compile()\n    }\n\n    return Compiler(node, file) // eslint-disable-line new-cap\n  }\n\n  // Parse a file (in string or vfile representation) into a unist node using\n  // the `Parser` on the processor, then run transforms on that node, and\n  // compile the resulting node using the `Compiler` on the processor, and\n  // store that result on the vfile.\n  function process(doc, cb) {\n    freeze()\n    assertParser('process', processor.Parser)\n    assertCompiler('process', processor.Compiler)\n\n    if (!cb) {\n      return new Promise(executor)\n    }\n\n    executor(null, cb)\n\n    function executor(resolve, reject) {\n      var file = vfile(doc)\n\n      pipeline.run(processor, {file: file}, done)\n\n      function done(error) {\n        if (error) {\n          reject(error)\n        } else if (resolve) {\n          resolve(file)\n        } else {\n          cb(null, file)\n        }\n      }\n    }\n  }\n\n  // Process the given document (in string or vfile representation), sync.\n  function processSync(doc) {\n    var file\n    var complete\n\n    freeze()\n    assertParser('processSync', processor.Parser)\n    assertCompiler('processSync', processor.Compiler)\n    file = vfile(doc)\n\n    process(file, done)\n\n    assertDone('processSync', 'process', complete)\n\n    return file\n\n    function done(error) {\n      complete = true\n      bail(error)\n    }\n  }\n}\n\n// Check if `value` is a constructor.\nfunction newable(value, name) {\n  return (\n    typeof value === 'function' &&\n    value.prototype &&\n    // A function with keys in its prototype is probably a constructor.\n    // Classes prototype methods are not enumerable, so we check if some value\n    // exists in the prototype.\n    (keys(value.prototype) || name in value.prototype)\n  )\n}\n\n// Check if `value` is an object with keys.\nfunction keys(value) {\n  var key\n  for (key in value) {\n    return true\n  }\n\n  return false\n}\n\n// Assert a parser is available.\nfunction assertParser(name, Parser) {\n  if (typeof Parser !== 'function') {\n    throw new Error('Cannot `' + name + '` without `Parser`')\n  }\n}\n\n// Assert a compiler is available.\nfunction assertCompiler(name, Compiler) {\n  if (typeof Compiler !== 'function') {\n    throw new Error('Cannot `' + name + '` without `Compiler`')\n  }\n}\n\n// Assert the processor is not frozen.\nfunction assertUnfrozen(name, frozen) {\n  if (frozen) {\n    throw new Error(\n      'Cannot invoke `' +\n        name +\n        '` on a frozen processor.\\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.'\n    )\n  }\n}\n\n// Assert `node` is a unist node.\nfunction assertNode(node) {\n  if (!node || typeof node.type !== 'string') {\n    throw new Error('Expected node, got `' + node + '`')\n  }\n}\n\n// Assert that `complete` is `true`.\nfunction assertDone(name, asyncName, complete) {\n  if (!complete) {\n    throw new Error(\n      '`' + name + '` finished async. Use `' + asyncName + '` instead'\n    )\n  }\n}\n","'use strict'\n\nmodule.exports = bail\n\nfunction bail(err) {\n  if (err) {\n    throw err\n  }\n}\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","'use strict';\n\nmodule.exports = value => {\n\tif (Object.prototype.toString.call(value) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn prototype === null || prototype === Object.prototype;\n};\n","'use strict'\n\nvar wrap = require('./wrap.js')\n\nmodule.exports = trough\n\ntrough.wrap = wrap\n\nvar slice = [].slice\n\n// Create new middleware.\nfunction trough() {\n  var fns = []\n  var middleware = {}\n\n  middleware.run = run\n  middleware.use = use\n\n  return middleware\n\n  // Run `fns`.  Last argument must be a completion handler.\n  function run() {\n    var index = -1\n    var input = slice.call(arguments, 0, -1)\n    var done = arguments[arguments.length - 1]\n\n    if (typeof done !== 'function') {\n      throw new Error('Expected function as last argument, not ' + done)\n    }\n\n    next.apply(null, [null].concat(input))\n\n    // Run the next `fn`, if any.\n    function next(err) {\n      var fn = fns[++index]\n      var params = slice.call(arguments, 0)\n      var values = params.slice(1)\n      var length = input.length\n      var pos = -1\n\n      if (err) {\n        done(err)\n        return\n      }\n\n      // Copy non-nully input into values.\n      while (++pos < length) {\n        if (values[pos] === null || values[pos] === undefined) {\n          values[pos] = input[pos]\n        }\n      }\n\n      input = values\n\n      // Next or done.\n      if (fn) {\n        wrap(fn, next).apply(null, input)\n      } else {\n        done.apply(null, [null].concat(input))\n      }\n    }\n  }\n\n  // Add `fn` to the list.\n  function use(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('Expected `fn` to be a function, not ' + fn)\n    }\n\n    fns.push(fn)\n\n    return middleware\n  }\n}\n","'use strict'\n\nvar slice = [].slice\n\nmodule.exports = wrap\n\n// Wrap `fn`.\n// Can be sync or async; return a promise, receive a completion handler, return\n// new values and errors.\nfunction wrap(fn, callback) {\n  var invoked\n\n  return wrapped\n\n  function wrapped() {\n    var params = slice.call(arguments, 0)\n    var callback = fn.length > params.length\n    var result\n\n    if (callback) {\n      params.push(done)\n    }\n\n    try {\n      result = fn.apply(null, params)\n    } catch (error) {\n      // Well, this is quite the pickle.\n      // `fn` received a callback and invoked it (thus continuing the pipeline),\n      // but later also threw an error.\n      // Were not about to restart the pipeline again, so the only thing left\n      // to do is to throw the thing instead.\n      if (callback && invoked) {\n        throw error\n      }\n\n      return done(error)\n    }\n\n    if (!callback) {\n      if (result && typeof result.then === 'function') {\n        result.then(then, done)\n      } else if (result instanceof Error) {\n        done(result)\n      } else {\n        then(result)\n      }\n    }\n  }\n\n  // Invoke `next`, only once.\n  function done() {\n    if (!invoked) {\n      invoked = true\n\n      callback.apply(null, arguments)\n    }\n  }\n\n  // Invoke `done` with one value.\n  // Tracks if an error is passed, too.\n  function then(value) {\n    done(null, value)\n  }\n}\n","'use strict'\n\nmodule.exports = require('./lib')\n","'use strict'\n\nvar VMessage = require('vfile-message')\nvar VFile = require('./core.js')\n\nmodule.exports = VFile\n\nVFile.prototype.message = message\nVFile.prototype.info = info\nVFile.prototype.fail = fail\n\n// Create a message with `reason` at `position`.\n// When an error is passed in as `reason`, copies the stack.\nfunction message(reason, position, origin) {\n  var message = new VMessage(reason, position, origin)\n\n  if (this.path) {\n    message.name = this.path + ':' + message.name\n    message.file = this.path\n  }\n\n  message.fatal = false\n\n  this.messages.push(message)\n\n  return message\n}\n\n// Fail: creates a vmessage, associates it with the file, and throws it.\nfunction fail() {\n  var message = this.message.apply(this, arguments)\n\n  message.fatal = true\n\n  throw message\n}\n\n// Info: creates a vmessage, associates it with the file, and marks the fatality\n// as null.\nfunction info() {\n  var message = this.message.apply(this, arguments)\n\n  message.fatal = null\n\n  return message\n}\n","'use strict'\n\nvar stringify = require('unist-util-stringify-position')\n\nmodule.exports = VMessage\n\n// Inherit from `Error#`.\nfunction VMessagePrototype() {}\nVMessagePrototype.prototype = Error.prototype\nVMessage.prototype = new VMessagePrototype()\n\n// Message properties.\nvar proto = VMessage.prototype\n\nproto.file = ''\nproto.name = ''\nproto.reason = ''\nproto.message = ''\nproto.stack = ''\nproto.fatal = null\nproto.column = null\nproto.line = null\n\n// Construct a new VMessage.\n//\n// Note: We cannot invoke `Error` on the created context, as that adds readonly\n// `line` and `column` attributes on Safari 9, thus throwing and failing the\n// data.\nfunction VMessage(reason, position, origin) {\n  var parts\n  var range\n  var location\n\n  if (typeof position === 'string') {\n    origin = position\n    position = null\n  }\n\n  parts = parseOrigin(origin)\n  range = stringify(position) || '1:1'\n\n  location = {\n    start: {line: null, column: null},\n    end: {line: null, column: null}\n  }\n\n  // Node.\n  if (position && position.position) {\n    position = position.position\n  }\n\n  if (position) {\n    // Position.\n    if (position.start) {\n      location = position\n      position = position.start\n    } else {\n      // Point.\n      location.start = position\n    }\n  }\n\n  if (reason.stack) {\n    this.stack = reason.stack\n    reason = reason.message\n  }\n\n  this.message = reason\n  this.name = range\n  this.reason = reason\n  this.line = position ? position.line : null\n  this.column = position ? position.column : null\n  this.location = location\n  this.source = parts[0]\n  this.ruleId = parts[1]\n}\n\nfunction parseOrigin(origin) {\n  var result = [null, null]\n  var index\n\n  if (typeof origin === 'string') {\n    index = origin.indexOf(':')\n\n    if (index === -1) {\n      result[1] = origin\n    } else {\n      result[0] = origin.slice(0, index)\n      result[1] = origin.slice(index + 1)\n    }\n  }\n\n  return result\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = stringify\n\nfunction stringify(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return ''\n  }\n\n  // Node.\n  if (own.call(value, 'position') || own.call(value, 'type')) {\n    return position(value.position)\n  }\n\n  // Position.\n  if (own.call(value, 'start') || own.call(value, 'end')) {\n    return position(value)\n  }\n\n  // Point.\n  if (own.call(value, 'line') || own.call(value, 'column')) {\n    return point(value)\n  }\n\n  // ?\n  return ''\n}\n\nfunction point(point) {\n  if (!point || typeof point !== 'object') {\n    point = {}\n  }\n\n  return index(point.line) + ':' + index(point.column)\n}\n\nfunction position(pos) {\n  if (!pos || typeof pos !== 'object') {\n    pos = {}\n  }\n\n  return point(pos.start) + '-' + point(pos.end)\n}\n\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1\n}\n","'use strict'\n\nvar p = require('./minpath')\nvar proc = require('./minproc')\nvar buffer = require('is-buffer')\n\nmodule.exports = VFile\n\nvar own = {}.hasOwnProperty\n\n// Order of setting (least specific to most), we need this because otherwise\n// `{stem: 'a', path: '~/b.js'}` would throw, as a path is needed before a\n// stem can be set.\nvar order = ['history', 'path', 'basename', 'stem', 'extname', 'dirname']\n\nVFile.prototype.toString = toString\n\n// Access full path (`~/index.min.js`).\nObject.defineProperty(VFile.prototype, 'path', {get: getPath, set: setPath})\n\n// Access parent path (`~`).\nObject.defineProperty(VFile.prototype, 'dirname', {\n  get: getDirname,\n  set: setDirname\n})\n\n// Access basename (`index.min.js`).\nObject.defineProperty(VFile.prototype, 'basename', {\n  get: getBasename,\n  set: setBasename\n})\n\n// Access extname (`.js`).\nObject.defineProperty(VFile.prototype, 'extname', {\n  get: getExtname,\n  set: setExtname\n})\n\n// Access stem (`index.min`).\nObject.defineProperty(VFile.prototype, 'stem', {get: getStem, set: setStem})\n\n// Construct a new file.\nfunction VFile(options) {\n  var prop\n  var index\n\n  if (!options) {\n    options = {}\n  } else if (typeof options === 'string' || buffer(options)) {\n    options = {contents: options}\n  } else if ('message' in options && 'messages' in options) {\n    return options\n  }\n\n  if (!(this instanceof VFile)) {\n    return new VFile(options)\n  }\n\n  this.data = {}\n  this.messages = []\n  this.history = []\n  this.cwd = proc.cwd()\n\n  // Set path related properties in the correct order.\n  index = -1\n\n  while (++index < order.length) {\n    prop = order[index]\n\n    if (own.call(options, prop)) {\n      this[prop] = options[prop]\n    }\n  }\n\n  // Set non-path related properties.\n  for (prop in options) {\n    if (order.indexOf(prop) < 0) {\n      this[prop] = options[prop]\n    }\n  }\n}\n\nfunction getPath() {\n  return this.history[this.history.length - 1]\n}\n\nfunction setPath(path) {\n  assertNonEmpty(path, 'path')\n\n  if (this.path !== path) {\n    this.history.push(path)\n  }\n}\n\nfunction getDirname() {\n  return typeof this.path === 'string' ? p.dirname(this.path) : undefined\n}\n\nfunction setDirname(dirname) {\n  assertPath(this.path, 'dirname')\n  this.path = p.join(dirname || '', this.basename)\n}\n\nfunction getBasename() {\n  return typeof this.path === 'string' ? p.basename(this.path) : undefined\n}\n\nfunction setBasename(basename) {\n  assertNonEmpty(basename, 'basename')\n  assertPart(basename, 'basename')\n  this.path = p.join(this.dirname || '', basename)\n}\n\nfunction getExtname() {\n  return typeof this.path === 'string' ? p.extname(this.path) : undefined\n}\n\nfunction setExtname(extname) {\n  assertPart(extname, 'extname')\n  assertPath(this.path, 'extname')\n\n  if (extname) {\n    if (extname.charCodeAt(0) !== 46 /* `.` */) {\n      throw new Error('`extname` must start with `.`')\n    }\n\n    if (extname.indexOf('.', 1) > -1) {\n      throw new Error('`extname` cannot contain multiple dots')\n    }\n  }\n\n  this.path = p.join(this.dirname, this.stem + (extname || ''))\n}\n\nfunction getStem() {\n  return typeof this.path === 'string'\n    ? p.basename(this.path, this.extname)\n    : undefined\n}\n\nfunction setStem(stem) {\n  assertNonEmpty(stem, 'stem')\n  assertPart(stem, 'stem')\n  this.path = p.join(this.dirname || '', stem + (this.extname || ''))\n}\n\n// Get the value of the file.\nfunction toString(encoding) {\n  return (this.contents || '').toString(encoding)\n}\n\n// Assert that `part` is not a path (i.e., does not contain `p.sep`).\nfunction assertPart(part, name) {\n  if (part && part.indexOf(p.sep) > -1) {\n    throw new Error(\n      '`' + name + '` cannot be a path: did not expect `' + p.sep + '`'\n    )\n  }\n}\n\n// Assert that `part` is not empty.\nfunction assertNonEmpty(part, name) {\n  if (!part) {\n    throw new Error('`' + name + '` cannot be empty')\n  }\n}\n\n// Assert `path` exists.\nfunction assertPath(path, name) {\n  if (!path) {\n    throw new Error('Setting `' + name + '` requires `path` to be set too')\n  }\n}\n","'use strict'\n\n// A derivative work based on:\n// <https://github.com/browserify/path-browserify>.\n// Which is licensed:\n//\n// MIT License\n//\n// Copyright (c) 2013 James Halliday\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A derivative work based on:\n//\n// Parts of that are extracted from Nodes internal `path` module:\n// <https://github.com/nodejs/node/blob/master/lib/path.js>.\n// Which is licensed:\n//\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nexports.basename = basename\nexports.dirname = dirname\nexports.extname = extname\nexports.join = join\nexports.sep = '/'\n\nfunction basename(path, ext) {\n  var start = 0\n  var end = -1\n  var index\n  var firstNonSlashEnd\n  var seenNonSlash\n  var extIndex\n\n  if (ext !== undefined && typeof ext !== 'string') {\n    throw new TypeError('\"ext\" argument must be a string')\n  }\n\n  assertPath(path)\n  index = path.length\n\n  if (ext === undefined || !ext.length || ext.length > path.length) {\n    while (index--) {\n      if (path.charCodeAt(index) === 47 /* `/` */) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now.\n        if (seenNonSlash) {\n          start = index + 1\n          break\n        }\n      } else if (end < 0) {\n        // We saw the first non-path separator, mark this as the end of our\n        // path component.\n        seenNonSlash = true\n        end = index + 1\n      }\n    }\n\n    return end < 0 ? '' : path.slice(start, end)\n  }\n\n  if (ext === path) {\n    return ''\n  }\n\n  firstNonSlashEnd = -1\n  extIndex = ext.length - 1\n\n  while (index--) {\n    if (path.charCodeAt(index) === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (seenNonSlash) {\n        start = index + 1\n        break\n      }\n    } else {\n      if (firstNonSlashEnd < 0) {\n        // We saw the first non-path separator, remember this index in case\n        // we need it if the extension ends up not matching.\n        seenNonSlash = true\n        firstNonSlashEnd = index + 1\n      }\n\n      if (extIndex > -1) {\n        // Try to match the explicit extension.\n        if (path.charCodeAt(index) === ext.charCodeAt(extIndex--)) {\n          if (extIndex < 0) {\n            // We matched the extension, so mark this as the end of our path\n            // component\n            end = index\n          }\n        } else {\n          // Extension does not match, so our result is the entire path\n          // component\n          extIndex = -1\n          end = firstNonSlashEnd\n        }\n      }\n    }\n  }\n\n  if (start === end) {\n    end = firstNonSlashEnd\n  } else if (end < 0) {\n    end = path.length\n  }\n\n  return path.slice(start, end)\n}\n\nfunction dirname(path) {\n  var end\n  var unmatchedSlash\n  var index\n\n  assertPath(path)\n\n  if (!path.length) {\n    return '.'\n  }\n\n  end = -1\n  index = path.length\n\n  // Prefix `--` is important to not run on `0`.\n  while (--index) {\n    if (path.charCodeAt(index) === 47 /* `/` */) {\n      if (unmatchedSlash) {\n        end = index\n        break\n      }\n    } else if (!unmatchedSlash) {\n      // We saw the first non-path separator\n      unmatchedSlash = true\n    }\n  }\n\n  return end < 0\n    ? path.charCodeAt(0) === 47 /* `/` */\n      ? '/'\n      : '.'\n    : end === 1 && path.charCodeAt(0) === 47 /* `/` */\n    ? '//'\n    : path.slice(0, end)\n}\n\nfunction extname(path) {\n  var startDot = -1\n  var startPart = 0\n  var end = -1\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find.\n  var preDotState = 0\n  var unmatchedSlash\n  var code\n  var index\n\n  assertPath(path)\n\n  index = path.length\n\n  while (index--) {\n    code = path.charCodeAt(index)\n\n    if (code === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (unmatchedSlash) {\n        startPart = index + 1\n        break\n      }\n\n      continue\n    }\n\n    if (end < 0) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension.\n      unmatchedSlash = true\n      end = index + 1\n    }\n\n    if (code === 46 /* `.` */) {\n      // If this is our first dot, mark it as the start of our extension.\n      if (startDot < 0) {\n        startDot = index\n      } else if (preDotState !== 1) {\n        preDotState = 1\n      }\n    } else if (startDot > -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension.\n      preDotState = -1\n    }\n  }\n\n  if (\n    startDot < 0 ||\n    end < 0 ||\n    // We saw a non-dot character immediately before the dot.\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly `..`.\n    (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n  ) {\n    return ''\n  }\n\n  return path.slice(startDot, end)\n}\n\nfunction join() {\n  var index = -1\n  var joined\n\n  while (++index < arguments.length) {\n    assertPath(arguments[index])\n\n    if (arguments[index]) {\n      joined =\n        joined === undefined\n          ? arguments[index]\n          : joined + '/' + arguments[index]\n    }\n  }\n\n  return joined === undefined ? '.' : normalize(joined)\n}\n\n// Note: `normalize` is not exposed as `path.normalize`, so some code is\n// manually removed from it.\nfunction normalize(path) {\n  var absolute\n  var value\n\n  assertPath(path)\n\n  absolute = path.charCodeAt(0) === 47 /* `/` */\n\n  // Normalize the path according to POSIX rules.\n  value = normalizeString(path, !absolute)\n\n  if (!value.length && !absolute) {\n    value = '.'\n  }\n\n  if (value.length && path.charCodeAt(path.length - 1) === 47 /* / */) {\n    value += '/'\n  }\n\n  return absolute ? '/' + value : value\n}\n\n// Resolve `.` and `..` elements in a path with directory names.\nfunction normalizeString(path, allowAboveRoot) {\n  var result = ''\n  var lastSegmentLength = 0\n  var lastSlash = -1\n  var dots = 0\n  var index = -1\n  var code\n  var lastSlashIndex\n\n  while (++index <= path.length) {\n    if (index < path.length) {\n      code = path.charCodeAt(index)\n    } else if (code === 47 /* `/` */) {\n      break\n    } else {\n      code = 47 /* `/` */\n    }\n\n    if (code === 47 /* `/` */) {\n      if (lastSlash === index - 1 || dots === 1) {\n        // Empty.\n      } else if (lastSlash !== index - 1 && dots === 2) {\n        if (\n          result.length < 2 ||\n          lastSegmentLength !== 2 ||\n          result.charCodeAt(result.length - 1) !== 46 /* `.` */ ||\n          result.charCodeAt(result.length - 2) !== 46 /* `.` */\n        ) {\n          if (result.length > 2) {\n            lastSlashIndex = result.lastIndexOf('/')\n\n            /* istanbul ignore else - No clue how to cover it. */\n            if (lastSlashIndex !== result.length - 1) {\n              if (lastSlashIndex < 0) {\n                result = ''\n                lastSegmentLength = 0\n              } else {\n                result = result.slice(0, lastSlashIndex)\n                lastSegmentLength = result.length - 1 - result.lastIndexOf('/')\n              }\n\n              lastSlash = index\n              dots = 0\n              continue\n            }\n          } else if (result.length) {\n            result = ''\n            lastSegmentLength = 0\n            lastSlash = index\n            dots = 0\n            continue\n          }\n        }\n\n        if (allowAboveRoot) {\n          result = result.length ? result + '/..' : '..'\n          lastSegmentLength = 2\n        }\n      } else {\n        if (result.length) {\n          result += '/' + path.slice(lastSlash + 1, index)\n        } else {\n          result = path.slice(lastSlash + 1, index)\n        }\n\n        lastSegmentLength = index - lastSlash - 1\n      }\n\n      lastSlash = index\n      dots = 0\n    } else if (code === 46 /* `.` */ && dots > -1) {\n      dots++\n    } else {\n      dots = -1\n    }\n  }\n\n  return result\n}\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError(\n      'Path must be a string. Received ' + JSON.stringify(path)\n    )\n  }\n}\n","'use strict'\n\n// Somewhat based on:\n// <https://github.com/defunctzombie/node-process/blob/master/browser.js>.\n// But I dont think one tiny line of code can be copyrighted. \nexports.cwd = cwd\n\nfunction cwd() {\n  return '/'\n}\n","'use strict'\n\nmodule.exports = parse\n\nvar fromMarkdown = require('mdast-util-from-markdown')\n\nfunction parse(options) {\n  var self = this\n\n  this.Parser = parse\n\n  function parse(doc) {\n    return fromMarkdown(\n      doc,\n      Object.assign({}, self.data('settings'), options, {\n        // Note: these options are not in the readme.\n        // The goal is for them to be set by plugins on `data` instead of being\n        // passed by users.\n        extensions: self.data('micromarkExtensions') || [],\n        mdastExtensions: self.data('fromMarkdownExtensions') || []\n      })\n    )\n  }\n}\n","'use strict'\n\nmodule.exports = require('./dist')\n","'use strict'\n\nmodule.exports = fromMarkdown\n\n// These three are compiled away in the `dist/`\n\nvar toString = require('mdast-util-to-string')\nvar assign = require('micromark/dist/constant/assign')\nvar own = require('micromark/dist/constant/has-own-property')\nvar normalizeIdentifier = require('micromark/dist/util/normalize-identifier')\nvar safeFromInt = require('micromark/dist/util/safe-from-int')\nvar parser = require('micromark/dist/parse')\nvar preprocessor = require('micromark/dist/preprocess')\nvar postprocess = require('micromark/dist/postprocess')\nvar decode = require('parse-entities/decode-entity')\nvar stringifyPosition = require('unist-util-stringify-position')\n\nfunction fromMarkdown(value, encoding, options) {\n  if (typeof encoding !== 'string') {\n    options = encoding\n    encoding = undefined\n  }\n\n  return compiler(options)(\n    postprocess(\n      parser(options).document().write(preprocessor()(value, encoding, true))\n    )\n  )\n}\n\n// Note this compiler only understand complete buffering, not streaming.\nfunction compiler(options) {\n  var settings = options || {}\n  var config = configure(\n    {\n      transforms: [],\n      canContainEols: [\n        'emphasis',\n        'fragment',\n        'heading',\n        'paragraph',\n        'strong'\n      ],\n\n      enter: {\n        autolink: opener(link),\n        autolinkProtocol: onenterdata,\n        autolinkEmail: onenterdata,\n        atxHeading: opener(heading),\n        blockQuote: opener(blockQuote),\n        characterEscape: onenterdata,\n        characterReference: onenterdata,\n        codeFenced: opener(codeFlow),\n        codeFencedFenceInfo: buffer,\n        codeFencedFenceMeta: buffer,\n        codeIndented: opener(codeFlow, buffer),\n        codeText: opener(codeText, buffer),\n        codeTextData: onenterdata,\n        data: onenterdata,\n        codeFlowValue: onenterdata,\n        definition: opener(definition),\n        definitionDestinationString: buffer,\n        definitionLabelString: buffer,\n        definitionTitleString: buffer,\n        emphasis: opener(emphasis),\n        hardBreakEscape: opener(hardBreak),\n        hardBreakTrailing: opener(hardBreak),\n        htmlFlow: opener(html, buffer),\n        htmlFlowData: onenterdata,\n        htmlText: opener(html, buffer),\n        htmlTextData: onenterdata,\n        image: opener(image),\n        label: buffer,\n        link: opener(link),\n        listItem: opener(listItem),\n        listItemValue: onenterlistitemvalue,\n        listOrdered: opener(list, onenterlistordered),\n        listUnordered: opener(list),\n        paragraph: opener(paragraph),\n        reference: onenterreference,\n        referenceString: buffer,\n        resourceDestinationString: buffer,\n        resourceTitleString: buffer,\n        setextHeading: opener(heading),\n        strong: opener(strong),\n        thematicBreak: opener(thematicBreak)\n      },\n\n      exit: {\n        atxHeading: closer(),\n        atxHeadingSequence: onexitatxheadingsequence,\n        autolink: closer(),\n        autolinkEmail: onexitautolinkemail,\n        autolinkProtocol: onexitautolinkprotocol,\n        blockQuote: closer(),\n        characterEscapeValue: onexitdata,\n        characterReferenceMarkerHexadecimal: onexitcharacterreferencemarker,\n        characterReferenceMarkerNumeric: onexitcharacterreferencemarker,\n        characterReferenceValue: onexitcharacterreferencevalue,\n        codeFenced: closer(onexitcodefenced),\n        codeFencedFence: onexitcodefencedfence,\n        codeFencedFenceInfo: onexitcodefencedfenceinfo,\n        codeFencedFenceMeta: onexitcodefencedfencemeta,\n        codeFlowValue: onexitdata,\n        codeIndented: closer(onexitcodeindented),\n        codeText: closer(onexitcodetext),\n        codeTextData: onexitdata,\n        data: onexitdata,\n        definition: closer(),\n        definitionDestinationString: onexitdefinitiondestinationstring,\n        definitionLabelString: onexitdefinitionlabelstring,\n        definitionTitleString: onexitdefinitiontitlestring,\n        emphasis: closer(),\n        hardBreakEscape: closer(onexithardbreak),\n        hardBreakTrailing: closer(onexithardbreak),\n        htmlFlow: closer(onexithtmlflow),\n        htmlFlowData: onexitdata,\n        htmlText: closer(onexithtmltext),\n        htmlTextData: onexitdata,\n        image: closer(onexitimage),\n        label: onexitlabel,\n        labelText: onexitlabeltext,\n        lineEnding: onexitlineending,\n        link: closer(onexitlink),\n        listItem: closer(),\n        listOrdered: closer(),\n        listUnordered: closer(),\n        paragraph: closer(),\n        referenceString: onexitreferencestring,\n        resourceDestinationString: onexitresourcedestinationstring,\n        resourceTitleString: onexitresourcetitlestring,\n        resource: onexitresource,\n        setextHeading: closer(onexitsetextheading),\n        setextHeadingLineSequence: onexitsetextheadinglinesequence,\n        setextHeadingText: onexitsetextheadingtext,\n        strong: closer(),\n        thematicBreak: closer()\n      }\n    },\n\n    settings.mdastExtensions || []\n  )\n\n  var data = {}\n\n  return compile\n\n  function compile(events) {\n    var tree = {type: 'root', children: []}\n    var stack = [tree]\n    var tokenStack = []\n    var listStack = []\n    var index = -1\n    var handler\n    var listStart\n\n    var context = {\n      stack: stack,\n      tokenStack: tokenStack,\n      config: config,\n      enter: enter,\n      exit: exit,\n      buffer: buffer,\n      resume: resume,\n      setData: setData,\n      getData: getData\n    }\n\n    while (++index < events.length) {\n      // We preprocess lists to add `listItem` tokens, and to infer whether\n      // items the list itself are spread out.\n      if (\n        events[index][1].type === 'listOrdered' ||\n        events[index][1].type === 'listUnordered'\n      ) {\n        if (events[index][0] === 'enter') {\n          listStack.push(index)\n        } else {\n          listStart = listStack.pop(index)\n          index = prepareList(events, listStart, index)\n        }\n      }\n    }\n\n    index = -1\n\n    while (++index < events.length) {\n      handler = config[events[index][0]]\n\n      if (own.call(handler, events[index][1].type)) {\n        handler[events[index][1].type].call(\n          assign({sliceSerialize: events[index][2].sliceSerialize}, context),\n          events[index][1]\n        )\n      }\n    }\n\n    if (tokenStack.length) {\n      throw new Error(\n        'Cannot close document, a token (`' +\n          tokenStack[tokenStack.length - 1].type +\n          '`, ' +\n          stringifyPosition({\n            start: tokenStack[tokenStack.length - 1].start,\n            end: tokenStack[tokenStack.length - 1].end\n          }) +\n          ') is still open'\n      )\n    }\n\n    // Figure out `root` position.\n    tree.position = {\n      start: point(\n        events.length ? events[0][1].start : {line: 1, column: 1, offset: 0}\n      ),\n\n      end: point(\n        events.length\n          ? events[events.length - 2][1].end\n          : {line: 1, column: 1, offset: 0}\n      )\n    }\n\n    index = -1\n    while (++index < config.transforms.length) {\n      tree = config.transforms[index](tree) || tree\n    }\n\n    return tree\n  }\n\n  function prepareList(events, start, length) {\n    var index = start - 1\n    var containerBalance = -1\n    var listSpread = false\n    var listItem\n    var tailIndex\n    var lineIndex\n    var tailEvent\n    var event\n    var firstBlankLineIndex\n    var atMarker\n\n    while (++index <= length) {\n      event = events[index]\n\n      if (\n        event[1].type === 'listUnordered' ||\n        event[1].type === 'listOrdered' ||\n        event[1].type === 'blockQuote'\n      ) {\n        if (event[0] === 'enter') {\n          containerBalance++\n        } else {\n          containerBalance--\n        }\n\n        atMarker = undefined\n      } else if (event[1].type === 'lineEndingBlank') {\n        if (event[0] === 'enter') {\n          if (\n            listItem &&\n            !atMarker &&\n            !containerBalance &&\n            !firstBlankLineIndex\n          ) {\n            firstBlankLineIndex = index\n          }\n\n          atMarker = undefined\n        }\n      } else if (\n        event[1].type === 'linePrefix' ||\n        event[1].type === 'listItemValue' ||\n        event[1].type === 'listItemMarker' ||\n        event[1].type === 'listItemPrefix' ||\n        event[1].type === 'listItemPrefixWhitespace'\n      ) {\n        // Empty.\n      } else {\n        atMarker = undefined\n      }\n\n      if (\n        (!containerBalance &&\n          event[0] === 'enter' &&\n          event[1].type === 'listItemPrefix') ||\n        (containerBalance === -1 &&\n          event[0] === 'exit' &&\n          (event[1].type === 'listUnordered' ||\n            event[1].type === 'listOrdered'))\n      ) {\n        if (listItem) {\n          tailIndex = index\n          lineIndex = undefined\n\n          while (tailIndex--) {\n            tailEvent = events[tailIndex]\n\n            if (\n              tailEvent[1].type === 'lineEnding' ||\n              tailEvent[1].type === 'lineEndingBlank'\n            ) {\n              if (tailEvent[0] === 'exit') continue\n\n              if (lineIndex) {\n                events[lineIndex][1].type = 'lineEndingBlank'\n                listSpread = true\n              }\n\n              tailEvent[1].type = 'lineEnding'\n              lineIndex = tailIndex\n            } else if (\n              tailEvent[1].type === 'linePrefix' ||\n              tailEvent[1].type === 'blockQuotePrefix' ||\n              tailEvent[1].type === 'blockQuotePrefixWhitespace' ||\n              tailEvent[1].type === 'blockQuoteMarker' ||\n              tailEvent[1].type === 'listItemIndent'\n            ) {\n              // Empty\n            } else {\n              break\n            }\n          }\n\n          if (\n            firstBlankLineIndex &&\n            (!lineIndex || firstBlankLineIndex < lineIndex)\n          ) {\n            listItem._spread = true\n          }\n\n          // Fix position.\n          listItem.end = point(\n            lineIndex ? events[lineIndex][1].start : event[1].end\n          )\n\n          events.splice(lineIndex || index, 0, ['exit', listItem, event[2]])\n          index++\n          length++\n        }\n\n        // Create a new list item.\n        if (event[1].type === 'listItemPrefix') {\n          listItem = {\n            type: 'listItem',\n            _spread: false,\n            start: point(event[1].start)\n          }\n\n          events.splice(index, 0, ['enter', listItem, event[2]])\n          index++\n          length++\n          firstBlankLineIndex = undefined\n          atMarker = true\n        }\n      }\n    }\n\n    events[start][1]._spread = listSpread\n    return length\n  }\n\n  function setData(key, value) {\n    data[key] = value\n  }\n\n  function getData(key) {\n    return data[key]\n  }\n\n  function point(d) {\n    return {line: d.line, column: d.column, offset: d.offset}\n  }\n\n  function opener(create, and) {\n    return open\n\n    function open(token) {\n      enter.call(this, create(token), token)\n      if (and) and.call(this, token)\n    }\n  }\n\n  function buffer() {\n    this.stack.push({type: 'fragment', children: []})\n  }\n\n  function enter(node, token) {\n    this.stack[this.stack.length - 1].children.push(node)\n    this.stack.push(node)\n    this.tokenStack.push(token)\n    node.position = {start: point(token.start)}\n    return node\n  }\n\n  function closer(and) {\n    return close\n\n    function close(token) {\n      if (and) and.call(this, token)\n      exit.call(this, token)\n    }\n  }\n\n  function exit(token) {\n    var node = this.stack.pop()\n    var open = this.tokenStack.pop()\n\n    if (!open) {\n      throw new Error(\n        'Cannot close `' +\n          token.type +\n          '` (' +\n          stringifyPosition({start: token.start, end: token.end}) +\n          '): its not open'\n      )\n    } else if (open.type !== token.type) {\n      throw new Error(\n        'Cannot close `' +\n          token.type +\n          '` (' +\n          stringifyPosition({start: token.start, end: token.end}) +\n          '): a different token (`' +\n          open.type +\n          '`, ' +\n          stringifyPosition({start: open.start, end: open.end}) +\n          ') is open'\n      )\n    }\n\n    node.position.end = point(token.end)\n    return node\n  }\n\n  function resume() {\n    return toString(this.stack.pop())\n  }\n\n  //\n  // Handlers.\n  //\n\n  function onenterlistordered() {\n    setData('expectingFirstListItemValue', true)\n  }\n\n  function onenterlistitemvalue(token) {\n    if (getData('expectingFirstListItemValue')) {\n      this.stack[this.stack.length - 2].start = parseInt(\n        this.sliceSerialize(token),\n        10\n      )\n\n      setData('expectingFirstListItemValue')\n    }\n  }\n\n  function onexitcodefencedfenceinfo() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].lang = data\n  }\n\n  function onexitcodefencedfencemeta() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].meta = data\n  }\n\n  function onexitcodefencedfence() {\n    // Exit if this is the closing fence.\n    if (getData('flowCodeInside')) return\n    this.buffer()\n    setData('flowCodeInside', true)\n  }\n\n  function onexitcodefenced() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data.replace(\n      /^(\\r?\\n|\\r)|(\\r?\\n|\\r)$/g,\n      ''\n    )\n\n    setData('flowCodeInside')\n  }\n\n  function onexitcodeindented() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitdefinitionlabelstring(token) {\n    // Discard label, use the source content instead.\n    var label = this.resume()\n    this.stack[this.stack.length - 1].label = label\n    this.stack[this.stack.length - 1].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n  }\n\n  function onexitdefinitiontitlestring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].title = data\n  }\n\n  function onexitdefinitiondestinationstring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].url = data\n  }\n\n  function onexitatxheadingsequence(token) {\n    if (!this.stack[this.stack.length - 1].depth) {\n      this.stack[this.stack.length - 1].depth = this.sliceSerialize(\n        token\n      ).length\n    }\n  }\n\n  function onexitsetextheadingtext() {\n    setData('setextHeadingSlurpLineEnding', true)\n  }\n\n  function onexitsetextheadinglinesequence(token) {\n    this.stack[this.stack.length - 1].depth =\n      this.sliceSerialize(token).charCodeAt(0) === 61 ? 1 : 2\n  }\n\n  function onexitsetextheading() {\n    setData('setextHeadingSlurpLineEnding')\n  }\n\n  function onenterdata(token) {\n    var siblings = this.stack[this.stack.length - 1].children\n    var tail = siblings[siblings.length - 1]\n\n    if (!tail || tail.type !== 'text') {\n      // Add a new text node.\n      tail = text()\n      tail.position = {start: point(token.start)}\n      this.stack[this.stack.length - 1].children.push(tail)\n    }\n\n    this.stack.push(tail)\n  }\n\n  function onexitdata(token) {\n    var tail = this.stack.pop()\n    tail.value += this.sliceSerialize(token)\n    tail.position.end = point(token.end)\n  }\n\n  function onexitlineending(token) {\n    var context = this.stack[this.stack.length - 1]\n\n    // If were at a hard break, include the line ending in there.\n    if (getData('atHardBreak')) {\n      context.children[context.children.length - 1].position.end = point(\n        token.end\n      )\n\n      setData('atHardBreak')\n      return\n    }\n\n    if (\n      !getData('setextHeadingSlurpLineEnding') &&\n      config.canContainEols.indexOf(context.type) > -1\n    ) {\n      onenterdata.call(this, token)\n      onexitdata.call(this, token)\n    }\n  }\n\n  function onexithardbreak() {\n    setData('atHardBreak', true)\n  }\n\n  function onexithtmlflow() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexithtmltext() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitcodetext() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitlink() {\n    var context = this.stack[this.stack.length - 1]\n\n    // To do: clean.\n    if (getData('inReference')) {\n      context.type += 'Reference'\n      context.referenceType = getData('referenceType') || 'shortcut'\n      delete context.url\n      delete context.title\n    } else {\n      delete context.identifier\n      delete context.label\n      delete context.referenceType\n    }\n\n    setData('referenceType')\n  }\n\n  function onexitimage() {\n    var context = this.stack[this.stack.length - 1]\n\n    // To do: clean.\n    if (getData('inReference')) {\n      context.type += 'Reference'\n      context.referenceType = getData('referenceType') || 'shortcut'\n      delete context.url\n      delete context.title\n    } else {\n      delete context.identifier\n      delete context.label\n      delete context.referenceType\n    }\n\n    setData('referenceType')\n  }\n\n  function onexitlabeltext(token) {\n    this.stack[this.stack.length - 2].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n  }\n\n  function onexitlabel() {\n    var fragment = this.stack[this.stack.length - 1]\n    var value = this.resume()\n\n    this.stack[this.stack.length - 1].label = value\n\n    // Assume a reference.\n    setData('inReference', true)\n\n    if (this.stack[this.stack.length - 1].type === 'link') {\n      this.stack[this.stack.length - 1].children = fragment.children\n    } else {\n      this.stack[this.stack.length - 1].alt = value\n    }\n  }\n\n  function onexitresourcedestinationstring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].url = data\n  }\n\n  function onexitresourcetitlestring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].title = data\n  }\n\n  function onexitresource() {\n    setData('inReference')\n  }\n\n  function onenterreference() {\n    setData('referenceType', 'collapsed')\n  }\n\n  function onexitreferencestring(token) {\n    var label = this.resume()\n    this.stack[this.stack.length - 1].label = label\n    this.stack[this.stack.length - 1].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n    setData('referenceType', 'full')\n  }\n\n  function onexitcharacterreferencemarker(token) {\n    setData('characterReferenceType', token.type)\n  }\n\n  function onexitcharacterreferencevalue(token) {\n    var data = this.sliceSerialize(token)\n    var type = getData('characterReferenceType')\n    var value\n    var tail\n\n    if (type) {\n      value = safeFromInt(\n        data,\n        type === 'characterReferenceMarkerNumeric' ? 10 : 16\n      )\n\n      setData('characterReferenceType')\n    } else {\n      value = decode(data)\n    }\n\n    tail = this.stack.pop()\n    tail.value += value\n    tail.position.end = point(token.end)\n  }\n\n  function onexitautolinkprotocol(token) {\n    onexitdata.call(this, token)\n    this.stack[this.stack.length - 1].url = this.sliceSerialize(token)\n  }\n\n  function onexitautolinkemail(token) {\n    onexitdata.call(this, token)\n    this.stack[this.stack.length - 1].url =\n      'mailto:' + this.sliceSerialize(token)\n  }\n\n  //\n  // Creaters.\n  //\n\n  function blockQuote() {\n    return {type: 'blockquote', children: []}\n  }\n\n  function codeFlow() {\n    return {type: 'code', lang: null, meta: null, value: ''}\n  }\n\n  function codeText() {\n    return {type: 'inlineCode', value: ''}\n  }\n\n  function definition() {\n    return {\n      type: 'definition',\n      identifier: '',\n      label: null,\n      title: null,\n      url: ''\n    }\n  }\n\n  function emphasis() {\n    return {type: 'emphasis', children: []}\n  }\n\n  function heading() {\n    return {type: 'heading', depth: undefined, children: []}\n  }\n\n  function hardBreak() {\n    return {type: 'break'}\n  }\n\n  function html() {\n    return {type: 'html', value: ''}\n  }\n\n  function image() {\n    return {type: 'image', title: null, url: '', alt: null}\n  }\n\n  function link() {\n    return {type: 'link', title: null, url: '', children: []}\n  }\n\n  function list(token) {\n    return {\n      type: 'list',\n      ordered: token.type === 'listOrdered',\n      start: null,\n      spread: token._spread,\n      children: []\n    }\n  }\n\n  function listItem(token) {\n    return {\n      type: 'listItem',\n      spread: token._spread,\n      checked: null,\n      children: []\n    }\n  }\n\n  function paragraph() {\n    return {type: 'paragraph', children: []}\n  }\n\n  function strong() {\n    return {type: 'strong', children: []}\n  }\n\n  function text() {\n    return {type: 'text', value: ''}\n  }\n\n  function thematicBreak() {\n    return {type: 'thematicBreak'}\n  }\n}\n\nfunction configure(config, extensions) {\n  var index = -1\n\n  while (++index < extensions.length) {\n    extension(config, extensions[index])\n  }\n\n  return config\n}\n\nfunction extension(config, extension) {\n  var key\n  var left\n\n  for (key in extension) {\n    left = own.call(config, key) ? config[key] : (config[key] = {})\n\n    if (key === 'canContainEols' || key === 'transforms') {\n      config[key] = [].concat(left, extension[key])\n    } else {\n      Object.assign(left, extension[key])\n    }\n  }\n}\n","'use strict'\n\nmodule.exports = toString\n\n// Get the text content of a node.\n// Prefer the nodes plain-text fields, otherwise serialize its children,\n// and if the given value is an array, serialize the nodes in it.\nfunction toString(node) {\n  return (\n    (node &&\n      (node.value ||\n        node.alt ||\n        node.title ||\n        ('children' in node && all(node.children)) ||\n        ('length' in node && all(node)))) ||\n    ''\n  )\n}\n\nfunction all(values) {\n  var result = []\n  var index = -1\n\n  while (++index < values.length) {\n    result[index] = toString(values[index])\n  }\n\n  return result.join('')\n}\n","'use strict'\n\nvar fromCharCode = require('../constant/from-char-code.js')\n\nfunction safeFromInt(value, base) {\n  var code = parseInt(value, base)\n\n  if (\n    // C0 except for HT, LF, FF, CR, space\n    code < 9 ||\n    code === 11 ||\n    (code > 13 && code < 32) || // Control character (DEL) of the basic block and C1 controls.\n    (code > 126 && code < 160) || // Lone high surrogates and low surrogates.\n    (code > 55295 && code < 57344) || // Noncharacters.\n    (code > 64975 && code < 65008) ||\n    (code & 65535) === 65535 ||\n    (code & 65535) === 65534 || // Out of range\n    code > 1114111\n  ) {\n    return '\\uFFFD'\n  }\n\n  return fromCharCode(code)\n}\n\nmodule.exports = safeFromInt\n","'use strict'\n\nvar content = require('./initialize/content.js')\nvar document = require('./initialize/document.js')\nvar flow = require('./initialize/flow.js')\nvar text = require('./initialize/text.js')\nvar combineExtensions = require('./util/combine-extensions.js')\nvar createTokenizer = require('./util/create-tokenizer.js')\nvar miniflat = require('./util/miniflat.js')\nvar constructs = require('./constructs.js')\n\nfunction parse(options) {\n  var settings = options || {}\n  var parser = {\n    defined: [],\n    constructs: combineExtensions(\n      [constructs].concat(miniflat(settings.extensions))\n    ),\n    content: create(content),\n    document: create(document),\n    flow: create(flow),\n    string: create(text.string),\n    text: create(text.text)\n  }\n  return parser\n\n  function create(initializer) {\n    return creator\n\n    function creator(from) {\n      return createTokenizer(parser, initializer, from)\n    }\n  }\n}\n\nmodule.exports = parse\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('../tokenize/factory-space.js')\n\nvar tokenize = initializeContent\n\nfunction initializeContent(effects) {\n  var contentStart = effects.attempt(\n    this.parser.constructs.contentInitial,\n    afterContentStartConstruct,\n    paragraphInitial\n  )\n  var previous\n  return contentStart\n\n  function afterContentStartConstruct(code) {\n    if (code === null) {\n      effects.consume(code)\n      return\n    }\n\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(effects, contentStart, 'linePrefix')\n  }\n\n  function paragraphInitial(code) {\n    effects.enter('paragraph')\n    return lineStart(code)\n  }\n\n  function lineStart(code) {\n    var token = effects.enter('chunkText', {\n      contentType: 'text',\n      previous: previous\n    })\n\n    if (previous) {\n      previous.next = token\n    }\n\n    previous = token\n    return data(code)\n  }\n\n  function data(code) {\n    if (code === null) {\n      effects.exit('chunkText')\n      effects.exit('paragraph')\n      effects.consume(code)\n      return\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.consume(code)\n      effects.exit('chunkText')\n      return lineStart\n    } // Data.\n\n    effects.consume(code)\n    return data\n  }\n}\n\nexports.tokenize = tokenize\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('../tokenize/factory-space.js')\nvar partialBlankLine = require('../tokenize/partial-blank-line.js')\n\nvar tokenize = initializeDocument\nvar containerConstruct = {\n  tokenize: tokenizeContainer\n}\nvar lazyFlowConstruct = {\n  tokenize: tokenizeLazyFlow\n}\n\nfunction initializeDocument(effects) {\n  var self = this\n  var stack = []\n  var continued = 0\n  var inspectConstruct = {\n    tokenize: tokenizeInspect,\n    partial: true\n  }\n  var inspectResult\n  var childFlow\n  var childToken\n  return start\n\n  function start(code) {\n    if (continued < stack.length) {\n      self.containerState = stack[continued][1]\n      return effects.attempt(\n        stack[continued][0].continuation,\n        documentContinue,\n        documentContinued\n      )(code)\n    }\n\n    return documentContinued(code)\n  }\n\n  function documentContinue(code) {\n    continued++\n    return start(code)\n  }\n\n  function documentContinued(code) {\n    // If were in a concrete construct (such as when expecting another line of\n    // HTML, or we resulted in lazy content), we can immediately start flow.\n    if (inspectResult && inspectResult.flowContinue) {\n      return flowStart(code)\n    }\n\n    self.interrupt =\n      childFlow &&\n      childFlow.currentConstruct &&\n      childFlow.currentConstruct.interruptible\n    self.containerState = {}\n    return effects.attempt(\n      containerConstruct,\n      containerContinue,\n      flowStart\n    )(code)\n  }\n\n  function containerContinue(code) {\n    stack.push([self.currentConstruct, self.containerState])\n    self.containerState = undefined\n    return documentContinued(code)\n  }\n\n  function flowStart(code) {\n    if (code === null) {\n      exitContainers(0, true)\n      effects.consume(code)\n      return\n    }\n\n    childFlow = childFlow || self.parser.flow(self.now())\n    effects.enter('chunkFlow', {\n      contentType: 'flow',\n      previous: childToken,\n      _tokenizer: childFlow\n    })\n    return flowContinue(code)\n  }\n\n  function flowContinue(code) {\n    if (code === null) {\n      continueFlow(effects.exit('chunkFlow'))\n      return flowStart(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.consume(code)\n      continueFlow(effects.exit('chunkFlow'))\n      return effects.check(inspectConstruct, documentAfterPeek)\n    }\n\n    effects.consume(code)\n    return flowContinue\n  }\n\n  function documentAfterPeek(code) {\n    exitContainers(\n      inspectResult.continued,\n      inspectResult && inspectResult.flowEnd\n    )\n    continued = 0\n    return start(code)\n  }\n\n  function continueFlow(token) {\n    if (childToken) childToken.next = token\n    childToken = token\n    childFlow.lazy = inspectResult && inspectResult.lazy\n    childFlow.defineSkip(token.start)\n    childFlow.write(self.sliceStream(token))\n  }\n\n  function exitContainers(size, end) {\n    var index = stack.length // Close the flow.\n\n    if (childFlow && end) {\n      childFlow.write([null])\n      childToken = childFlow = undefined\n    } // Exit open containers.\n\n    while (index-- > size) {\n      self.containerState = stack[index][1]\n      stack[index][0].exit.call(self, effects)\n    }\n\n    stack.length = size\n  }\n\n  function tokenizeInspect(effects, ok) {\n    var subcontinued = 0\n    inspectResult = {}\n    return inspectStart\n\n    function inspectStart(code) {\n      if (subcontinued < stack.length) {\n        self.containerState = stack[subcontinued][1]\n        return effects.attempt(\n          stack[subcontinued][0].continuation,\n          inspectContinue,\n          inspectLess\n        )(code)\n      } // If were continued but in a concrete flow, we cant have more\n      // containers.\n\n      if (childFlow.currentConstruct && childFlow.currentConstruct.concrete) {\n        inspectResult.flowContinue = true\n        return inspectDone(code)\n      }\n\n      self.interrupt =\n        childFlow.currentConstruct && childFlow.currentConstruct.interruptible\n      self.containerState = {}\n      return effects.attempt(\n        containerConstruct,\n        inspectFlowEnd,\n        inspectDone\n      )(code)\n    }\n\n    function inspectContinue(code) {\n      subcontinued++\n      return self.containerState._closeFlow\n        ? inspectFlowEnd(code)\n        : inspectStart(code)\n    }\n\n    function inspectLess(code) {\n      if (childFlow.currentConstruct && childFlow.currentConstruct.lazy) {\n        // Maybe another container?\n        self.containerState = {}\n        return effects.attempt(\n          containerConstruct,\n          inspectFlowEnd, // Maybe flow, or a blank line?\n          effects.attempt(\n            lazyFlowConstruct,\n            inspectFlowEnd,\n            effects.check(partialBlankLine, inspectFlowEnd, inspectLazy)\n          )\n        )(code)\n      } // Otherwise were interrupting.\n\n      return inspectFlowEnd(code)\n    }\n\n    function inspectLazy(code) {\n      // Act as if all containers are continued.\n      subcontinued = stack.length\n      inspectResult.lazy = true\n      inspectResult.flowContinue = true\n      return inspectDone(code)\n    } // Were done with flow if we have more containers, or an interruption.\n\n    function inspectFlowEnd(code) {\n      inspectResult.flowEnd = true\n      return inspectDone(code)\n    }\n\n    function inspectDone(code) {\n      inspectResult.continued = subcontinued\n      self.interrupt = self.containerState = undefined\n      return ok(code)\n    }\n  }\n}\n\nfunction tokenizeContainer(effects, ok, nok) {\n  return factorySpace(\n    effects,\n    effects.attempt(this.parser.constructs.document, ok, nok),\n    'linePrefix',\n    this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4\n  )\n}\n\nfunction tokenizeLazyFlow(effects, ok, nok) {\n  return factorySpace(\n    effects,\n    effects.lazy(this.parser.constructs.flow, ok, nok),\n    'linePrefix',\n    this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4\n  )\n}\n\nexports.tokenize = tokenize\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar content = require('../tokenize/content.js')\nvar factorySpace = require('../tokenize/factory-space.js')\nvar partialBlankLine = require('../tokenize/partial-blank-line.js')\n\nvar tokenize = initializeFlow\n\nfunction initializeFlow(effects) {\n  var self = this\n  var initial = effects.attempt(\n    // Try to parse a blank line.\n    partialBlankLine,\n    atBlankEnding, // Try to parse initial flow (essentially, only code).\n    effects.attempt(\n      this.parser.constructs.flowInitial,\n      afterConstruct,\n      factorySpace(\n        effects,\n        effects.attempt(\n          this.parser.constructs.flow,\n          afterConstruct,\n          effects.attempt(content, afterConstruct)\n        ),\n        'linePrefix'\n      )\n    )\n  )\n  return initial\n\n  function atBlankEnding(code) {\n    if (code === null) {\n      effects.consume(code)\n      return\n    }\n\n    effects.enter('lineEndingBlank')\n    effects.consume(code)\n    effects.exit('lineEndingBlank')\n    self.currentConstruct = undefined\n    return initial\n  }\n\n  function afterConstruct(code) {\n    if (code === null) {\n      effects.consume(code)\n      return\n    }\n\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    self.currentConstruct = undefined\n    return initial\n  }\n}\n\nexports.tokenize = tokenize\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar subtokenize = require('../util/subtokenize.js')\nvar factorySpace = require('./factory-space.js')\n\n// No name because it must not be turned off.\nvar content = {\n  tokenize: tokenizeContent,\n  resolve: resolveContent,\n  interruptible: true,\n  lazy: true\n}\nvar continuationConstruct = {\n  tokenize: tokenizeContinuation,\n  partial: true\n} // Content is transparent: its parsed right now. That way, definitions are also\n// parsed right now: before text in paragraphs (specifically, media) are parsed.\n\nfunction resolveContent(events) {\n  subtokenize(events)\n  return events\n}\n\nfunction tokenizeContent(effects, ok) {\n  var previous\n  return start\n\n  function start(code) {\n    effects.enter('content')\n    previous = effects.enter('chunkContent', {\n      contentType: 'content'\n    })\n    return data(code)\n  }\n\n  function data(code) {\n    if (code === null) {\n      return contentEnd(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      return effects.check(\n        continuationConstruct,\n        contentContinue,\n        contentEnd\n      )(code)\n    } // Data.\n\n    effects.consume(code)\n    return data\n  }\n\n  function contentEnd(code) {\n    effects.exit('chunkContent')\n    effects.exit('content')\n    return ok(code)\n  }\n\n  function contentContinue(code) {\n    effects.consume(code)\n    effects.exit('chunkContent')\n    previous = previous.next = effects.enter('chunkContent', {\n      contentType: 'content',\n      previous: previous\n    })\n    return data\n  }\n}\n\nfunction tokenizeContinuation(effects, ok, nok) {\n  var self = this\n  return startLookahead\n\n  function startLookahead(code) {\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(effects, prefixed, 'linePrefix')\n  }\n\n  function prefixed(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    if (\n      self.parser.constructs.disable.null.indexOf('codeIndented') > -1 ||\n      prefixSize(self.events, 'linePrefix') < 4\n    ) {\n      return effects.interrupt(self.parser.constructs.flow, nok, ok)(code)\n    }\n\n    return ok(code)\n  }\n}\n\nmodule.exports = content\n","'use strict'\n\nvar splice = [].splice\n\nmodule.exports = splice\n","'use strict'\n\nvar assign = require('../constant/assign.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar chunkedPush = require('./chunked-push.js')\nvar chunkedSplice = require('./chunked-splice.js')\nvar miniflat = require('./miniflat.js')\nvar resolveAll = require('./resolve-all.js')\nvar serializeChunks = require('./serialize-chunks.js')\nvar shallow = require('./shallow.js')\nvar sliceChunks = require('./slice-chunks.js')\n\n// Create a tokenizer.\n// Tokenizers deal with one type of data (e.g., containers, flow, text).\n// The parser is the object dealing with it all.\n// `initialize` works like other constructs, except that only its `tokenize`\n// function is used, in which case it doesnt receive an `ok` or `nok`.\n// `from` can be given to set the point before the first character, although\n// when further lines are indented, they must be set with `defineSkip`.\nfunction createTokenizer(parser, initialize, from) {\n  var point = from\n    ? shallow(from)\n    : {\n        line: 1,\n        column: 1,\n        offset: 0\n      }\n  var columnStart = {}\n  var resolveAllConstructs = []\n  var chunks = []\n  var stack = []\n\n  var effects = {\n    consume: consume,\n    enter: enter,\n    exit: exit,\n    attempt: constructFactory(onsuccessfulconstruct),\n    check: constructFactory(onsuccessfulcheck),\n    interrupt: constructFactory(onsuccessfulcheck, {\n      interrupt: true\n    }),\n    lazy: constructFactory(onsuccessfulcheck, {\n      lazy: true\n    })\n  } // State and tools for resolving and serializing.\n\n  var context = {\n    previous: null,\n    events: [],\n    parser: parser,\n    sliceStream: sliceStream,\n    sliceSerialize: sliceSerialize,\n    now: now,\n    defineSkip: skip,\n    write: write\n  } // The state function.\n\n  var state = initialize.tokenize.call(context, effects) // Track which character we expect to be consumed, to catch bugs.\n\n  if (initialize.resolveAll) {\n    resolveAllConstructs.push(initialize)\n  } // Store where we are in the input stream.\n\n  point._index = 0\n  point._bufferIndex = -1\n  return context\n\n  function write(slice) {\n    chunks = chunkedPush(chunks, slice)\n    main() // Exit if were not done, resolve might change stuff.\n\n    if (chunks[chunks.length - 1] !== null) {\n      return []\n    }\n\n    addResult(initialize, 0) // Otherwise, resolve, and exit.\n\n    context.events = resolveAll(resolveAllConstructs, context.events, context)\n    return context.events\n  } //\n  // Tools.\n  //\n\n  function sliceSerialize(token) {\n    return serializeChunks(sliceStream(token))\n  }\n\n  function sliceStream(token) {\n    return sliceChunks(chunks, token)\n  }\n\n  function now() {\n    return shallow(point)\n  }\n\n  function skip(value) {\n    columnStart[value.line] = value.column\n    accountForPotentialSkip()\n  } //\n  // State management.\n  //\n  // Main loop (note that `_index` and `_bufferIndex` in `point` are modified by\n  // `consume`).\n  // Here is where we walk through the chunks, which either include strings of\n  // several characters, or numerical character codes.\n  // The reason to do this in a loop instead of a call is so the stack can\n  // drain.\n\n  function main() {\n    var chunkIndex\n    var chunk\n\n    while (point._index < chunks.length) {\n      chunk = chunks[point._index] // If were in a buffer chunk, loop through it.\n\n      if (typeof chunk === 'string') {\n        chunkIndex = point._index\n\n        if (point._bufferIndex < 0) {\n          point._bufferIndex = 0\n        }\n\n        while (\n          point._index === chunkIndex &&\n          point._bufferIndex < chunk.length\n        ) {\n          go(chunk.charCodeAt(point._bufferIndex))\n        }\n      } else {\n        go(chunk)\n      }\n    }\n  } // Deal with one code.\n\n  function go(code) {\n    state = state(code)\n  } // Move a character forward.\n\n  function consume(code) {\n    if (markdownLineEnding(code)) {\n      point.line++\n      point.column = 1\n      point.offset += code === -3 ? 2 : 1\n      accountForPotentialSkip()\n    } else if (code !== -1) {\n      point.column++\n      point.offset++\n    } // Not in a string chunk.\n\n    if (point._bufferIndex < 0) {\n      point._index++\n    } else {\n      point._bufferIndex++ // At end of string chunk.\n\n      if (point._bufferIndex === chunks[point._index].length) {\n        point._bufferIndex = -1\n        point._index++\n      }\n    } // Expose the previous character.\n\n    context.previous = code // Mark as consumed.\n  } // Start a token.\n\n  function enter(type, fields) {\n    var token = fields || {}\n    token.type = type\n    token.start = now()\n    context.events.push(['enter', token, context])\n    stack.push(token)\n    return token\n  } // Stop a token.\n\n  function exit(type) {\n    var token = stack.pop()\n    token.end = now()\n    context.events.push(['exit', token, context])\n    return token\n  } // Use results.\n\n  function onsuccessfulconstruct(construct, info) {\n    addResult(construct, info.from)\n  } // Discard results.\n\n  function onsuccessfulcheck(construct, info) {\n    info.restore()\n  } // Factory to attempt/check/interrupt.\n\n  function constructFactory(onreturn, fields) {\n    return hook // Handle either an object mapping codes to constructs, a list of\n    // constructs, or a single construct.\n\n    function hook(constructs, returnState, bogusState) {\n      var listOfConstructs\n      var constructIndex\n      var currentConstruct\n      var info\n      return constructs.tokenize || 'length' in constructs\n        ? handleListOfConstructs(miniflat(constructs))\n        : handleMapOfConstructs\n\n      function handleMapOfConstructs(code) {\n        if (code in constructs || null in constructs) {\n          return handleListOfConstructs(\n            constructs.null\n              ? /* c8 ignore next */\n                miniflat(constructs[code]).concat(miniflat(constructs.null))\n              : constructs[code]\n          )(code)\n        }\n\n        return bogusState(code)\n      }\n\n      function handleListOfConstructs(list) {\n        listOfConstructs = list\n        constructIndex = 0\n        return handleConstruct(list[constructIndex])\n      }\n\n      function handleConstruct(construct) {\n        return start\n\n        function start(code) {\n          // To do: not nede to store if there is no bogus state, probably?\n          // Currently doesnt work because `inspect` in document does a check\n          // w/o a bogus, which doesnt make sense. But it does seem to help perf\n          // by not storing.\n          info = store()\n          currentConstruct = construct\n\n          if (!construct.partial) {\n            context.currentConstruct = construct\n          }\n\n          if (\n            construct.name &&\n            context.parser.constructs.disable.null.indexOf(construct.name) > -1\n          ) {\n            return nok()\n          }\n\n          return construct.tokenize.call(\n            fields ? assign({}, context, fields) : context,\n            effects,\n            ok,\n            nok\n          )(code)\n        }\n      }\n\n      function ok(code) {\n        onreturn(currentConstruct, info)\n        return returnState\n      }\n\n      function nok(code) {\n        info.restore()\n\n        if (++constructIndex < listOfConstructs.length) {\n          return handleConstruct(listOfConstructs[constructIndex])\n        }\n\n        return bogusState\n      }\n    }\n  }\n\n  function addResult(construct, from) {\n    if (construct.resolveAll && resolveAllConstructs.indexOf(construct) < 0) {\n      resolveAllConstructs.push(construct)\n    }\n\n    if (construct.resolve) {\n      chunkedSplice(\n        context.events,\n        from,\n        context.events.length - from,\n        construct.resolve(context.events.slice(from), context)\n      )\n    }\n\n    if (construct.resolveTo) {\n      context.events = construct.resolveTo(context.events, context)\n    }\n  }\n\n  function store() {\n    var startPoint = now()\n    var startPrevious = context.previous\n    var startCurrentConstruct = context.currentConstruct\n    var startEventsIndex = context.events.length\n    var startStack = Array.from(stack)\n    return {\n      restore: restore,\n      from: startEventsIndex\n    }\n\n    function restore() {\n      point = startPoint\n      context.previous = startPrevious\n      context.currentConstruct = startCurrentConstruct\n      context.events.length = startEventsIndex\n      stack = startStack\n      accountForPotentialSkip()\n    }\n  }\n\n  function accountForPotentialSkip() {\n    if (point.line in columnStart && point.column < 2) {\n      point.column = columnStart[point.line]\n      point.offset += columnStart[point.line] - 1\n    }\n  }\n}\n\nmodule.exports = createTokenizer\n","'use strict'\n\nvar fromCharCode = require('../constant/from-char-code.js')\n\nfunction serializeChunks(chunks) {\n  var index = -1\n  var result = []\n  var chunk\n  var value\n  var atTab\n\n  while (++index < chunks.length) {\n    chunk = chunks[index]\n\n    if (typeof chunk === 'string') {\n      value = chunk\n    } else if (chunk === -5) {\n      value = '\\r'\n    } else if (chunk === -4) {\n      value = '\\n'\n    } else if (chunk === -3) {\n      value = '\\r' + '\\n'\n    } else if (chunk === -2) {\n      value = '\\t'\n    } else if (chunk === -1) {\n      if (atTab) continue\n      value = ' '\n    } else {\n      // Currently only replacement character.\n      value = fromCharCode(chunk)\n    }\n\n    atTab = chunk === -2\n    result.push(value)\n  }\n\n  return result.join('')\n}\n\nmodule.exports = serializeChunks\n","'use strict'\n\nfunction sliceChunks(chunks, token) {\n  var startIndex = token.start._index\n  var startBufferIndex = token.start._bufferIndex\n  var endIndex = token.end._index\n  var endBufferIndex = token.end._bufferIndex\n  var view\n\n  if (startIndex === endIndex) {\n    view = [chunks[startIndex].slice(startBufferIndex, endBufferIndex)]\n  } else {\n    view = chunks.slice(startIndex, endIndex)\n\n    if (startBufferIndex > -1) {\n      view[0] = view[0].slice(startBufferIndex)\n    }\n\n    if (endBufferIndex > 0) {\n      view.push(chunks[endIndex].slice(0, endBufferIndex))\n    }\n  }\n\n  return view\n}\n\nmodule.exports = sliceChunks\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {value: true})\n\nvar text$1 = require('./initialize/text.js')\nvar attention = require('./tokenize/attention.js')\nvar autolink = require('./tokenize/autolink.js')\nvar blockQuote = require('./tokenize/block-quote.js')\nvar characterEscape = require('./tokenize/character-escape.js')\nvar characterReference = require('./tokenize/character-reference.js')\nvar codeFenced = require('./tokenize/code-fenced.js')\nvar codeIndented = require('./tokenize/code-indented.js')\nvar codeText = require('./tokenize/code-text.js')\nvar definition = require('./tokenize/definition.js')\nvar hardBreakEscape = require('./tokenize/hard-break-escape.js')\nvar headingAtx = require('./tokenize/heading-atx.js')\nvar htmlFlow = require('./tokenize/html-flow.js')\nvar htmlText = require('./tokenize/html-text.js')\nvar labelEnd = require('./tokenize/label-end.js')\nvar labelStartImage = require('./tokenize/label-start-image.js')\nvar labelStartLink = require('./tokenize/label-start-link.js')\nvar lineEnding = require('./tokenize/line-ending.js')\nvar list = require('./tokenize/list.js')\nvar setextUnderline = require('./tokenize/setext-underline.js')\nvar thematicBreak = require('./tokenize/thematic-break.js')\n\nvar document = {\n  42: list,\n  // Asterisk\n  43: list,\n  // Plus sign\n  45: list,\n  // Dash\n  48: list,\n  // 0\n  49: list,\n  // 1\n  50: list,\n  // 2\n  51: list,\n  // 3\n  52: list,\n  // 4\n  53: list,\n  // 5\n  54: list,\n  // 6\n  55: list,\n  // 7\n  56: list,\n  // 8\n  57: list,\n  // 9\n  62: blockQuote // Greater than\n}\nvar contentInitial = {\n  91: definition // Left square bracket\n}\nvar flowInitial = {\n  '-2': codeIndented,\n  // Horizontal tab\n  '-1': codeIndented,\n  // Virtual space\n  32: codeIndented // Space\n}\nvar flow = {\n  35: headingAtx,\n  // Number sign\n  42: thematicBreak,\n  // Asterisk\n  45: [setextUnderline, thematicBreak],\n  // Dash\n  60: htmlFlow,\n  // Less than\n  61: setextUnderline,\n  // Equals to\n  95: thematicBreak,\n  // Underscore\n  96: codeFenced,\n  // Grave accent\n  126: codeFenced // Tilde\n}\nvar string = {\n  38: characterReference,\n  // Ampersand\n  92: characterEscape // Backslash\n}\nvar text = {\n  '-5': lineEnding,\n  // Carriage return\n  '-4': lineEnding,\n  // Line feed\n  '-3': lineEnding,\n  // Carriage return + line feed\n  33: labelStartImage,\n  // Exclamation mark\n  38: characterReference,\n  // Ampersand\n  42: attention,\n  // Asterisk\n  60: [autolink, htmlText],\n  // Less than\n  91: labelStartLink,\n  // Left square bracket\n  92: [hardBreakEscape, characterEscape],\n  // Backslash\n  93: labelEnd,\n  // Right square bracket\n  95: attention,\n  // Underscore\n  96: codeText // Grave accent\n}\nvar insideSpan = {\n  null: [attention, text$1.resolver]\n}\nvar disable = {\n  null: []\n}\n\nexports.contentInitial = contentInitial\nexports.disable = disable\nexports.document = document\nexports.flow = flow\nexports.flowInitial = flowInitial\nexports.insideSpan = insideSpan\nexports.string = string\nexports.text = text\n","'use strict'\n\nvar chunkedPush = require('../util/chunked-push.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar classifyCharacter = require('../util/classify-character.js')\nvar movePoint = require('../util/move-point.js')\nvar resolveAll = require('../util/resolve-all.js')\nvar shallow = require('../util/shallow.js')\n\nvar attention = {\n  name: 'attention',\n  tokenize: tokenizeAttention,\n  resolveAll: resolveAllAttention\n}\n\nfunction resolveAllAttention(events, context) {\n  var index = -1\n  var open\n  var group\n  var text\n  var openingSequence\n  var closingSequence\n  var use\n  var nextEvents\n  var offset // Walk through all events.\n  //\n  // Note: performance of this is fine on an mb of normal markdown, but its\n  // a bottleneck for malicious stuff.\n\n  while (++index < events.length) {\n    // Find a token that can close.\n    if (\n      events[index][0] === 'enter' &&\n      events[index][1].type === 'attentionSequence' &&\n      events[index][1]._close\n    ) {\n      open = index // Now walk back to find an opener.\n\n      while (open--) {\n        // Find a token that can open the closer.\n        if (\n          events[open][0] === 'exit' &&\n          events[open][1].type === 'attentionSequence' &&\n          events[open][1]._open && // If the markers are the same:\n          context.sliceSerialize(events[open][1]).charCodeAt(0) ===\n            context.sliceSerialize(events[index][1]).charCodeAt(0)\n        ) {\n          // If the opening can close or the closing can open,\n          // and the close size *is not* a multiple of three,\n          // but the sum of the opening and closing size *is* multiple of three,\n          // then dont match.\n          if (\n            (events[open][1]._close || events[index][1]._open) &&\n            (events[index][1].end.offset - events[index][1].start.offset) % 3 &&\n            !(\n              (events[open][1].end.offset -\n                events[open][1].start.offset +\n                events[index][1].end.offset -\n                events[index][1].start.offset) %\n              3\n            )\n          ) {\n            continue\n          } // Number of markers to use from the sequence.\n\n          use =\n            events[open][1].end.offset - events[open][1].start.offset > 1 &&\n            events[index][1].end.offset - events[index][1].start.offset > 1\n              ? 2\n              : 1\n          openingSequence = {\n            type: use > 1 ? 'strongSequence' : 'emphasisSequence',\n            start: movePoint(shallow(events[open][1].end), -use),\n            end: shallow(events[open][1].end)\n          }\n          closingSequence = {\n            type: use > 1 ? 'strongSequence' : 'emphasisSequence',\n            start: shallow(events[index][1].start),\n            end: movePoint(shallow(events[index][1].start), use)\n          }\n          text = {\n            type: use > 1 ? 'strongText' : 'emphasisText',\n            start: shallow(events[open][1].end),\n            end: shallow(events[index][1].start)\n          }\n          group = {\n            type: use > 1 ? 'strong' : 'emphasis',\n            start: shallow(openingSequence.start),\n            end: shallow(closingSequence.end)\n          }\n          events[open][1].end = shallow(openingSequence.start)\n          events[index][1].start = shallow(closingSequence.end)\n          nextEvents = [] // If there are more markers in the opening, add them before.\n\n          if (events[open][1].end.offset - events[open][1].start.offset) {\n            nextEvents = chunkedPush(nextEvents, [\n              ['enter', events[open][1], context],\n              ['exit', events[open][1], context]\n            ])\n          } // Opening.\n\n          nextEvents = chunkedPush(nextEvents, [\n            ['enter', group, context],\n            ['enter', openingSequence, context],\n            ['exit', openingSequence, context],\n            ['enter', text, context]\n          ]) // Between.\n\n          nextEvents = chunkedPush(\n            nextEvents,\n            resolveAll(\n              context.parser.constructs.insideSpan.null,\n              events.slice(open + 1, index),\n              context\n            )\n          ) // Closing.\n\n          nextEvents = chunkedPush(nextEvents, [\n            ['exit', text, context],\n            ['enter', closingSequence, context],\n            ['exit', closingSequence, context],\n            ['exit', group, context]\n          ]) // If there are more markers in the closing, add them after.\n\n          if (events[index][1].end.offset - events[index][1].start.offset) {\n            offset = 2\n            nextEvents = chunkedPush(nextEvents, [\n              ['enter', events[index][1], context],\n              ['exit', events[index][1], context]\n            ])\n          } else {\n            offset = 0\n          }\n\n          chunkedSplice(events, open - 1, index - open + 3, nextEvents)\n          index = open + nextEvents.length - offset - 2\n          break\n        }\n      }\n    }\n  } // Remove remaining sequences.\n\n  index = -1\n\n  while (++index < events.length) {\n    if (events[index][1].type === 'attentionSequence') {\n      events[index][1].type = 'data'\n    }\n  }\n\n  return events\n}\n\nfunction tokenizeAttention(effects, ok) {\n  var before = classifyCharacter(this.previous)\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('attentionSequence')\n    marker = code\n    return sequence(code)\n  }\n\n  function sequence(code) {\n    var token\n    var after\n    var open\n    var close\n\n    if (code === marker) {\n      effects.consume(code)\n      return sequence\n    }\n\n    token = effects.exit('attentionSequence')\n    after = classifyCharacter(code)\n    open = !after || (after === 2 && before)\n    close = !before || (before === 2 && after)\n    token._open = marker === 42 ? open : open && (before || !close)\n    token._close = marker === 42 ? close : close && (after || !open)\n    return ok(code)\n  }\n}\n\nmodule.exports = attention\n","'use strict'\n\n// This module is generated by `script/`.\n//\n// CommonMark handles attention (emphasis, strong) markers based on what comes\n// before or after them.\n// One such difference is if those characters are Unicode punctuation.\n// This script is generated from the Unicode data.\nvar unicodePunctuation = /[!-\\/:-@\\[-`\\{-~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u2E52\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/\n\nmodule.exports = unicodePunctuation\n","'use strict'\n\n// chunks (replacement characters, tabs, or line endings).\n\nfunction movePoint(point, offset) {\n  point.column += offset\n  point.offset += offset\n  point._bufferIndex += offset\n  return point\n}\n\nmodule.exports = movePoint\n","'use strict'\n\nvar asciiAlpha = require('../character/ascii-alpha.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar asciiAtext = require('../character/ascii-atext.js')\nvar asciiControl = require('../character/ascii-control.js')\n\nvar autolink = {\n  name: 'autolink',\n  tokenize: tokenizeAutolink\n}\n\nfunction tokenizeAutolink(effects, ok, nok) {\n  var size = 1\n  return start\n\n  function start(code) {\n    effects.enter('autolink')\n    effects.enter('autolinkMarker')\n    effects.consume(code)\n    effects.exit('autolinkMarker')\n    effects.enter('autolinkProtocol')\n    return open\n  }\n\n  function open(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return schemeOrEmailAtext\n    }\n\n    return asciiAtext(code) ? emailAtext(code) : nok(code)\n  }\n\n  function schemeOrEmailAtext(code) {\n    return code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)\n      ? schemeInsideOrEmailAtext(code)\n      : emailAtext(code)\n  }\n\n  function schemeInsideOrEmailAtext(code) {\n    if (code === 58) {\n      effects.consume(code)\n      return urlInside\n    }\n\n    if (\n      (code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)) &&\n      size++ < 32\n    ) {\n      effects.consume(code)\n      return schemeInsideOrEmailAtext\n    }\n\n    return emailAtext(code)\n  }\n\n  function urlInside(code) {\n    if (code === 62) {\n      effects.exit('autolinkProtocol')\n      return end(code)\n    }\n\n    if (code === 32 || code === 60 || asciiControl(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return urlInside\n  }\n\n  function emailAtext(code) {\n    if (code === 64) {\n      effects.consume(code)\n      size = 0\n      return emailAtSignOrDot\n    }\n\n    if (asciiAtext(code)) {\n      effects.consume(code)\n      return emailAtext\n    }\n\n    return nok(code)\n  }\n\n  function emailAtSignOrDot(code) {\n    return asciiAlphanumeric(code) ? emailLabel(code) : nok(code)\n  }\n\n  function emailLabel(code) {\n    if (code === 46) {\n      effects.consume(code)\n      size = 0\n      return emailAtSignOrDot\n    }\n\n    if (code === 62) {\n      // Exit, then change the type.\n      effects.exit('autolinkProtocol').type = 'autolinkEmail'\n      return end(code)\n    }\n\n    return emailValue(code)\n  }\n\n  function emailValue(code) {\n    if ((code === 45 || asciiAlphanumeric(code)) && size++ < 63) {\n      effects.consume(code)\n      return code === 45 ? emailValue : emailLabel\n    }\n\n    return nok(code)\n  }\n\n  function end(code) {\n    effects.enter('autolinkMarker')\n    effects.consume(code)\n    effects.exit('autolinkMarker')\n    effects.exit('autolink')\n    return ok\n  }\n}\n\nmodule.exports = autolink\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiAtext = regexCheck(/[#-'*+\\--9=?A-Z^-~]/)\n\nmodule.exports = asciiAtext\n","'use strict'\n\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nvar blockQuote = {\n  name: 'blockQuote',\n  tokenize: tokenizeBlockQuoteStart,\n  continuation: {\n    tokenize: tokenizeBlockQuoteContinuation\n  },\n  exit: exit\n}\n\nfunction tokenizeBlockQuoteStart(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    if (code === 62) {\n      if (!self.containerState.open) {\n        effects.enter('blockQuote', {\n          _container: true\n        })\n        self.containerState.open = true\n      }\n\n      effects.enter('blockQuotePrefix')\n      effects.enter('blockQuoteMarker')\n      effects.consume(code)\n      effects.exit('blockQuoteMarker')\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    if (markdownSpace(code)) {\n      effects.enter('blockQuotePrefixWhitespace')\n      effects.consume(code)\n      effects.exit('blockQuotePrefixWhitespace')\n      effects.exit('blockQuotePrefix')\n      return ok\n    }\n\n    effects.exit('blockQuotePrefix')\n    return ok(code)\n  }\n}\n\nfunction tokenizeBlockQuoteContinuation(effects, ok, nok) {\n  return factorySpace(\n    effects,\n    effects.attempt(blockQuote, ok, nok),\n    'linePrefix',\n    this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4\n  )\n}\n\nfunction exit(effects) {\n  effects.exit('blockQuote')\n}\n\nmodule.exports = blockQuote\n","'use strict'\n\nvar asciiPunctuation = require('../character/ascii-punctuation.js')\n\nvar characterEscape = {\n  name: 'characterEscape',\n  tokenize: tokenizeCharacterEscape\n}\n\nfunction tokenizeCharacterEscape(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('characterEscape')\n    effects.enter('escapeMarker')\n    effects.consume(code)\n    effects.exit('escapeMarker')\n    return open\n  }\n\n  function open(code) {\n    if (asciiPunctuation(code)) {\n      effects.enter('characterEscapeValue')\n      effects.consume(code)\n      effects.exit('characterEscapeValue')\n      effects.exit('characterEscape')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = characterEscape\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiPunctuation = regexCheck(/[!-/:-@[-`{-~]/)\n\nmodule.exports = asciiPunctuation\n","'use strict'\n\nvar decodeEntity = require('parse-entities/decode-entity.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar asciiDigit = require('../character/ascii-digit.js')\nvar asciiHexDigit = require('../character/ascii-hex-digit.js')\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {default: e}\n}\n\nvar decodeEntity__default = /*#__PURE__*/ _interopDefaultLegacy(decodeEntity)\n\nvar characterReference = {\n  name: 'characterReference',\n  tokenize: tokenizeCharacterReference\n}\n\nfunction tokenizeCharacterReference(effects, ok, nok) {\n  var self = this\n  var size = 0\n  var max\n  var test\n  return start\n\n  function start(code) {\n    effects.enter('characterReference')\n    effects.enter('characterReferenceMarker')\n    effects.consume(code)\n    effects.exit('characterReferenceMarker')\n    return open\n  }\n\n  function open(code) {\n    if (code === 35) {\n      effects.enter('characterReferenceMarkerNumeric')\n      effects.consume(code)\n      effects.exit('characterReferenceMarkerNumeric')\n      return numeric\n    }\n\n    effects.enter('characterReferenceValue')\n    max = 31\n    test = asciiAlphanumeric\n    return value(code)\n  }\n\n  function numeric(code) {\n    if (code === 88 || code === 120) {\n      effects.enter('characterReferenceMarkerHexadecimal')\n      effects.consume(code)\n      effects.exit('characterReferenceMarkerHexadecimal')\n      effects.enter('characterReferenceValue')\n      max = 6\n      test = asciiHexDigit\n      return value\n    }\n\n    effects.enter('characterReferenceValue')\n    max = 7\n    test = asciiDigit\n    return value(code)\n  }\n\n  function value(code) {\n    var token\n\n    if (code === 59 && size) {\n      token = effects.exit('characterReferenceValue')\n\n      if (\n        test === asciiAlphanumeric &&\n        !decodeEntity__default['default'](self.sliceSerialize(token))\n      ) {\n        return nok(code)\n      }\n\n      effects.enter('characterReferenceMarker')\n      effects.consume(code)\n      effects.exit('characterReferenceMarker')\n      effects.exit('characterReference')\n      return ok\n    }\n\n    if (test(code) && size++ < max) {\n      effects.consume(code)\n      return value\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = characterReference\n","'use strict'\n\n/* eslint-env browser */\n\nvar el\n\nvar semicolon = 59 //  ';'\n\nmodule.exports = decodeEntity\n\nfunction decodeEntity(characters) {\n  var entity = '&' + characters + ';'\n  var char\n\n  el = el || document.createElement('i')\n  el.innerHTML = entity\n  char = el.textContent\n\n  // Some entities do not require the closing semicolon (`&not` - for instance),\n  // which leads to situations where parsing the assumed entity of &notit; will\n  // result in the string `it;`.  When we encounter a trailing semicolon after\n  // parsing and the entity to decode was not a semicolon (`&semi;`), we can\n  // assume that the matching was incomplete\n  if (char.charCodeAt(char.length - 1) === semicolon && characters !== 'semi') {\n    return false\n  }\n\n  // If the decoded string is equal to the input, the entity was not valid\n  return char === entity ? false : char\n}\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiHexDigit = regexCheck(/[\\dA-Fa-f]/)\n\nmodule.exports = asciiHexDigit\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar factorySpace = require('./factory-space.js')\n\nvar codeFenced = {\n  name: 'codeFenced',\n  tokenize: tokenizeCodeFenced,\n  concrete: true\n}\n\nfunction tokenizeCodeFenced(effects, ok, nok) {\n  var self = this\n  var closingFenceConstruct = {\n    tokenize: tokenizeClosingFence,\n    partial: true\n  }\n  var initialPrefix = prefixSize(this.events, 'linePrefix')\n  var sizeOpen = 0\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('codeFenced')\n    effects.enter('codeFencedFence')\n    effects.enter('codeFencedFenceSequence')\n    marker = code\n    return sequenceOpen(code)\n  }\n\n  function sequenceOpen(code) {\n    if (code === marker) {\n      effects.consume(code)\n      sizeOpen++\n      return sequenceOpen\n    }\n\n    effects.exit('codeFencedFenceSequence')\n    return sizeOpen < 3\n      ? nok(code)\n      : factorySpace(effects, infoOpen, 'whitespace')(code)\n  }\n\n  function infoOpen(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return openAfter(code)\n    }\n\n    effects.enter('codeFencedFenceInfo')\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return info(code)\n  }\n\n  function info(code) {\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      effects.exit('chunkString')\n      effects.exit('codeFencedFenceInfo')\n      return factorySpace(effects, infoAfter, 'whitespace')(code)\n    }\n\n    if (code === 96 && code === marker) return nok(code)\n    effects.consume(code)\n    return info\n  }\n\n  function infoAfter(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return openAfter(code)\n    }\n\n    effects.enter('codeFencedFenceMeta')\n    effects.enter('chunkString', {\n      contentType: 'string'\n    })\n    return meta(code)\n  }\n\n  function meta(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('chunkString')\n      effects.exit('codeFencedFenceMeta')\n      return openAfter(code)\n    }\n\n    if (code === 96 && code === marker) return nok(code)\n    effects.consume(code)\n    return meta\n  }\n\n  function openAfter(code) {\n    effects.exit('codeFencedFence')\n    return self.interrupt ? ok(code) : content(code)\n  }\n\n  function content(code) {\n    if (code === null) {\n      return after(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return effects.attempt(\n        closingFenceConstruct,\n        after,\n        initialPrefix\n          ? factorySpace(effects, content, 'linePrefix', initialPrefix + 1)\n          : content\n      )\n    }\n\n    effects.enter('codeFlowValue')\n    return contentContinue(code)\n  }\n\n  function contentContinue(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('codeFlowValue')\n      return content(code)\n    }\n\n    effects.consume(code)\n    return contentContinue\n  }\n\n  function after(code) {\n    effects.exit('codeFenced')\n    return ok(code)\n  }\n\n  function tokenizeClosingFence(effects, ok, nok) {\n    var size = 0\n    return factorySpace(\n      effects,\n      closingSequenceStart,\n      'linePrefix',\n      this.parser.constructs.disable.null.indexOf('codeIndented') > -1\n        ? undefined\n        : 4\n    )\n\n    function closingSequenceStart(code) {\n      effects.enter('codeFencedFence')\n      effects.enter('codeFencedFenceSequence')\n      return closingSequence(code)\n    }\n\n    function closingSequence(code) {\n      if (code === marker) {\n        effects.consume(code)\n        size++\n        return closingSequence\n      }\n\n      if (size < sizeOpen) return nok(code)\n      effects.exit('codeFencedFenceSequence')\n      return factorySpace(effects, closingSequenceEnd, 'whitespace')(code)\n    }\n\n    function closingSequenceEnd(code) {\n      if (code === null || markdownLineEnding(code)) {\n        effects.exit('codeFencedFence')\n        return ok(code)\n      }\n\n      return nok(code)\n    }\n  }\n}\n\nmodule.exports = codeFenced\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar factorySpace = require('./factory-space.js')\n\nvar codeIndented = {\n  name: 'codeIndented',\n  tokenize: tokenizeCodeIndented,\n  resolve: resolveCodeIndented\n}\nvar indentedContentConstruct = {\n  tokenize: tokenizeIndentedContent,\n  partial: true\n}\n\nfunction resolveCodeIndented(events, context) {\n  var code = {\n    type: 'codeIndented',\n    start: events[0][1].start,\n    end: events[events.length - 1][1].end\n  }\n  chunkedSplice(events, 0, 0, [['enter', code, context]])\n  chunkedSplice(events, events.length, 0, [['exit', code, context]])\n  return events\n}\n\nfunction tokenizeCodeIndented(effects, ok, nok) {\n  return effects.attempt(indentedContentConstruct, afterPrefix, nok)\n\n  function afterPrefix(code) {\n    if (code === null) {\n      return ok(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      return effects.attempt(indentedContentConstruct, afterPrefix, ok)(code)\n    }\n\n    effects.enter('codeFlowValue')\n    return content(code)\n  }\n\n  function content(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('codeFlowValue')\n      return afterPrefix(code)\n    }\n\n    effects.consume(code)\n    return content\n  }\n}\n\nfunction tokenizeIndentedContent(effects, ok, nok) {\n  var self = this\n  return factorySpace(effects, afterPrefix, 'linePrefix', 4 + 1)\n\n  function afterPrefix(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return factorySpace(effects, afterPrefix, 'linePrefix', 4 + 1)\n    }\n\n    return prefixSize(self.events, 'linePrefix') < 4 ? nok(code) : ok(code)\n  }\n}\n\nmodule.exports = codeIndented\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\n\nvar codeText = {\n  name: 'codeText',\n  tokenize: tokenizeCodeText,\n  resolve: resolveCodeText,\n  previous: previous\n}\n\nfunction resolveCodeText(events) {\n  var tailExitIndex = events.length - 4\n  var headEnterIndex = 3\n  var index\n  var enter // If we start and end with an EOL or a space.\n\n  if (\n    (events[headEnterIndex][1].type === 'lineEnding' ||\n      events[headEnterIndex][1].type === 'space') &&\n    (events[tailExitIndex][1].type === 'lineEnding' ||\n      events[tailExitIndex][1].type === 'space')\n  ) {\n    index = headEnterIndex // And we have data.\n\n    while (++index < tailExitIndex) {\n      if (events[index][1].type === 'codeTextData') {\n        // Then we have padding.\n        events[tailExitIndex][1].type = events[headEnterIndex][1].type =\n          'codeTextPadding'\n        headEnterIndex += 2\n        tailExitIndex -= 2\n        break\n      }\n    }\n  } // Merge adjacent spaces and data.\n\n  index = headEnterIndex - 1\n  tailExitIndex++\n\n  while (++index <= tailExitIndex) {\n    if (enter === undefined) {\n      if (index !== tailExitIndex && events[index][1].type !== 'lineEnding') {\n        enter = index\n      }\n    } else if (\n      index === tailExitIndex ||\n      events[index][1].type === 'lineEnding'\n    ) {\n      events[enter][1].type = 'codeTextData'\n\n      if (index !== enter + 2) {\n        events[enter][1].end = events[index - 1][1].end\n        events.splice(enter + 2, index - enter - 2)\n        tailExitIndex -= index - enter - 2\n        index = enter + 2\n      }\n\n      enter = undefined\n    }\n  }\n\n  return events\n}\n\nfunction previous(code) {\n  // If there is a previous code, there will always be a tail.\n  return (\n    code !== 96 ||\n    this.events[this.events.length - 1][1].type === 'characterEscape'\n  )\n}\n\nfunction tokenizeCodeText(effects, ok, nok) {\n  var sizeOpen = 0\n  var size\n  var token\n  return start\n\n  function start(code) {\n    effects.enter('codeText')\n    effects.enter('codeTextSequence')\n    return openingSequence(code)\n  }\n\n  function openingSequence(code) {\n    if (code === 96) {\n      effects.consume(code)\n      sizeOpen++\n      return openingSequence\n    }\n\n    effects.exit('codeTextSequence')\n    return gap(code)\n  }\n\n  function gap(code) {\n    // EOF.\n    if (code === null) {\n      return nok(code)\n    } // Closing fence?\n    // Could also be data.\n\n    if (code === 96) {\n      token = effects.enter('codeTextSequence')\n      size = 0\n      return closingSequence(code)\n    } // Tabs dont work, and virtual spaces dont make sense.\n\n    if (code === 32) {\n      effects.enter('space')\n      effects.consume(code)\n      effects.exit('space')\n      return gap\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return gap\n    } // Data.\n\n    effects.enter('codeTextData')\n    return data(code)\n  } // In code.\n\n  function data(code) {\n    if (\n      code === null ||\n      code === 32 ||\n      code === 96 ||\n      markdownLineEnding(code)\n    ) {\n      effects.exit('codeTextData')\n      return gap(code)\n    }\n\n    effects.consume(code)\n    return data\n  } // Closing fence.\n\n  function closingSequence(code) {\n    // More.\n    if (code === 96) {\n      effects.consume(code)\n      size++\n      return closingSequence\n    } // Done!\n\n    if (size === sizeOpen) {\n      effects.exit('codeTextSequence')\n      effects.exit('codeText')\n      return ok(code)\n    } // More or less accents: mark as data.\n\n    token.type = 'codeTextData'\n    return data(code)\n  }\n}\n\nmodule.exports = codeText\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar normalizeIdentifier = require('../util/normalize-identifier.js')\nvar factoryDestination = require('./factory-destination.js')\nvar factoryLabel = require('./factory-label.js')\nvar factorySpace = require('./factory-space.js')\nvar factoryWhitespace = require('./factory-whitespace.js')\nvar factoryTitle = require('./factory-title.js')\n\nvar definition = {\n  name: 'definition',\n  tokenize: tokenizeDefinition\n}\nvar titleConstruct = {\n  tokenize: tokenizeTitle,\n  partial: true\n}\n\nfunction tokenizeDefinition(effects, ok, nok) {\n  var self = this\n  var identifier\n  return start\n\n  function start(code) {\n    effects.enter('definition')\n    return factoryLabel.call(\n      self,\n      effects,\n      labelAfter,\n      nok,\n      'definitionLabel',\n      'definitionLabelMarker',\n      'definitionLabelString'\n    )(code)\n  }\n\n  function labelAfter(code) {\n    identifier = normalizeIdentifier(\n      self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1)\n    )\n\n    if (code === 58) {\n      effects.enter('definitionMarker')\n      effects.consume(code)\n      effects.exit('definitionMarker') // Note: blank lines cant exist in content.\n\n      return factoryWhitespace(\n        effects,\n        factoryDestination(\n          effects,\n          effects.attempt(\n            titleConstruct,\n            factorySpace(effects, after, 'whitespace'),\n            factorySpace(effects, after, 'whitespace')\n          ),\n          nok,\n          'definitionDestination',\n          'definitionDestinationLiteral',\n          'definitionDestinationLiteralMarker',\n          'definitionDestinationRaw',\n          'definitionDestinationString'\n        )\n      )\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('definition')\n\n      if (self.parser.defined.indexOf(identifier) < 0) {\n        self.parser.defined.push(identifier)\n      }\n\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeTitle(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    return markdownLineEndingOrSpace(code)\n      ? factoryWhitespace(effects, before)(code)\n      : nok(code)\n  }\n\n  function before(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      return factoryTitle(\n        effects,\n        factorySpace(effects, after, 'whitespace'),\n        nok,\n        'definitionTitle',\n        'definitionTitleMarker',\n        'definitionTitleString'\n      )(code)\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code)\n  }\n}\n\nmodule.exports = definition\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\n\nvar hardBreakEscape = {\n  name: 'hardBreakEscape',\n  tokenize: tokenizeHardBreakEscape\n}\n\nfunction tokenizeHardBreakEscape(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.enter('hardBreakEscape')\n    effects.enter('escapeMarker')\n    effects.consume(code)\n    return open\n  }\n\n  function open(code) {\n    if (markdownLineEnding(code)) {\n      effects.exit('escapeMarker')\n      effects.exit('hardBreakEscape')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = hardBreakEscape\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar chunkedSplice = require('../util/chunked-splice.js')\nvar factorySpace = require('./factory-space.js')\n\nvar headingAtx = {\n  name: 'headingAtx',\n  tokenize: tokenizeHeadingAtx,\n  resolve: resolveHeadingAtx\n}\n\nfunction resolveHeadingAtx(events, context) {\n  var contentEnd = events.length - 2\n  var contentStart = 3\n  var content\n  var text // Prefix whitespace, part of the opening.\n\n  if (events[contentStart][1].type === 'whitespace') {\n    contentStart += 2\n  } // Suffix whitespace, part of the closing.\n\n  if (\n    contentEnd - 2 > contentStart &&\n    events[contentEnd][1].type === 'whitespace'\n  ) {\n    contentEnd -= 2\n  }\n\n  if (\n    events[contentEnd][1].type === 'atxHeadingSequence' &&\n    (contentStart === contentEnd - 1 ||\n      (contentEnd - 4 > contentStart &&\n        events[contentEnd - 2][1].type === 'whitespace'))\n  ) {\n    contentEnd -= contentStart + 1 === contentEnd ? 2 : 4\n  }\n\n  if (contentEnd > contentStart) {\n    content = {\n      type: 'atxHeadingText',\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end\n    }\n    text = {\n      type: 'chunkText',\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end,\n      contentType: 'text'\n    }\n    chunkedSplice(events, contentStart, contentEnd - contentStart + 1, [\n      ['enter', content, context],\n      ['enter', text, context],\n      ['exit', text, context],\n      ['exit', content, context]\n    ])\n  }\n\n  return events\n}\n\nfunction tokenizeHeadingAtx(effects, ok, nok) {\n  var self = this\n  var size = 0\n  return start\n\n  function start(code) {\n    effects.enter('atxHeading')\n    effects.enter('atxHeadingSequence')\n    return fenceOpenInside(code)\n  }\n\n  function fenceOpenInside(code) {\n    if (code === 35 && size++ < 6) {\n      effects.consume(code)\n      return fenceOpenInside\n    }\n\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      effects.exit('atxHeadingSequence')\n      return self.interrupt ? ok(code) : headingBreak(code)\n    }\n\n    return nok(code)\n  }\n\n  function headingBreak(code) {\n    if (code === 35) {\n      effects.enter('atxHeadingSequence')\n      return sequence(code)\n    }\n\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('atxHeading')\n      return ok(code)\n    }\n\n    if (markdownSpace(code)) {\n      return factorySpace(effects, headingBreak, 'whitespace')(code)\n    }\n\n    effects.enter('atxHeadingText')\n    return data(code)\n  }\n\n  function sequence(code) {\n    if (code === 35) {\n      effects.consume(code)\n      return sequence\n    }\n\n    effects.exit('atxHeadingSequence')\n    return headingBreak(code)\n  }\n\n  function data(code) {\n    if (code === null || code === 35 || markdownLineEndingOrSpace(code)) {\n      effects.exit('atxHeadingText')\n      return headingBreak(code)\n    }\n\n    effects.consume(code)\n    return data\n  }\n}\n\nmodule.exports = headingAtx\n","'use strict'\n\nvar asciiAlpha = require('../character/ascii-alpha.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar fromCharCode = require('../constant/from-char-code.js')\nvar htmlBlockNames = require('../constant/html-block-names.js')\nvar htmlRawNames = require('../constant/html-raw-names.js')\nvar partialBlankLine = require('./partial-blank-line.js')\n\nvar htmlFlow = {\n  name: 'htmlFlow',\n  tokenize: tokenizeHtmlFlow,\n  resolveTo: resolveToHtmlFlow,\n  concrete: true\n}\nvar nextBlankConstruct = {\n  tokenize: tokenizeNextBlank,\n  partial: true\n}\n\nfunction resolveToHtmlFlow(events) {\n  var index = events.length\n\n  while (index--) {\n    if (events[index][0] === 'enter' && events[index][1].type === 'htmlFlow') {\n      break\n    }\n  }\n\n  if (index > 1 && events[index - 2][1].type === 'linePrefix') {\n    // Add the prefix start to the HTML token.\n    events[index][1].start = events[index - 2][1].start // Add the prefix start to the HTML line token.\n\n    events[index + 1][1].start = events[index - 2][1].start // Remove the line prefix.\n\n    events.splice(index - 2, 2)\n  }\n\n  return events\n}\n\nfunction tokenizeHtmlFlow(effects, ok, nok) {\n  var self = this\n  var kind\n  var startTag\n  var buffer\n  var index\n  var marker\n  return start\n\n  function start(code) {\n    effects.enter('htmlFlow')\n    effects.enter('htmlFlowData')\n    effects.consume(code)\n    return open\n  }\n\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code)\n      return declarationStart\n    }\n\n    if (code === 47) {\n      effects.consume(code)\n      return tagCloseStart\n    }\n\n    if (code === 63) {\n      effects.consume(code)\n      kind = 3 // While were in an instruction instead of a declaration, were on a `?`\n      // right now, so we do need to search for `>`, similar to declarations.\n\n      return self.interrupt ? ok : continuationDeclarationInside\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      buffer = fromCharCode(code)\n      startTag = true\n      return tagName\n    }\n\n    return nok(code)\n  }\n\n  function declarationStart(code) {\n    if (code === 45) {\n      effects.consume(code)\n      kind = 2\n      return commentOpenInside\n    }\n\n    if (code === 91) {\n      effects.consume(code)\n      kind = 5\n      buffer = 'CDATA['\n      index = 0\n      return cdataOpenInside\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      kind = 4\n      return self.interrupt ? ok : continuationDeclarationInside\n    }\n\n    return nok(code)\n  }\n\n  function commentOpenInside(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return self.interrupt ? ok : continuationDeclarationInside\n    }\n\n    return nok(code)\n  }\n\n  function cdataOpenInside(code) {\n    if (code === buffer.charCodeAt(index++)) {\n      effects.consume(code)\n      return index === buffer.length\n        ? self.interrupt\n          ? ok\n          : continuation\n        : cdataOpenInside\n    }\n\n    return nok(code)\n  }\n\n  function tagCloseStart(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      buffer = fromCharCode(code)\n      return tagName\n    }\n\n    return nok(code)\n  }\n\n  function tagName(code) {\n    if (\n      code === null ||\n      code === 47 ||\n      code === 62 ||\n      markdownLineEndingOrSpace(code)\n    ) {\n      if (\n        code !== 47 &&\n        startTag &&\n        htmlRawNames.indexOf(buffer.toLowerCase()) > -1\n      ) {\n        kind = 1\n        return self.interrupt ? ok(code) : continuation(code)\n      }\n\n      if (htmlBlockNames.indexOf(buffer.toLowerCase()) > -1) {\n        kind = 6\n\n        if (code === 47) {\n          effects.consume(code)\n          return basicSelfClosing\n        }\n\n        return self.interrupt ? ok(code) : continuation(code)\n      }\n\n      kind = 7 // Do not support complete HTML when interrupting.\n\n      return self.interrupt\n        ? nok(code)\n        : startTag\n        ? completeAttributeNameBefore(code)\n        : completeClosingTagAfter(code)\n    }\n\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code)\n      buffer += fromCharCode(code)\n      return tagName\n    }\n\n    return nok(code)\n  }\n\n  function basicSelfClosing(code) {\n    if (code === 62) {\n      effects.consume(code)\n      return self.interrupt ? ok : continuation\n    }\n\n    return nok(code)\n  }\n\n  function completeClosingTagAfter(code) {\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeClosingTagAfter\n    }\n\n    return completeEnd(code)\n  }\n\n  function completeAttributeNameBefore(code) {\n    if (code === 47) {\n      effects.consume(code)\n      return completeEnd\n    }\n\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code)\n      return completeAttributeName\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAttributeNameBefore\n    }\n\n    return completeEnd(code)\n  }\n\n  function completeAttributeName(code) {\n    if (\n      code === 45 ||\n      code === 46 ||\n      code === 58 ||\n      code === 95 ||\n      asciiAlphanumeric(code)\n    ) {\n      effects.consume(code)\n      return completeAttributeName\n    }\n\n    return completeAttributeNameAfter(code)\n  }\n\n  function completeAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code)\n      return completeAttributeValueBefore\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAttributeNameAfter\n    }\n\n    return completeAttributeNameBefore(code)\n  }\n\n  function completeAttributeValueBefore(code) {\n    if (\n      code === null ||\n      code === 60 ||\n      code === 61 ||\n      code === 62 ||\n      code === 96\n    ) {\n      return nok(code)\n    }\n\n    if (code === 34 || code === 39) {\n      effects.consume(code)\n      marker = code\n      return completeAttributeValueQuoted\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAttributeValueBefore\n    }\n\n    marker = undefined\n    return completeAttributeValueUnquoted(code)\n  }\n\n  function completeAttributeValueQuoted(code) {\n    if (code === marker) {\n      effects.consume(code)\n      return completeAttributeValueQuotedAfter\n    }\n\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code)\n    }\n\n    effects.consume(code)\n    return completeAttributeValueQuoted\n  }\n\n  function completeAttributeValueUnquoted(code) {\n    if (\n      code === null ||\n      code === 34 ||\n      code === 39 ||\n      code === 60 ||\n      code === 61 ||\n      code === 62 ||\n      code === 96 ||\n      markdownLineEndingOrSpace(code)\n    ) {\n      return completeAttributeNameAfter(code)\n    }\n\n    effects.consume(code)\n    return completeAttributeValueUnquoted\n  }\n\n  function completeAttributeValueQuotedAfter(code) {\n    if (code === 47 || code === 62 || markdownSpace(code)) {\n      return completeAttributeNameBefore(code)\n    }\n\n    return nok(code)\n  }\n\n  function completeEnd(code) {\n    if (code === 62) {\n      effects.consume(code)\n      return completeAfter\n    }\n\n    return nok(code)\n  }\n\n  function completeAfter(code) {\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return completeAfter\n    }\n\n    return code === null || markdownLineEnding(code)\n      ? continuation(code)\n      : nok(code)\n  }\n\n  function continuation(code) {\n    if (code === 45 && kind === 2) {\n      effects.consume(code)\n      return continuationCommentInside\n    }\n\n    if (code === 60 && kind === 1) {\n      effects.consume(code)\n      return continuationRawTagOpen\n    }\n\n    if (code === 62 && kind === 4) {\n      effects.consume(code)\n      return continuationClose\n    }\n\n    if (code === 63 && kind === 3) {\n      effects.consume(code)\n      return continuationDeclarationInside\n    }\n\n    if (code === 93 && kind === 5) {\n      effects.consume(code)\n      return continuationCharacterDataInside\n    }\n\n    if (markdownLineEnding(code) && (kind === 6 || kind === 7)) {\n      return effects.check(\n        nextBlankConstruct,\n        continuationClose,\n        continuationAtLineEnding\n      )(code)\n    }\n\n    if (code === null || markdownLineEnding(code)) {\n      return continuationAtLineEnding(code)\n    }\n\n    effects.consume(code)\n    return continuation\n  }\n\n  function continuationAtLineEnding(code) {\n    effects.exit('htmlFlowData')\n    return htmlContinueStart(code)\n  }\n\n  function htmlContinueStart(code) {\n    if (code === null) {\n      return done(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding')\n      effects.consume(code)\n      effects.exit('lineEnding')\n      return htmlContinueStart\n    }\n\n    effects.enter('htmlFlowData')\n    return continuation(code)\n  }\n\n  function continuationCommentInside(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return continuationDeclarationInside\n    }\n\n    return continuation(code)\n  }\n\n  function continuationRawTagOpen(code) {\n    if (code === 47) {\n      effects.consume(code)\n      buffer = ''\n      return continuationRawEndTag\n    }\n\n    return continuation(code)\n  }\n\n  function continuationRawEndTag(code) {\n    if (code === 62 && htmlRawNames.indexOf(buffer.toLowerCase()) > -1) {\n      effects.consume(code)\n      return continuationClose\n    }\n\n    if (asciiAlpha(code) && buffer.length < 8) {\n      effects.consume(code)\n      buffer += fromCharCode(code)\n      return continuationRawEndTag\n    }\n\n    return continuation(code)\n  }\n\n  function continuationCharacterDataInside(code) {\n    if (code === 93) {\n      effects.consume(code)\n      return continuationDeclarationInside\n    }\n\n    return continuation(code)\n  }\n\n  function continuationDeclarationInside(code) {\n    if (code === 62) {\n      effects.consume(code)\n      return continuationClose\n    }\n\n    return continuation(code)\n  }\n\n  function continuationClose(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('htmlFlowData')\n      return done(code)\n    }\n\n    effects.consume(code)\n    return continuationClose\n  }\n\n  function done(code) {\n    effects.exit('htmlFlow')\n    return ok(code)\n  }\n}\n\nfunction tokenizeNextBlank(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    effects.exit('htmlFlowData')\n    effects.enter('lineEndingBlank')\n    effects.consume(code)\n    effects.exit('lineEndingBlank')\n    return effects.attempt(partialBlankLine, ok, nok)\n  }\n}\n\nmodule.exports = htmlFlow\n","'use strict'\n\n// This module is copied from <https://spec.commonmark.org/0.29/#html-blocks>.\nvar basics = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'section',\n  'source',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n]\n\nmodule.exports = basics\n","'use strict'\n\n// This module is copied from <https://spec.commonmark.org/0.29/#html-blocks>.\nvar raws = ['pre', 'script', 'style', 'textarea']\n\nmodule.exports = raws\n","'use strict'\n\nvar asciiAlpha = require('../character/ascii-alpha.js')\nvar asciiAlphanumeric = require('../character/ascii-alphanumeric.js')\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar markdownLineEndingOrSpace = require('../character/markdown-line-ending-or-space.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar factorySpace = require('./factory-space.js')\n\nvar htmlText = {\n  name: 'htmlText',\n  tokenize: tokenizeHtmlText\n}\n\nfunction tokenizeHtmlText(effects, ok, nok) {\n  var self = this\n  var marker\n  var buffer\n  var index\n  var returnState\n  return start\n\n  function start(code) {\n    effects.enter('htmlText')\n    effects.enter('htmlTextData')\n    effects.consume(code)\n    return open\n  }\n\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code)\n      return declarationOpen\n    }\n\n    if (code === 47) {\n      effects.consume(code)\n      return tagCloseStart\n    }\n\n    if (code === 63) {\n      effects.consume(code)\n      return instruction\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return tagOpen\n    }\n\n    return nok(code)\n  }\n\n  function declarationOpen(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return commentOpen\n    }\n\n    if (code === 91) {\n      effects.consume(code)\n      buffer = 'CDATA['\n      index = 0\n      return cdataOpen\n    }\n\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return declaration\n    }\n\n    return nok(code)\n  }\n\n  function commentOpen(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return commentStart\n    }\n\n    return nok(code)\n  }\n\n  function commentStart(code) {\n    if (code === null || code === 62) {\n      return nok(code)\n    }\n\n    if (code === 45) {\n      effects.consume(code)\n      return commentStartDash\n    }\n\n    return comment(code)\n  }\n\n  function commentStartDash(code) {\n    if (code === null || code === 62) {\n      return nok(code)\n    }\n\n    return comment(code)\n  }\n\n  function comment(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (code === 45) {\n      effects.consume(code)\n      return commentClose\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = comment\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return comment\n  }\n\n  function commentClose(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return end\n    }\n\n    return comment(code)\n  }\n\n  function cdataOpen(code) {\n    if (code === buffer.charCodeAt(index++)) {\n      effects.consume(code)\n      return index === buffer.length ? cdata : cdataOpen\n    }\n\n    return nok(code)\n  }\n\n  function cdata(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (code === 93) {\n      effects.consume(code)\n      return cdataClose\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = cdata\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return cdata\n  }\n\n  function cdataClose(code) {\n    if (code === 93) {\n      effects.consume(code)\n      return cdataEnd\n    }\n\n    return cdata(code)\n  }\n\n  function cdataEnd(code) {\n    if (code === 62) {\n      return end(code)\n    }\n\n    if (code === 93) {\n      effects.consume(code)\n      return cdataEnd\n    }\n\n    return cdata(code)\n  }\n\n  function declaration(code) {\n    if (code === null || code === 62) {\n      return end(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = declaration\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return declaration\n  }\n\n  function instruction(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (code === 63) {\n      effects.consume(code)\n      return instructionClose\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = instruction\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return instruction\n  }\n\n  function instructionClose(code) {\n    return code === 62 ? end(code) : instruction(code)\n  }\n\n  function tagCloseStart(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return tagClose\n    }\n\n    return nok(code)\n  }\n\n  function tagClose(code) {\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return tagClose\n    }\n\n    return tagCloseBetween(code)\n  }\n\n  function tagCloseBetween(code) {\n    if (markdownLineEnding(code)) {\n      returnState = tagCloseBetween\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagCloseBetween\n    }\n\n    return end(code)\n  }\n\n  function tagOpen(code) {\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return tagOpen\n    }\n\n    if (code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code)\n    }\n\n    return nok(code)\n  }\n\n  function tagOpenBetween(code) {\n    if (code === 47) {\n      effects.consume(code)\n      return end\n    }\n\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code)\n      return tagOpenAttributeName\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenBetween\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagOpenBetween\n    }\n\n    return end(code)\n  }\n\n  function tagOpenAttributeName(code) {\n    if (\n      code === 45 ||\n      code === 46 ||\n      code === 58 ||\n      code === 95 ||\n      asciiAlphanumeric(code)\n    ) {\n      effects.consume(code)\n      return tagOpenAttributeName\n    }\n\n    return tagOpenAttributeNameAfter(code)\n  }\n\n  function tagOpenAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code)\n      return tagOpenAttributeValueBefore\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeNameAfter\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagOpenAttributeNameAfter\n    }\n\n    return tagOpenBetween(code)\n  }\n\n  function tagOpenAttributeValueBefore(code) {\n    if (\n      code === null ||\n      code === 60 ||\n      code === 61 ||\n      code === 62 ||\n      code === 96\n    ) {\n      return nok(code)\n    }\n\n    if (code === 34 || code === 39) {\n      effects.consume(code)\n      marker = code\n      return tagOpenAttributeValueQuoted\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueBefore\n      return atLineEnding(code)\n    }\n\n    if (markdownSpace(code)) {\n      effects.consume(code)\n      return tagOpenAttributeValueBefore\n    }\n\n    effects.consume(code)\n    marker = undefined\n    return tagOpenAttributeValueUnquoted\n  }\n\n  function tagOpenAttributeValueQuoted(code) {\n    if (code === marker) {\n      effects.consume(code)\n      return tagOpenAttributeValueQuotedAfter\n    }\n\n    if (code === null) {\n      return nok(code)\n    }\n\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueQuoted\n      return atLineEnding(code)\n    }\n\n    effects.consume(code)\n    return tagOpenAttributeValueQuoted\n  }\n\n  function tagOpenAttributeValueQuotedAfter(code) {\n    if (code === 62 || code === 47 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code)\n    }\n\n    return nok(code)\n  }\n\n  function tagOpenAttributeValueUnquoted(code) {\n    if (\n      code === null ||\n      code === 34 ||\n      code === 39 ||\n      code === 60 ||\n      code === 61 ||\n      code === 96\n    ) {\n      return nok(code)\n    }\n\n    if (code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code)\n    }\n\n    effects.consume(code)\n    return tagOpenAttributeValueUnquoted\n  } // We cant have blank lines in content, so no need to worry about empty\n  // tokens.\n\n  function atLineEnding(code) {\n    effects.exit('htmlTextData')\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(\n      effects,\n      afterPrefix,\n      'linePrefix',\n      self.parser.constructs.disable.null.indexOf('codeIndented') > -1\n        ? undefined\n        : 4\n    )\n  }\n\n  function afterPrefix(code) {\n    effects.enter('htmlTextData')\n    return returnState(code)\n  }\n\n  function end(code) {\n    if (code === 62) {\n      effects.consume(code)\n      effects.exit('htmlTextData')\n      effects.exit('htmlText')\n      return ok\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = htmlText\n","'use strict'\n\nvar labelEnd = require('./label-end.js')\n\nvar labelStartImage = {\n  name: 'labelStartImage',\n  tokenize: tokenizeLabelStartImage,\n  resolveAll: labelEnd.resolveAll\n}\n\nfunction tokenizeLabelStartImage(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    effects.enter('labelImage')\n    effects.enter('labelImageMarker')\n    effects.consume(code)\n    effects.exit('labelImageMarker')\n    return open\n  }\n\n  function open(code) {\n    if (code === 91) {\n      effects.enter('labelMarker')\n      effects.consume(code)\n      effects.exit('labelMarker')\n      effects.exit('labelImage')\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    /* c8 ignore next */\n    return code === 94 &&\n      /* c8 ignore next */\n      '_hiddenFootnoteSupport' in self.parser.constructs\n      ? /* c8 ignore next */\n        nok(code)\n      : ok(code)\n  }\n}\n\nmodule.exports = labelStartImage\n","'use strict'\n\nvar labelEnd = require('./label-end.js')\n\nvar labelStartLink = {\n  name: 'labelStartLink',\n  tokenize: tokenizeLabelStartLink,\n  resolveAll: labelEnd.resolveAll\n}\n\nfunction tokenizeLabelStartLink(effects, ok, nok) {\n  var self = this\n  return start\n\n  function start(code) {\n    effects.enter('labelLink')\n    effects.enter('labelMarker')\n    effects.consume(code)\n    effects.exit('labelMarker')\n    effects.exit('labelLink')\n    return after\n  }\n\n  function after(code) {\n    /* c8 ignore next */\n    return code === 94 &&\n      /* c8 ignore next */\n      '_hiddenFootnoteSupport' in self.parser.constructs\n      ? /* c8 ignore next */\n        nok(code)\n      : ok(code)\n  }\n}\n\nmodule.exports = labelStartLink\n","'use strict'\n\nvar factorySpace = require('./factory-space.js')\n\nvar lineEnding = {\n  name: 'lineEnding',\n  tokenize: tokenizeLineEnding\n}\n\nfunction tokenizeLineEnding(effects, ok) {\n  return start\n\n  function start(code) {\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    return factorySpace(effects, ok, 'linePrefix')\n  }\n}\n\nmodule.exports = lineEnding\n","'use strict'\n\nvar asciiDigit = require('../character/ascii-digit.js')\nvar markdownSpace = require('../character/markdown-space.js')\nvar prefixSize = require('../util/prefix-size.js')\nvar sizeChunks = require('../util/size-chunks.js')\nvar factorySpace = require('./factory-space.js')\nvar partialBlankLine = require('./partial-blank-line.js')\nvar thematicBreak = require('./thematic-break.js')\n\nvar list = {\n  name: 'list',\n  tokenize: tokenizeListStart,\n  continuation: {\n    tokenize: tokenizeListContinuation\n  },\n  exit: tokenizeListEnd\n}\nvar listItemPrefixWhitespaceConstruct = {\n  tokenize: tokenizeListItemPrefixWhitespace,\n  partial: true\n}\nvar indentConstruct = {\n  tokenize: tokenizeIndent,\n  partial: true\n}\n\nfunction tokenizeListStart(effects, ok, nok) {\n  var self = this\n  var initialSize = prefixSize(self.events, 'linePrefix')\n  var size = 0\n  return start\n\n  function start(code) {\n    var kind =\n      self.containerState.type ||\n      (code === 42 || code === 43 || code === 45\n        ? 'listUnordered'\n        : 'listOrdered')\n\n    if (\n      kind === 'listUnordered'\n        ? !self.containerState.marker || code === self.containerState.marker\n        : asciiDigit(code)\n    ) {\n      if (!self.containerState.type) {\n        self.containerState.type = kind\n        effects.enter(kind, {\n          _container: true\n        })\n      }\n\n      if (kind === 'listUnordered') {\n        effects.enter('listItemPrefix')\n        return code === 42 || code === 45\n          ? effects.check(thematicBreak, nok, atMarker)(code)\n          : atMarker(code)\n      }\n\n      if (!self.interrupt || code === 49) {\n        effects.enter('listItemPrefix')\n        effects.enter('listItemValue')\n        return inside(code)\n      }\n    }\n\n    return nok(code)\n  }\n\n  function inside(code) {\n    if (asciiDigit(code) && ++size < 10) {\n      effects.consume(code)\n      return inside\n    }\n\n    if (\n      (!self.interrupt || size < 2) &&\n      (self.containerState.marker\n        ? code === self.containerState.marker\n        : code === 41 || code === 46)\n    ) {\n      effects.exit('listItemValue')\n      return atMarker(code)\n    }\n\n    return nok(code)\n  }\n\n  function atMarker(code) {\n    effects.enter('listItemMarker')\n    effects.consume(code)\n    effects.exit('listItemMarker')\n    self.containerState.marker = self.containerState.marker || code\n    return effects.check(\n      partialBlankLine, // Cant be empty when interrupting.\n      self.interrupt ? nok : onBlank,\n      effects.attempt(\n        listItemPrefixWhitespaceConstruct,\n        endOfPrefix,\n        otherPrefix\n      )\n    )\n  }\n\n  function onBlank(code) {\n    self.containerState.initialBlankLine = true\n    initialSize++\n    return endOfPrefix(code)\n  }\n\n  function otherPrefix(code) {\n    if (markdownSpace(code)) {\n      effects.enter('listItemPrefixWhitespace')\n      effects.consume(code)\n      effects.exit('listItemPrefixWhitespace')\n      return endOfPrefix\n    }\n\n    return nok(code)\n  }\n\n  function endOfPrefix(code) {\n    self.containerState.size =\n      initialSize + sizeChunks(self.sliceStream(effects.exit('listItemPrefix')))\n    return ok(code)\n  }\n}\n\nfunction tokenizeListContinuation(effects, ok, nok) {\n  var self = this\n  self.containerState._closeFlow = undefined\n  return effects.check(partialBlankLine, onBlank, notBlank)\n\n  function onBlank(code) {\n    self.containerState.furtherBlankLines =\n      self.containerState.furtherBlankLines ||\n      self.containerState.initialBlankLine // We have a blank line.\n    // Still, try to consume at most the items size.\n\n    return factorySpace(\n      effects,\n      ok,\n      'listItemIndent',\n      self.containerState.size + 1\n    )(code)\n  }\n\n  function notBlank(code) {\n    if (self.containerState.furtherBlankLines || !markdownSpace(code)) {\n      self.containerState.furtherBlankLines = self.containerState.initialBlankLine = undefined\n      return notInCurrentItem(code)\n    }\n\n    self.containerState.furtherBlankLines = self.containerState.initialBlankLine = undefined\n    return effects.attempt(indentConstruct, ok, notInCurrentItem)(code)\n  }\n\n  function notInCurrentItem(code) {\n    // While we do continue, we signal that the flow should be closed.\n    self.containerState._closeFlow = true // As were closing flow, were no longer interrupting.\n\n    self.interrupt = undefined\n    return factorySpace(\n      effects,\n      effects.attempt(list, ok, nok),\n      'linePrefix',\n      self.parser.constructs.disable.null.indexOf('codeIndented') > -1\n        ? undefined\n        : 4\n    )(code)\n  }\n}\n\nfunction tokenizeIndent(effects, ok, nok) {\n  var self = this\n  return factorySpace(\n    effects,\n    afterPrefix,\n    'listItemIndent',\n    self.containerState.size + 1\n  )\n\n  function afterPrefix(code) {\n    return prefixSize(self.events, 'listItemIndent') ===\n      self.containerState.size\n      ? ok(code)\n      : nok(code)\n  }\n}\n\nfunction tokenizeListEnd(effects) {\n  effects.exit(this.containerState.type)\n}\n\nfunction tokenizeListItemPrefixWhitespace(effects, ok, nok) {\n  var self = this\n  return factorySpace(\n    effects,\n    afterPrefix,\n    'listItemPrefixWhitespace',\n    self.parser.constructs.disable.null.indexOf('codeIndented') > -1\n      ? undefined\n      : 4 + 1\n  )\n\n  function afterPrefix(code) {\n    return markdownSpace(code) ||\n      !prefixSize(self.events, 'listItemPrefixWhitespace')\n      ? nok(code)\n      : ok(code)\n  }\n}\n\nmodule.exports = list\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar shallow = require('../util/shallow.js')\nvar factorySpace = require('./factory-space.js')\n\nvar setextUnderline = {\n  name: 'setextUnderline',\n  tokenize: tokenizeSetextUnderline,\n  resolveTo: resolveToSetextUnderline\n}\n\nfunction resolveToSetextUnderline(events, context) {\n  var index = events.length\n  var content\n  var text\n  var definition\n  var heading // Find the opening of the content.\n  // Itll always exist: we dont tokenize if it isnt there.\n\n  while (index--) {\n    if (events[index][0] === 'enter') {\n      if (events[index][1].type === 'content') {\n        content = index\n        break\n      }\n\n      if (events[index][1].type === 'paragraph') {\n        text = index\n      }\n    } // Exit\n    else {\n      if (events[index][1].type === 'content') {\n        // Remove the content end (if needed well add it later)\n        events.splice(index, 1)\n      }\n\n      if (!definition && events[index][1].type === 'definition') {\n        definition = index\n      }\n    }\n  }\n\n  heading = {\n    type: 'setextHeading',\n    start: shallow(events[text][1].start),\n    end: shallow(events[events.length - 1][1].end)\n  } // Change the paragraph to setext heading text.\n\n  events[text][1].type = 'setextHeadingText' // If we have definitions in the content, well keep on having content,\n  // but we need move it.\n\n  if (definition) {\n    events.splice(text, 0, ['enter', heading, context])\n    events.splice(definition + 1, 0, ['exit', events[content][1], context])\n    events[content][1].end = shallow(events[definition][1].end)\n  } else {\n    events[content][1] = heading\n  } // Add the heading exit at the end.\n\n  events.push(['exit', heading, context])\n  return events\n}\n\nfunction tokenizeSetextUnderline(effects, ok, nok) {\n  var self = this\n  var index = self.events.length\n  var marker\n  var paragraph // Find an opening.\n\n  while (index--) {\n    // Skip enter/exit of line ending, line prefix, and content.\n    // We can now either have a definition or a paragraph.\n    if (\n      self.events[index][1].type !== 'lineEnding' &&\n      self.events[index][1].type !== 'linePrefix' &&\n      self.events[index][1].type !== 'content'\n    ) {\n      paragraph = self.events[index][1].type === 'paragraph'\n      break\n    }\n  }\n\n  return start\n\n  function start(code) {\n    if (!self.lazy && (self.interrupt || paragraph)) {\n      effects.enter('setextHeadingLine')\n      effects.enter('setextHeadingLineSequence')\n      marker = code\n      return closingSequence(code)\n    }\n\n    return nok(code)\n  }\n\n  function closingSequence(code) {\n    if (code === marker) {\n      effects.consume(code)\n      return closingSequence\n    }\n\n    effects.exit('setextHeadingLineSequence')\n    return factorySpace(effects, closingSequenceEnd, 'lineSuffix')(code)\n  }\n\n  function closingSequenceEnd(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('setextHeadingLine')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nmodule.exports = setextUnderline\n","'use strict'\n\nvar search = /[\\0\\t\\n\\r]/g\n\nfunction preprocess() {\n  var start = true\n  var column = 1\n  var buffer = ''\n  var atCarriageReturn\n  return preprocessor\n\n  function preprocessor(value, encoding, end) {\n    var chunks = []\n    var match\n    var next\n    var startPosition\n    var endPosition\n    var code\n    value = buffer + value.toString(encoding)\n    startPosition = 0\n    buffer = ''\n\n    if (start) {\n      if (value.charCodeAt(0) === 65279) {\n        startPosition++\n      }\n\n      start = undefined\n    }\n\n    while (startPosition < value.length) {\n      search.lastIndex = startPosition\n      match = search.exec(value)\n      endPosition = match ? match.index : value.length\n      code = value.charCodeAt(endPosition)\n\n      if (!match) {\n        buffer = value.slice(startPosition)\n        break\n      }\n\n      if (code === 10 && startPosition === endPosition && atCarriageReturn) {\n        chunks.push(-3)\n        atCarriageReturn = undefined\n      } else {\n        if (atCarriageReturn) {\n          chunks.push(-5)\n          atCarriageReturn = undefined\n        }\n\n        if (startPosition < endPosition) {\n          chunks.push(value.slice(startPosition, endPosition))\n          column += endPosition - startPosition\n        }\n\n        if (code === 0) {\n          chunks.push(65533)\n          column++\n        } else if (code === 9) {\n          next = Math.ceil(column / 4) * 4\n          chunks.push(-2)\n\n          while (column++ < next) chunks.push(-1)\n        } else if (code === 10) {\n          chunks.push(-4)\n          column = 1\n        } // Must be carriage return.\n        else {\n          atCarriageReturn = true\n          column = 1\n        }\n      }\n\n      startPosition = endPosition + 1\n    }\n\n    if (end) {\n      if (atCarriageReturn) chunks.push(-5)\n      if (buffer) chunks.push(buffer)\n      chunks.push(null)\n    }\n\n    return chunks\n  }\n}\n\nmodule.exports = preprocess\n","'use strict'\n\nvar subtokenize = require('./util/subtokenize.js')\n\nfunction postprocess(events) {\n  while (!subtokenize(events)) {\n    // Empty\n  }\n\n  return events\n}\n\nmodule.exports = postprocess\n","'use strict'\n\n/* eslint-env browser */\n\nvar el\n\nvar semicolon = 59 //  ';'\n\nmodule.exports = decodeEntity\n\nfunction decodeEntity(characters) {\n  var entity = '&' + characters + ';'\n  var char\n\n  el = el || document.createElement('i')\n  el.innerHTML = entity\n  char = el.textContent\n\n  // Some entities do not require the closing semicolon (`&not` - for instance),\n  // which leads to situations where parsing the assumed entity of &notit; will\n  // result in the string `it;`.  When we encounter a trailing semicolon after\n  // parsing and the entity to decode was not a semicolon (`&semi;`), we can\n  // assume that the matching was incomplete\n  if (char.charCodeAt(char.length - 1) === semicolon && characters !== 'semi') {\n    return false\n  }\n\n  // If the decoded string is equal to the input, the entity was not valid\n  return char === entity ? false : char\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = stringify\n\nfunction stringify(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return ''\n  }\n\n  // Node.\n  if (own.call(value, 'position') || own.call(value, 'type')) {\n    return position(value.position)\n  }\n\n  // Position.\n  if (own.call(value, 'start') || own.call(value, 'end')) {\n    return position(value)\n  }\n\n  // Point.\n  if (own.call(value, 'line') || own.call(value, 'column')) {\n    return point(value)\n  }\n\n  // ?\n  return ''\n}\n\nfunction point(point) {\n  if (!point || typeof point !== 'object') {\n    point = {}\n  }\n\n  return index(point.line) + ':' + index(point.column)\n}\n\nfunction position(pos) {\n  if (!pos || typeof pos !== 'object') {\n    pos = {}\n  }\n\n  return point(pos.start) + '-' + point(pos.end)\n}\n\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1\n}\n","var visitWithParents = require('unist-util-visit-parents');\n\nfunction addListMetadata() {\n  return function (ast) {\n    visitWithParents(ast, 'list', function (listNode, parents) {\n      var depth = 0, i, n;\n      for (i = 0, n = parents.length; i < n; i++) {\n        if (parents[i].type === 'list') depth += 1;\n      }\n      for (i = 0, n = listNode.children.length; i < n; i++) {\n        var child = listNode.children[i];\n        child.index = i;\n        child.ordered = listNode.ordered;\n      }\n      listNode.depth = depth;\n    });\n    return ast;\n  };\n}\n\nmodule.exports = addListMetadata;\n","'use strict'\n\n/* Expose. */\nmodule.exports = visitParents\n\n/* Visit. */\nfunction visitParents(tree, type, visitor) {\n  var stack = []\n\n  if (typeof type === 'function') {\n    visitor = type\n    type = null\n  }\n\n  one(tree)\n\n  /* Visit a single node. */\n  function one(node) {\n    var result\n\n    if (!type || node.type === type) {\n      result = visitor(node, stack.concat())\n    }\n\n    if (node.children && result !== false) {\n      return all(node.children, node)\n    }\n\n    return result\n  }\n\n  /* Visit children in `parent`. */\n  function all(children, parent) {\n    var length = children.length\n    var index = -1\n    var child\n\n    stack.push(parent)\n\n    while (++index < length) {\n      child = children[index]\n\n      if (child && one(child) === false) {\n        return false\n      }\n    }\n\n    stack.pop()\n\n    return true\n  }\n}\n","\"use strict\";\n\n/**\n * Naive, simple plugin to match inline nodes without attributes\n * This allows say <strong>foo</strong>, but not <strong class=\"very\">foo</strong>\n * For proper HTML support, you'll want a different plugin\n **/\nvar visit = require('unist-util-visit');\n\nvar type = 'virtualHtml';\nvar selfClosingRe = /^<(area|base|br|col|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\\s*\\/?>$/i;\nvar simpleTagRe = /^<(\\/?)([a-z]+)\\s*>$/;\n\nmodule.exports = function (tree) {\n  var open;\n  var currentParent;\n  visit(tree, 'html', function (node, index, parent) {\n    if (currentParent !== parent) {\n      open = [];\n      currentParent = parent;\n    }\n\n    var selfClosing = getSelfClosing(node);\n\n    if (selfClosing) {\n      parent.children.splice(index, 1, {\n        type: type,\n        tag: selfClosing,\n        position: node.position\n      });\n      return true;\n    }\n\n    var current = getSimpleTag(node, parent);\n\n    if (!current) {\n      return true;\n    }\n\n    var matching = findAndPull(open, current.tag);\n\n    if (matching) {\n      parent.children.splice(index, 0, virtual(current, matching, parent));\n    } else if (!current.opening) {\n      open.push(current);\n    }\n\n    return true;\n  }, true // Iterate in reverse\n  );\n  return tree;\n};\n\nfunction findAndPull(open, matchingTag) {\n  var i = open.length;\n\n  while (i--) {\n    if (open[i].tag === matchingTag) {\n      return open.splice(i, 1)[0];\n    }\n  }\n\n  return false;\n}\n\nfunction getSimpleTag(node, parent) {\n  var match = node.value.match(simpleTagRe);\n  return match ? {\n    tag: match[2],\n    opening: !match[1],\n    node: node\n  } : false;\n}\n\nfunction getSelfClosing(node) {\n  var match = node.value.match(selfClosingRe);\n  return match ? match[1] : false;\n}\n\nfunction virtual(fromNode, toNode, parent) {\n  var fromIndex = parent.children.indexOf(fromNode.node);\n  var toIndex = parent.children.indexOf(toNode.node);\n  var extracted = parent.children.splice(fromIndex, toIndex - fromIndex + 1);\n  var children = extracted.slice(1, -1);\n  return {\n    type: type,\n    children: children,\n    tag: fromNode.tag,\n    position: {\n      start: fromNode.node.position.start,\n      end: toNode.node.position.end,\n      indent: []\n    }\n  };\n}","module.exports = identity\nfunction identity(d) {\n  return d\n}\n","\"use strict\";\n\nvar visit = require('unist-util-visit');\n\nvar splice = [].splice;\n\nexports.ofType = function (types, mode) {\n  return ifNotMatch(allow, mode);\n\n  function allow(node, index, parent) {\n    return !types.includes(node.type);\n  }\n};\n\nexports.ifNotMatch = ifNotMatch;\n\nfunction ifNotMatch(allow, mode) {\n  return transform;\n\n  function transform(tree) {\n    visit(tree, filter);\n    return tree;\n  } // eslint-disable-next-line consistent-return\n\n\n  function filter(node, index, parent) {\n    if (parent && !allow(node, index, parent)) {\n      var parameters = [index, 1];\n\n      if (mode === 'unwrap' && node.children) {\n        parameters = parameters.concat(node.children);\n      }\n\n      splice.apply(parent.children, parameters);\n      return index;\n    }\n  }\n}","'use strict';\n\nvar React = require('react');\n\nvar xtend = require('xtend');\n\nvar ReactIs = require('react-is');\n\nfunction astToReact(node, options) {\n  var parent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var index = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var renderer = options.renderers[node.type]; // Nodes created by plugins do not have positional info, in which case we set\n  // an object that matches the positon interface.\n\n  if (!node.position) {\n    node.position = {\n      start: {\n        line: null,\n        column: null,\n        offset: null\n      },\n      end: {\n        line: null,\n        column: null,\n        offset: null\n      }\n    };\n  }\n\n  var pos = node.position.start;\n  var key = [node.type, pos.line, pos.column, index].join('-');\n\n  if (!ReactIs.isValidElementType(renderer)) {\n    throw new Error(\"Renderer for type `\".concat(node.type, \"` not defined or is not renderable\"));\n  }\n\n  var nodeProps = getNodeProps(node, key, options, renderer, parent, index);\n  return React.createElement(renderer, nodeProps, nodeProps.children || resolveChildren() || undefined);\n\n  function resolveChildren() {\n    return node.children && node.children.map(function (childNode, i) {\n      return astToReact(childNode, options, {\n        node: node,\n        props: nodeProps\n      }, i);\n    });\n  }\n} // eslint-disable-next-line max-params, complexity\n\n\nfunction getNodeProps(node, key, opts, renderer, parent, index) {\n  var props = {\n    key: key\n  };\n  var isSimpleRenderer = typeof renderer === 'string' || renderer === React.Fragment; // `sourcePos` is true if the user wants source information (line/column info from markdown source)\n\n  if (opts.sourcePos && node.position) {\n    props['data-sourcepos'] = flattenPosition(node.position);\n  }\n\n  if (opts.rawSourcePos && !isSimpleRenderer) {\n    props.sourcePosition = node.position;\n  } // If `includeNodeIndex` is true, pass node index info to all non-tag renderers\n\n\n  if (opts.includeNodeIndex && parent.node && parent.node.children && !isSimpleRenderer) {\n    props.index = parent.node.children.indexOf(node);\n    props.parentChildCount = parent.node.children.length;\n  }\n\n  var ref = node.identifier !== null && node.identifier !== undefined ?\n  /* istanbul ignore next - plugins could inject an undefined reference. */\n  opts.definitions[node.identifier.toUpperCase()] || {} : null;\n\n  switch (node.type) {\n    case 'root':\n      assignDefined(props, {\n        className: opts.className\n      });\n      break;\n\n    case 'text':\n      props.nodeKey = key;\n      props.children = node.value;\n      break;\n\n    case 'heading':\n      props.level = node.depth;\n      break;\n\n    case 'list':\n      props.start = node.start;\n      props.ordered = node.ordered;\n      props.spread = node.spread;\n      props.depth = node.depth;\n      break;\n\n    case 'listItem':\n      props.checked = node.checked;\n      props.spread = node.spread;\n      props.ordered = node.ordered;\n      props.index = node.index;\n      props.children = getListItemChildren(node, parent).map(function (childNode, i) {\n        return astToReact(childNode, opts, {\n          node: node,\n          props: props\n        }, i);\n      });\n      break;\n\n    case 'definition':\n      assignDefined(props, {\n        identifier: node.identifier,\n        title: node.title,\n        url: node.url\n      });\n      break;\n\n    case 'code':\n      assignDefined(props, {\n        language: node.lang && node.lang.split(/\\s/, 1)[0]\n      });\n      break;\n\n    case 'inlineCode':\n      props.children = node.value;\n      props.inline = true;\n      break;\n\n    case 'link':\n      assignDefined(props, {\n        title: node.title || undefined,\n        target: typeof opts.linkTarget === 'function' ? opts.linkTarget(node.url, node.children, node.title) : opts.linkTarget,\n        href: opts.transformLinkUri ? opts.transformLinkUri(node.url, node.children, node.title) : node.url\n      });\n      break;\n\n    case 'image':\n      assignDefined(props, {\n        src: opts.transformImageUri ? opts.transformImageUri(node.url, node.children, node.title, node.alt) : node.url,\n        alt: node.alt || '',\n        title: node.title || undefined\n      });\n      break;\n\n    case 'linkReference':\n      assignDefined(props, xtend(ref, {\n        href: opts.transformLinkUri ? opts.transformLinkUri(ref.href) : ref.href\n      }));\n      break;\n\n    case 'imageReference':\n      assignDefined(props, {\n        src: opts.transformImageUri && ref.href ? opts.transformImageUri(ref.href, node.children, ref.title, node.alt) : ref.href,\n        alt: node.alt || '',\n        title: ref.title || undefined\n      });\n      break;\n\n    case 'table':\n    case 'tableHead':\n    case 'tableBody':\n      props.columnAlignment = node.align;\n      break;\n\n    case 'tableRow':\n      props.isHeader = parent.node.type === 'tableHead';\n      props.columnAlignment = parent.props.columnAlignment;\n      break;\n\n    case 'tableCell':\n      assignDefined(props, {\n        isHeader: parent.props.isHeader,\n        align: parent.props.columnAlignment[index]\n      });\n      break;\n\n    case 'virtualHtml':\n      props.tag = node.tag;\n      break;\n\n    case 'html':\n      // @todo find a better way than this\n      props.isBlock = node.position.start.line !== node.position.end.line;\n      props.allowDangerousHtml = opts.allowDangerousHtml;\n      props.escapeHtml = opts.escapeHtml;\n      props.skipHtml = opts.skipHtml;\n      break;\n\n    case 'parsedHtml':\n      {\n        var parsedChildren;\n\n        if (node.children) {\n          parsedChildren = node.children.map(function (child, i) {\n            return astToReact(child, opts, {\n              node: node,\n              props: props\n            }, i);\n          });\n        }\n\n        props.allowDangerousHtml = opts.allowDangerousHtml;\n        props.escapeHtml = opts.escapeHtml;\n        props.skipHtml = opts.skipHtml;\n        props.element = node.element ? mergeNodeChildren(node, parsedChildren) : null;\n        break;\n      }\n\n    default:\n      assignDefined(props, xtend(node, {\n        type: undefined,\n        position: undefined,\n        children: undefined\n      }));\n  }\n\n  if (!isSimpleRenderer && node.value) {\n    props.value = node.value;\n  }\n\n  if (!isSimpleRenderer) {\n    props.node = node;\n  }\n\n  return props;\n}\n\nfunction assignDefined(target, attrs) {\n  for (var key in attrs) {\n    if (typeof attrs[key] !== 'undefined') {\n      target[key] = attrs[key];\n    }\n  }\n}\n\nfunction mergeNodeChildren(node, parsedChildren) {\n  var el = node.element;\n\n  if (Array.isArray(el)) {\n    /* istanbul ignore next - `div` fallback for old React. */\n    var Fragment = React.Fragment || 'div';\n    return React.createElement(Fragment, null, el);\n  }\n\n  if (el.props.children || parsedChildren) {\n    var children = React.Children.toArray(el.props.children).concat(parsedChildren);\n    return React.cloneElement(el, null, children);\n  }\n\n  return React.cloneElement(el, null);\n}\n\nfunction flattenPosition(pos) {\n  return [pos.start.line, ':', pos.start.column, '-', pos.end.line, ':', pos.end.column].map(String).join('');\n}\n\nfunction getListItemChildren(node, parent) {\n  /* istanbul ignore next - list items are always in a list, but best to be sure. */\n  var loose = parent && parent.node ? listLoose(parent.node) : listItemLoose(node);\n  return loose ? node.children : unwrapParagraphs(node);\n}\n\nfunction unwrapParagraphs(node) {\n  return node.children.reduce(function (array, child) {\n    return array.concat(child.type === 'paragraph' ? child.children : [child]);\n  }, []);\n}\n\nfunction listLoose(node) {\n  var children = node.children;\n  var loose = node.spread;\n  var index = -1;\n\n  while (!loose && ++index < children.length) {\n    loose = listItemLoose(children[index]);\n  }\n\n  return loose;\n}\n\nfunction listItemLoose(node) {\n  var spread = node.spread;\n  /* istanbul ignore next - spread is present from remark-parse, but maybe plugins dont set it. */\n\n  return spread === undefined || spread === null ? node.children.length > 1 : spread;\n}\n\nmodule.exports = astToReact;","'use strict';\n\nvar visit = require('unist-util-visit');\n\nmodule.exports = function (node) {\n  visit(node, 'table', wrap);\n  return node;\n};\n\nfunction wrap(table) {\n  var children = table.children;\n  table.children = [{\n    type: 'tableHead',\n    align: table.align,\n    children: [children[0]],\n    position: children[0].position\n  }];\n\n  if (children.length > 1) {\n    table.children.push({\n      type: 'tableBody',\n      align: table.align,\n      children: children.slice(1),\n      position: {\n        start: children[1].position.start,\n        end: children[children.length - 1].position.end\n      }\n    });\n  }\n}","'use strict';\n\nvar visit = require('unist-util-visit');\n\nmodule.exports = function getDefinitions(tree) {\n  var definitions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  visit(tree, 'definition', function (node) {\n    var identifier = node.identifier.toUpperCase();\n    if (identifier in definitions) return;\n    definitions[identifier] = {\n      href: node.url,\n      title: node.title\n    };\n  });\n  return definitions;\n};","\"use strict\";\n\nvar protocols = ['http', 'https', 'mailto', 'tel'];\n\nmodule.exports = function uriTransformer(uri) {\n  var url = (uri || '').trim();\n  var first = url.charAt(0);\n\n  if (first === '#' || first === '/') {\n    return url;\n  }\n\n  var colon = url.indexOf(':');\n\n  if (colon === -1) {\n    return url;\n  }\n\n  var length = protocols.length;\n  var index = -1;\n\n  while (++index < length) {\n    var protocol = protocols[index];\n\n    if (colon === protocol.length && url.slice(0, protocol.length).toLowerCase() === protocol) {\n      return url;\n    }\n  }\n\n  index = url.indexOf('?');\n\n  if (index !== -1 && colon > index) {\n    return url;\n  }\n\n  index = url.indexOf('#');\n\n  if (index !== -1 && colon > index) {\n    return url;\n  } // eslint-disable-next-line no-script-url\n\n\n  return 'javascript:void(0)';\n};","/* eslint-disable react/prop-types, react/no-multi-comp */\n'use strict';\n\nvar xtend = require('xtend');\n\nvar React = require('react');\n/* istanbul ignore next - Dont crash on old React. */\n\n\nvar supportsStringRender = parseInt((React.version || '16').slice(0, 2), 10) >= 16;\nvar createElement = React.createElement;\nmodule.exports = {\n  break: 'br',\n  paragraph: 'p',\n  emphasis: 'em',\n  strong: 'strong',\n  thematicBreak: 'hr',\n  blockquote: 'blockquote',\n  delete: 'del',\n  link: 'a',\n  image: 'img',\n  linkReference: 'a',\n  imageReference: 'img',\n  table: SimpleRenderer.bind(null, 'table'),\n  tableHead: SimpleRenderer.bind(null, 'thead'),\n  tableBody: SimpleRenderer.bind(null, 'tbody'),\n  tableRow: SimpleRenderer.bind(null, 'tr'),\n  tableCell: TableCell,\n  root: Root,\n  text: TextRenderer,\n  list: List,\n  listItem: ListItem,\n  definition: NullRenderer,\n  heading: Heading,\n  inlineCode: InlineCode,\n  code: CodeBlock,\n  html: Html,\n  virtualHtml: VirtualHtml,\n  parsedHtml: ParsedHtml\n};\n\nfunction TextRenderer(props) {\n  /* istanbul ignore next - a text node w/o a value could be injected by plugins */\n  var children = props.children || '';\n  /* istanbul ignore next - `span` is a fallback for old React. */\n\n  return supportsStringRender ? children : createElement('span', null, children);\n}\n\nfunction Root(props) {\n  var className = props.className;\n  var root = !className && React.Fragment || 'div';\n  return createElement(root, className ? {\n    className: className\n  } : null, props.children);\n}\n\nfunction SimpleRenderer(tag, props) {\n  return createElement(tag, getCoreProps(props), props.children);\n}\n\nfunction TableCell(props) {\n  var style = props.align ? {\n    textAlign: props.align\n  } : undefined;\n  var coreProps = getCoreProps(props);\n  return createElement(props.isHeader ? 'th' : 'td', style ? xtend({\n    style: style\n  }, coreProps) : coreProps, props.children);\n}\n\nfunction Heading(props) {\n  return createElement(\"h\".concat(props.level), getCoreProps(props), props.children);\n}\n\nfunction List(props) {\n  var attrs = getCoreProps(props);\n\n  if (props.start !== null && props.start !== 1 && props.start !== undefined) {\n    attrs.start = props.start.toString();\n  }\n\n  return createElement(props.ordered ? 'ol' : 'ul', attrs, props.children);\n}\n\nfunction ListItem(props) {\n  var checkbox = null;\n\n  if (props.checked !== null && props.checked !== undefined) {\n    var checked = props.checked;\n    checkbox = createElement('input', {\n      type: 'checkbox',\n      checked: checked,\n      readOnly: true\n    });\n  }\n\n  return createElement('li', getCoreProps(props), checkbox, props.children);\n}\n\nfunction CodeBlock(props) {\n  var className = props.language && \"language-\".concat(props.language);\n  var code = createElement('code', className ? {\n    className: className\n  } : null, props.value);\n  return createElement('pre', getCoreProps(props), code);\n}\n\nfunction InlineCode(props) {\n  return createElement('code', getCoreProps(props), props.children);\n}\n\nfunction Html(props) {\n  if (props.skipHtml) {\n    return null;\n  }\n\n  var dangerous = props.allowDangerousHtml || props.escapeHtml === false;\n  var tag = props.isBlock ? 'div' : 'span';\n\n  if (!dangerous) {\n    /* istanbul ignore next - `tag` is a fallback for old React. */\n    return createElement(React.Fragment || tag, null, props.value);\n  }\n\n  var nodeProps = {\n    dangerouslySetInnerHTML: {\n      __html: props.value\n    }\n  };\n  return createElement(tag, nodeProps);\n}\n\nfunction ParsedHtml(props) {\n  /* To do: `React.cloneElement` is slow, is it really needed? */\n  return props['data-sourcepos'] ? React.cloneElement(props.element, {\n    'data-sourcepos': props['data-sourcepos']\n  }) : props.element;\n}\n\nfunction VirtualHtml(props) {\n  return createElement(props.tag, getCoreProps(props), props.children);\n}\n\nfunction NullRenderer() {\n  return null;\n}\n\nfunction getCoreProps(props) {\n  var source = props['data-sourcepos'];\n  /* istanbul ignore next - nodes from plugins w/o position */\n\n  return source ? {\n    'data-sourcepos': source\n  } : {};\n}","\"use strict\";\n\nvar HtmlParser = '__RMD_HTML_PARSER__';\n/* istanbul ignore next - Fallback for `Symbol`. */\n\nexports.HtmlParser = typeof Symbol === 'undefined' ? HtmlParser : Symbol(HtmlParser);","module.exports = require('./syntax')\n","var combine = require('micromark/dist/util/combine-extensions')\nvar autolink = require('micromark-extension-gfm-autolink-literal')\nvar strikethrough = require('micromark-extension-gfm-strikethrough')\nvar table = require('micromark-extension-gfm-table')\nvar tasklist = require('micromark-extension-gfm-task-list-item')\n\nmodule.exports = create\n\nfunction create(options) {\n  return combine([autolink, strikethrough(options), table, tasklist])\n}\n","module.exports = require('./syntax')\n","var asciiAlpha = require('micromark/dist/character/ascii-alpha')\nvar asciiAlphanumeric = require('micromark/dist/character/ascii-alphanumeric')\nvar asciiControl = require('micromark/dist/character/ascii-control')\nvar markdownLineEnding = require('micromark/dist/character/markdown-line-ending')\nvar unicodePunctuation = require('micromark/dist/character/unicode-punctuation')\nvar unicodeWhitespace = require('micromark/dist/character/unicode-whitespace')\n\nvar www = {tokenize: tokenizeWww, partial: true}\nvar domain = {tokenize: tokenizeDomain, partial: true}\nvar path = {tokenize: tokenizePath, partial: true}\nvar punctuation = {tokenize: tokenizePunctuation, partial: true}\nvar namedCharacterReference = {\n  tokenize: tokenizeNamedCharacterReference,\n  partial: true\n}\n\nvar wwwAutolink = {tokenize: tokenizeWwwAutolink, previous: previousWww}\nvar httpAutolink = {tokenize: tokenizeHttpAutolink, previous: previousHttp}\nvar emailAutolink = {tokenize: tokenizeEmailAutolink, previous: previousEmail}\n\nvar text = {}\n\n// Export hooked constructs.\nexports.text = text\n\n// `0`\nvar code = 48\n\n// While the code is smaller than `{`.\nwhile (code < 123) {\n  text[code] = emailAutolink\n  code++\n  // Jump from `:` -> `A`\n  if (code === 58) code = 65\n  // Jump from `[` -> `a`\n  else if (code === 91) code = 97\n}\n\n// `+`\ntext[43] = emailAutolink\n// `-`\ntext[45] = emailAutolink\n// `.`\ntext[46] = emailAutolink\n// `_`\ntext[95] = emailAutolink\n// `h`.\ntext[72] = [emailAutolink, httpAutolink]\ntext[104] = [emailAutolink, httpAutolink]\n// `w`.\ntext[87] = [emailAutolink, wwwAutolink]\ntext[119] = [emailAutolink, wwwAutolink]\n\nfunction tokenizeEmailAutolink(effects, ok, nok) {\n  var self = this\n  var hasDot\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      !gfmAtext(code) ||\n      !previousEmail(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkEmail')\n    return atext(code)\n  }\n\n  function atext(code) {\n    if (gfmAtext(code)) {\n      effects.consume(code)\n      return atext\n    }\n\n    // `@`\n    if (code === 64) {\n      effects.consume(code)\n      return label\n    }\n\n    return nok(code)\n  }\n\n  function label(code) {\n    // `.`\n    if (code === 46) {\n      return effects.check(punctuation, done, dotContinuation)(code)\n    }\n\n    if (\n      // `-`\n      code === 45 ||\n      // `_`\n      code === 95\n    ) {\n      return effects.check(punctuation, nok, dashOrUnderscoreContinuation)(code)\n    }\n\n    if (asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return label\n    }\n\n    return done(code)\n  }\n\n  function dotContinuation(code) {\n    effects.consume(code)\n    hasDot = true\n    return label\n  }\n\n  function dashOrUnderscoreContinuation(code) {\n    effects.consume(code)\n    return afterDashOrUnderscore\n  }\n\n  function afterDashOrUnderscore(code) {\n    // `.`\n    if (code === 46) {\n      return effects.check(punctuation, nok, dotContinuation)(code)\n    }\n\n    return label(code)\n  }\n\n  function done(code) {\n    if (hasDot) {\n      effects.exit('literalAutolinkEmail')\n      effects.exit('literalAutolink')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeWwwAutolink(effects, ok, nok) {\n  var self = this\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      (code !== 87 && code - 32 !== 87) ||\n      !previousWww(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkWww')\n    // For `www.` we check instead of attempt, because when it matches, GH\n    // treats it as part of a domain (yes, it says a valid domain must come\n    // after `www.`, but thats not how its implemented by them).\n    return effects.check(\n      www,\n      effects.attempt(domain, effects.attempt(path, done), nok),\n      nok\n    )(code)\n  }\n\n  function done(code) {\n    effects.exit('literalAutolinkWww')\n    effects.exit('literalAutolink')\n    return ok(code)\n  }\n}\n\nfunction tokenizeHttpAutolink(effects, ok, nok) {\n  var self = this\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      (code !== 72 && code - 32 !== 72) ||\n      !previousHttp(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkHttp')\n    effects.consume(code)\n    return t1\n  }\n\n  function t1(code) {\n    // `t`\n    if (code === 84 || code - 32 === 84) {\n      effects.consume(code)\n      return t2\n    }\n\n    return nok(code)\n  }\n\n  function t2(code) {\n    // `t`\n    if (code === 84 || code - 32 === 84) {\n      effects.consume(code)\n      return p\n    }\n\n    return nok(code)\n  }\n\n  function p(code) {\n    // `p`\n    if (code === 80 || code - 32 === 80) {\n      effects.consume(code)\n      return s\n    }\n\n    return nok(code)\n  }\n\n  function s(code) {\n    // `s`\n    if (code === 83 || code - 32 === 83) {\n      effects.consume(code)\n      return colon\n    }\n\n    return colon(code)\n  }\n\n  function colon(code) {\n    // `:`\n    if (code === 58) {\n      effects.consume(code)\n      return slash1\n    }\n\n    return nok(code)\n  }\n\n  function slash1(code) {\n    // `/`\n    if (code === 47) {\n      effects.consume(code)\n      return slash2\n    }\n\n    return nok(code)\n  }\n\n  function slash2(code) {\n    // `/`\n    if (code === 47) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return asciiControl(code) ||\n      unicodeWhitespace(code) ||\n      unicodePunctuation(code)\n      ? nok(code)\n      : effects.attempt(domain, effects.attempt(path, done), nok)(code)\n  }\n\n  function done(code) {\n    effects.exit('literalAutolinkHttp')\n    effects.exit('literalAutolink')\n    return ok(code)\n  }\n}\n\nfunction tokenizeWww(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Assume a `w`.\n    effects.consume(code)\n    return w2\n  }\n\n  function w2(code) {\n    // `w`\n    if (code === 87 || code - 32 === 87) {\n      effects.consume(code)\n      return w3\n    }\n\n    return nok(code)\n  }\n\n  function w3(code) {\n    // `w`\n    if (code === 87 || code - 32 === 87) {\n      effects.consume(code)\n      return dot\n    }\n\n    return nok(code)\n  }\n\n  function dot(code) {\n    // `.`\n    if (code === 46) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return code === null || markdownLineEnding(code) ? nok(code) : ok(code)\n  }\n}\n\nfunction tokenizeDomain(effects, ok, nok) {\n  var hasUnderscoreInLastSegment\n  var hasUnderscoreInLastLastSegment\n\n  return domain\n\n  function domain(code) {\n    // `&`\n    if (code === 38) {\n      return effects.check(\n        namedCharacterReference,\n        done,\n        punctuationContinuation\n      )(code)\n    }\n\n    if (code === 46 /* `.` */ || code === 95 /* `_` */) {\n      return effects.check(punctuation, done, punctuationContinuation)(code)\n    }\n\n    // GH documents that only alphanumerics (other than `-`, `.`, and `_`) can\n    // occur, which sounds like ASCII only, but they also support `www..com`,\n    // so thats Unicode.\n    // Instead of some new production for Unicode alphanumerics, markdown\n    // already has that for Unicode punctuation and whitespace, so use those.\n    if (\n      asciiControl(code) ||\n      unicodeWhitespace(code) ||\n      (code !== 45 /* `-` */ && unicodePunctuation(code))\n    ) {\n      return done(code)\n    }\n\n    effects.consume(code)\n    return domain\n  }\n\n  function punctuationContinuation(code) {\n    // `.`\n    if (code === 46) {\n      hasUnderscoreInLastLastSegment = hasUnderscoreInLastSegment\n      hasUnderscoreInLastSegment = undefined\n      effects.consume(code)\n      return domain\n    }\n\n    // `_`\n    if (code === 95) hasUnderscoreInLastSegment = true\n\n    effects.consume(code)\n    return domain\n  }\n\n  function done(code) {\n    if (!hasUnderscoreInLastLastSegment && !hasUnderscoreInLastSegment) {\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizePath(effects, ok) {\n  var balance = 0\n\n  return inPath\n\n  function inPath(code) {\n    // `&`\n    if (code === 38) {\n      return effects.check(\n        namedCharacterReference,\n        ok,\n        continuedPunctuation\n      )(code)\n    }\n\n    // `(`\n    if (code === 40) {\n      balance++\n    }\n\n    // `)`\n    if (code === 41) {\n      return effects.check(\n        punctuation,\n        parenAtPathEnd,\n        continuedPunctuation\n      )(code)\n    }\n\n    if (pathEnd(code)) {\n      return ok(code)\n    }\n\n    if (trailingPunctuation(code)) {\n      return effects.check(punctuation, ok, continuedPunctuation)(code)\n    }\n\n    effects.consume(code)\n    return inPath\n  }\n\n  function continuedPunctuation(code) {\n    effects.consume(code)\n    return inPath\n  }\n\n  function parenAtPathEnd(code) {\n    balance--\n    return balance < 0 ? ok(code) : continuedPunctuation(code)\n  }\n}\n\nfunction tokenizeNamedCharacterReference(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Assume an ampersand.\n    effects.consume(code)\n    return inside\n  }\n\n  function inside(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return inside\n    }\n\n    // `;`\n    if (code === 59) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    // If the named character reference is followed by the end of the path, its\n    // not continued punctuation.\n    return pathEnd(code) ? ok(code) : nok(code)\n  }\n}\n\nfunction tokenizePunctuation(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Always a valid trailing punctuation marker.\n    effects.consume(code)\n    return after\n  }\n\n  function after(code) {\n    // Check the next.\n    if (trailingPunctuation(code)) {\n      effects.consume(code)\n      return after\n    }\n\n    // If the punctuation marker is followed by the end of the path, its not\n    // continued punctuation.\n    return pathEnd(code) ? ok(code) : nok(code)\n  }\n}\n\nfunction trailingPunctuation(code) {\n  return (\n    // `!`\n    code === 33 ||\n    // `\"`\n    code === 34 ||\n    // `'`\n    code === 39 ||\n    // `)`\n    code === 41 ||\n    // `*`\n    code === 42 ||\n    // `,`\n    code === 44 ||\n    // `.`\n    code === 46 ||\n    // `:`\n    code === 58 ||\n    // `;`\n    code === 59 ||\n    // `<`\n    code === 60 ||\n    // `?`\n    code === 63 ||\n    // `_`.\n    code === 95 ||\n    // `~`\n    code === 126\n  )\n}\n\nfunction pathEnd(code) {\n  return (\n    // EOF.\n    code === null ||\n    // CR, LF, CRLF, HT, VS.\n    code < 0 ||\n    // Space.\n    code === 32 ||\n    // `<`\n    code === 60\n  )\n}\n\nfunction gfmAtext(code) {\n  return (\n    code === 43 /* `+` */ ||\n    code === 45 /* `-` */ ||\n    code === 46 /* `.` */ ||\n    code === 95 /* `_` */ ||\n    asciiAlphanumeric(code)\n  )\n}\n\nfunction previousWww(code) {\n  return (\n    code === null ||\n    code < 0 ||\n    code === 32 /* ` ` */ ||\n    code === 40 /* `(` */ ||\n    code === 42 /* `*` */ ||\n    code === 95 /* `_` */ ||\n    code === 126 /* `~` */\n  )\n}\n\nfunction previousHttp(code) {\n  return code === null || !asciiAlpha(code)\n}\n\nfunction previousEmail(code) {\n  return code !== 47 /* `/` */ && previousHttp(code)\n}\n\nfunction previous(events) {\n  var index = events.length\n\n  while (index--) {\n    if (\n      (events[index][1].type === 'labelLink' ||\n        events[index][1].type === 'labelImage') &&\n      !events[index][1]._balanced\n    ) {\n      return true\n    }\n  }\n}\n","module.exports = create\n\nvar classifyCharacter = require('micromark/dist/util/classify-character')\nvar chunkedSplice = require('micromark/dist/util/chunked-splice')\nvar resolveAll = require('micromark/dist/util/resolve-all')\nvar shallow = require('micromark/dist/util/shallow')\n\nfunction create(options) {\n  var settings = options || {}\n  var single = settings.singleTilde\n  var tokenizer = {\n    tokenize: tokenizeStrikethrough,\n    resolveAll: resolveAllStrikethrough\n  }\n\n  if (single === null || single === undefined) {\n    single = true\n  }\n\n  return {text: {126: tokenizer}, insideSpan: {null: tokenizer}}\n\n  // Take events and resolve strikethrough.\n  function resolveAllStrikethrough(events, context) {\n    var index = -1\n    var strikethrough\n    var text\n    var open\n    var nextEvents\n\n    // Walk through all events.\n    while (++index < events.length) {\n      // Find a token that can close.\n      if (\n        events[index][0] === 'enter' &&\n        events[index][1].type === 'strikethroughSequenceTemporary' &&\n        events[index][1]._close\n      ) {\n        open = index\n\n        // Now walk back to find an opener.\n        while (open--) {\n          // Find a token that can open the closer.\n          if (\n            events[open][0] === 'exit' &&\n            events[open][1].type === 'strikethroughSequenceTemporary' &&\n            events[open][1]._open &&\n            // If the sizes are the same:\n            events[index][1].end.offset - events[index][1].start.offset ===\n              events[open][1].end.offset - events[open][1].start.offset\n          ) {\n            events[index][1].type = 'strikethroughSequence'\n            events[open][1].type = 'strikethroughSequence'\n\n            strikethrough = {\n              type: 'strikethrough',\n              start: shallow(events[open][1].start),\n              end: shallow(events[index][1].end)\n            }\n\n            text = {\n              type: 'strikethroughText',\n              start: shallow(events[open][1].end),\n              end: shallow(events[index][1].start)\n            }\n\n            // Opening.\n            nextEvents = [\n              ['enter', strikethrough, context],\n              ['enter', events[open][1], context],\n              ['exit', events[open][1], context],\n              ['enter', text, context]\n            ]\n\n            // Between.\n            chunkedSplice(\n              nextEvents,\n              nextEvents.length,\n              0,\n              resolveAll(\n                context.parser.constructs.insideSpan.null,\n                events.slice(open + 1, index),\n                context\n              )\n            )\n\n            // Closing.\n            chunkedSplice(nextEvents, nextEvents.length, 0, [\n              ['exit', text, context],\n              ['enter', events[index][1], context],\n              ['exit', events[index][1], context],\n              ['exit', strikethrough, context]\n            ])\n\n            chunkedSplice(events, open - 1, index - open + 3, nextEvents)\n\n            index = open + nextEvents.length - 2\n            break\n          }\n        }\n      }\n    }\n\n    return removeRemainingSequences(events)\n  }\n\n  function removeRemainingSequences(events) {\n    var index = -1\n    var length = events.length\n\n    while (++index < length) {\n      if (events[index][1].type === 'strikethroughSequenceTemporary') {\n        events[index][1].type = 'data'\n      }\n    }\n\n    return events\n  }\n\n  function tokenizeStrikethrough(effects, ok, nok) {\n    var previous = this.previous\n    var events = this.events\n    var size = 0\n\n    return start\n\n    function start(code) {\n      if (\n        code !== 126 ||\n        (previous === 126 &&\n          events[events.length - 1][1].type !== 'characterEscape')\n      ) {\n        return nok(code)\n      }\n\n      effects.enter('strikethroughSequenceTemporary')\n      return more(code)\n    }\n\n    function more(code) {\n      var before = classifyCharacter(previous)\n      var token\n      var after\n\n      if (code === 126) {\n        // If this is the third marker, exit.\n        if (size > 1) return nok(code)\n        effects.consume(code)\n        size++\n        return more\n      }\n\n      if (size < 2 && !single) return nok(code)\n      token = effects.exit('strikethroughSequenceTemporary')\n      after = classifyCharacter(code)\n      token._open = !after || (after === 2 && before)\n      token._close = !before || (before === 2 && after)\n      return ok(code)\n    }\n  }\n}\n","module.exports = require('./syntax')\n","exports.flow = {\n  null: {tokenize: tokenizeTable, resolve: resolveTable, interruptible: true}\n}\n\nvar createSpace = require('micromark/dist/tokenize/factory-space')\n\nvar setextUnderlineMini = {tokenize: tokenizeSetextUnderlineMini, partial: true}\nvar nextPrefixedOrBlank = {tokenize: tokenizeNextPrefixedOrBlank, partial: true}\n\nfunction resolveTable(events, context) {\n  var length = events.length\n  var index = -1\n  var token\n  var inHead\n  var inDelimiterRow\n  var inRow\n  var cell\n  var content\n  var text\n  var contentStart\n  var contentEnd\n  var cellStart\n\n  while (++index < length) {\n    token = events[index][1]\n\n    if (inRow) {\n      if (token.type === 'temporaryTableCellContent') {\n        contentStart = contentStart || index\n        contentEnd = index\n      }\n\n      if (\n        // Combine separate content parts into one.\n        (token.type === 'tableCellDivider' || token.type === 'tableRow') &&\n        contentEnd\n      ) {\n        content = {\n          type: 'tableContent',\n          start: events[contentStart][1].start,\n          end: events[contentEnd][1].end\n        }\n        text = {\n          type: 'chunkText',\n          start: content.start,\n          end: content.end,\n          contentType: 'text'\n        }\n\n        events.splice(\n          contentStart,\n          contentEnd - contentStart + 1,\n          ['enter', content, context],\n          ['enter', text, context],\n          ['exit', text, context],\n          ['exit', content, context]\n        )\n        index -= contentEnd - contentStart - 3\n        length = events.length\n        contentStart = undefined\n        contentEnd = undefined\n      }\n    }\n\n    if (\n      events[index][0] === 'exit' &&\n      cellStart &&\n      cellStart + 1 < index &&\n      (token.type === 'tableCellDivider' ||\n        (token.type === 'tableRow' &&\n          (cellStart + 3 < index ||\n            events[cellStart][1].type !== 'whitespace')))\n    ) {\n      cell = {\n        type: inDelimiterRow\n          ? 'tableDelimiter'\n          : inHead\n          ? 'tableHeader'\n          : 'tableData',\n        start: events[cellStart][1].start,\n        end: events[index][1].end\n      }\n      events.splice(index + (token.type === 'tableCellDivider' ? 1 : 0), 0, [\n        'exit',\n        cell,\n        context\n      ])\n      events.splice(cellStart, 0, ['enter', cell, context])\n      index += 2\n      length = events.length\n      cellStart = index + 1\n    }\n\n    if (token.type === 'tableRow') {\n      inRow = events[index][0] === 'enter'\n\n      if (inRow) {\n        cellStart = index + 1\n      }\n    }\n\n    if (token.type === 'tableDelimiterRow') {\n      inDelimiterRow = events[index][0] === 'enter'\n\n      if (inDelimiterRow) {\n        cellStart = index + 1\n      }\n    }\n\n    if (token.type === 'tableHead') {\n      inHead = events[index][0] === 'enter'\n    }\n  }\n\n  return events\n}\n\nfunction tokenizeTable(effects, ok, nok) {\n  var align = []\n  var tableHeaderCount = 0\n  var seenDelimiter\n  var hasDash\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore if - used to be passed in beta micromark versions. */\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return nok(code)\n    }\n\n    effects.enter('table')._align = align\n    effects.enter('tableHead')\n    effects.enter('tableRow')\n\n    // If we start with a pipe, we open a cell marker.\n    if (code === 124) {\n      return cellDividerHead(code)\n    }\n\n    tableHeaderCount++\n    effects.enter('temporaryTableCellContent')\n    // Cant be space or eols at the start of a construct, so were in a cell.\n    return inCellContentHead(code)\n  }\n\n  function cellDividerHead(code) {\n    // Always a pipe.\n    effects.enter('tableCellDivider')\n    effects.consume(code)\n    effects.exit('tableCellDivider')\n    seenDelimiter = true\n    return cellBreakHead\n  }\n\n  function cellBreakHead(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return atRowEndHead(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceHead\n    }\n\n    if (seenDelimiter) {\n      seenDelimiter = undefined\n      tableHeaderCount++\n    }\n\n    // `|`\n    if (code === 124) {\n      return cellDividerHead(code)\n    }\n\n    // Anything else is cell content.\n    effects.enter('temporaryTableCellContent')\n    return inCellContentHead(code)\n  }\n\n  function inWhitespaceHead(code) {\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return inWhitespaceHead\n    }\n\n    effects.exit('whitespace')\n    return cellBreakHead(code)\n  }\n\n  function inCellContentHead(code) {\n    // EOF, whitespace, pipe\n    if (code === null || code < 0 || code === 32 || code === 124) {\n      effects.exit('temporaryTableCellContent')\n      return cellBreakHead(code)\n    }\n\n    effects.consume(code)\n    // `\\`\n    return code === 92 ? inCellContentEscapeHead : inCellContentHead\n  }\n\n  function inCellContentEscapeHead(code) {\n    // `\\` or `|`\n    if (code === 92 || code === 124) {\n      effects.consume(code)\n      return inCellContentHead\n    }\n\n    // Anything else.\n    return inCellContentHead(code)\n  }\n\n  function atRowEndHead(code) {\n    if (code === null) {\n      return nok(code)\n    }\n\n    effects.exit('tableRow')\n    effects.exit('tableHead')\n\n    // Always a line ending.\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n\n    // If a setext heading, exit.\n    return effects.check(\n      setextUnderlineMini,\n      nok,\n      // Support an indent before the delimiter row.\n      createSpace(effects, rowStartDelimiter, 'linePrefix', 4)\n    )\n  }\n\n  function rowStartDelimiter(code) {\n    // If theres another space, or were at the EOL/EOF, exit.\n    if (code === null || code < 0 || code === 32) {\n      return nok(code)\n    }\n\n    effects.enter('tableDelimiterRow')\n    return atDelimiterRowBreak(code)\n  }\n\n  function atDelimiterRowBreak(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return rowEndDelimiter(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceDelimiter\n    }\n\n    // `-`\n    if (code === 45) {\n      effects.enter('tableDelimiterFiller')\n      effects.consume(code)\n      hasDash = true\n      align.push(null)\n      return inFillerDelimiter\n    }\n\n    // `:`\n    if (code === 58) {\n      effects.enter('tableDelimiterAlignment')\n      effects.consume(code)\n      effects.exit('tableDelimiterAlignment')\n      align.push('left')\n      return afterLeftAlignment\n    }\n\n    // If we start with a pipe, we open a cell marker.\n    if (code === 124) {\n      effects.enter('tableCellDivider')\n      effects.consume(code)\n      effects.exit('tableCellDivider')\n      return atDelimiterRowBreak\n    }\n\n    return nok(code)\n  }\n\n  function inWhitespaceDelimiter(code) {\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return inWhitespaceDelimiter\n    }\n\n    effects.exit('whitespace')\n    return atDelimiterRowBreak(code)\n  }\n\n  function inFillerDelimiter(code) {\n    // `-`\n    if (code === 45) {\n      effects.consume(code)\n      return inFillerDelimiter\n    }\n\n    effects.exit('tableDelimiterFiller')\n\n    // `:`\n    if (code === 58) {\n      effects.enter('tableDelimiterAlignment')\n      effects.consume(code)\n      effects.exit('tableDelimiterAlignment')\n\n      align[align.length - 1] =\n        align[align.length - 1] === 'left' ? 'center' : 'right'\n\n      return afterRightAlignment\n    }\n\n    return atDelimiterRowBreak(code)\n  }\n\n  function afterLeftAlignment(code) {\n    // `-`\n    if (code === 45) {\n      effects.enter('tableDelimiterFiller')\n      effects.consume(code)\n      hasDash = true\n      return inFillerDelimiter\n    }\n\n    // Anything else is not ok.\n    return nok(code)\n  }\n\n  function afterRightAlignment(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return rowEndDelimiter(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceDelimiter\n    }\n\n    // `|`\n    if (code === 124) {\n      effects.enter('tableCellDivider')\n      effects.consume(code)\n      effects.exit('tableCellDivider')\n      return atDelimiterRowBreak\n    }\n\n    return nok(code)\n  }\n\n  function rowEndDelimiter(code) {\n    effects.exit('tableDelimiterRow')\n\n    // Exit if there was no dash at all, or if the header cell count is not the\n    // delimiter cell count.\n    if (!hasDash || tableHeaderCount !== align.length) {\n      return nok(code)\n    }\n\n    if (code === null) {\n      return tableClose(code)\n    }\n\n    return effects.check(nextPrefixedOrBlank, tableClose, tableContinue)(code)\n  }\n\n  function tableClose(code) {\n    effects.exit('table')\n    return ok(code)\n  }\n\n  function tableContinue(code) {\n    // Always a line ending.\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    // We checked that its not a prefixed or blank line, so were certain a\n    // body is coming, though it may be indented.\n    return createSpace(effects, bodyStart, 'linePrefix', 4)\n  }\n\n  function bodyStart(code) {\n    effects.enter('tableBody')\n    return rowStartBody(code)\n  }\n\n  function rowStartBody(code) {\n    effects.enter('tableRow')\n\n    // If we start with a pipe, we open a cell marker.\n    if (code === 124) {\n      return cellDividerBody(code)\n    }\n\n    effects.enter('temporaryTableCellContent')\n    // Cant be space or eols at the start of a construct, so were in a cell.\n    return inCellContentBody(code)\n  }\n\n  function cellDividerBody(code) {\n    // Always a pipe.\n    effects.enter('tableCellDivider')\n    effects.consume(code)\n    effects.exit('tableCellDivider')\n    return cellBreakBody\n  }\n\n  function cellBreakBody(code) {\n    // EOF, CR, LF, CRLF.\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return atRowEndBody(code)\n    }\n\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.enter('whitespace')\n      effects.consume(code)\n      return inWhitespaceBody\n    }\n\n    // `|`\n    if (code === 124) {\n      return cellDividerBody(code)\n    }\n\n    // Anything else is cell content.\n    effects.enter('temporaryTableCellContent')\n    return inCellContentBody(code)\n  }\n\n  function inWhitespaceBody(code) {\n    // HT, VS, SP.\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return inWhitespaceBody\n    }\n\n    effects.exit('whitespace')\n    return cellBreakBody(code)\n  }\n\n  function inCellContentBody(code) {\n    // EOF, whitespace, pipe\n    if (code === null || code < 0 || code === 32 || code === 124) {\n      effects.exit('temporaryTableCellContent')\n      return cellBreakBody(code)\n    }\n\n    effects.consume(code)\n    // `\\`\n    return code === 92 ? inCellContentEscapeBody : inCellContentBody\n  }\n\n  function inCellContentEscapeBody(code) {\n    // `\\` or `|`\n    if (code === 92 || code === 124) {\n      effects.consume(code)\n      return inCellContentBody\n    }\n\n    // Anything else.\n    return inCellContentBody(code)\n  }\n\n  function atRowEndBody(code) {\n    effects.exit('tableRow')\n\n    if (code === null) {\n      return tableBodyClose(code)\n    }\n\n    return effects.check(\n      nextPrefixedOrBlank,\n      tableBodyClose,\n      tableBodyContinue\n    )(code)\n  }\n\n  function tableBodyClose(code) {\n    effects.exit('tableBody')\n    return tableClose(code)\n  }\n\n  function tableBodyContinue(code) {\n    // Always a line ending.\n    effects.enter('lineEnding')\n    effects.consume(code)\n    effects.exit('lineEnding')\n    // Support an optional prefix, then start a body row.\n    return createSpace(effects, rowStartBody, 'linePrefix', 4)\n  }\n}\n\n// Based on micromark, but that wont work as were in a table, and that expects\n// content.\n// <https://github.com/micromark/micromark/blob/main/lib/tokenize/setext-underline.js>\nfunction tokenizeSetextUnderlineMini(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // `-`\n    if (code !== 45) {\n      return nok(code)\n    }\n\n    effects.enter('setextUnderline')\n    return sequence(code)\n  }\n\n  function sequence(code) {\n    if (code === 45) {\n      effects.consume(code)\n      return sequence\n    }\n\n    return whitespace(code)\n  }\n\n  function whitespace(code) {\n    if (code === -2 || code === -1 || code === 32) {\n      effects.consume(code)\n      return whitespace\n    }\n\n    if (code === null || code === -5 || code === -4 || code === -3) {\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeNextPrefixedOrBlank(effects, ok, nok) {\n  var size = 0\n\n  return start\n\n  function start(code) {\n    // This is a check, so we dont care about tokens, but we open a bogus one\n    // so were valid.\n    effects.enter('check')\n    // EOL.\n    effects.consume(code)\n    return whitespace\n  }\n\n  function whitespace(code) {\n    // VS or SP.\n    if (code === -1 || code === 32) {\n      effects.consume(code)\n      size++\n      return size === 4 ? ok : whitespace\n    }\n\n    // EOF or whitespace\n    if (code === null || code < 0) {\n      return ok(code)\n    }\n\n    // Anything else.\n    return nok(code)\n  }\n}\n","module.exports = require('./syntax')\n","var markdownLineEndingOrSpace = require('micromark/dist/character/markdown-line-ending-or-space')\nvar spaceFactory = require('micromark/dist/tokenize/factory-space')\nvar prefixSize = require('micromark/dist/util/prefix-size')\n\nvar tasklistCheck = {tokenize: tokenizeTasklistCheck}\n\nexports.text = {91: tasklistCheck}\n\nfunction tokenizeTasklistCheck(effects, ok, nok) {\n  var self = this\n\n  return open\n\n  function open(code) {\n    if (\n      // Exit if not `[`.\n      code !== 91 ||\n      // Exit if theres stuff before.\n      self.previous !== null ||\n      // Exit if not in the first content that is the first child of a list\n      // item.\n      !self._gfmTasklistFirstContentOfListItem\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('taskListCheck')\n    effects.enter('taskListCheckMarker')\n    effects.consume(code)\n    effects.exit('taskListCheckMarker')\n    return inside\n  }\n\n  function inside(code) {\n    // Tab or space.\n    if (code === -2 || code === 32) {\n      effects.enter('taskListCheckValueUnchecked')\n      effects.consume(code)\n      effects.exit('taskListCheckValueUnchecked')\n      return close\n    }\n\n    // Upper- and lower `x`.\n    if (code === 88 || code === 120) {\n      effects.enter('taskListCheckValueChecked')\n      effects.consume(code)\n      effects.exit('taskListCheckValueChecked')\n      return close\n    }\n\n    return nok(code)\n  }\n\n  function close(code) {\n    // `]`\n    if (code === 93) {\n      effects.enter('taskListCheckMarker')\n      effects.consume(code)\n      effects.exit('taskListCheckMarker')\n      effects.exit('taskListCheck')\n      return effects.check({tokenize: spaceThenNonSpace}, ok, nok)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction spaceThenNonSpace(effects, ok, nok) {\n  var self = this\n\n  return spaceFactory(effects, after, 'whitespace')\n\n  function after(code) {\n    return prefixSize(self.events, 'whitespace') &&\n      code !== null &&\n      !markdownLineEndingOrSpace(code)\n      ? ok(code)\n      : nok(code)\n  }\n}\n","var autolinkLiteral = require('mdast-util-gfm-autolink-literal/from-markdown')\nvar strikethrough = require('mdast-util-gfm-strikethrough/from-markdown')\nvar table = require('mdast-util-gfm-table/from-markdown')\nvar taskListItem = require('mdast-util-gfm-task-list-item/from-markdown')\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = configure([\n  autolinkLiteral,\n  strikethrough,\n  table,\n  taskListItem\n])\n\nfunction configure(extensions) {\n  var config = {transforms: [], canContainEols: []}\n  var length = extensions.length\n  var index = -1\n\n  while (++index < length) {\n    extension(config, extensions[index])\n  }\n\n  return config\n}\n\nfunction extension(config, extension) {\n  var key\n  var left\n  var right\n\n  for (key in extension) {\n    left = own.call(config, key) ? config[key] : (config[key] = {})\n    right = extension[key]\n\n    if (key === 'canContainEols' || key === 'transforms') {\n      config[key] = [].concat(left, right)\n    } else {\n      Object.assign(left, right)\n    }\n  }\n}\n","var ccount = require('ccount')\nvar findAndReplace = require('mdast-util-find-and-replace')\nvar unicodePunctuation = require('micromark/dist/character/unicode-punctuation')\nvar unicodeWhitespace = require('micromark/dist/character/unicode-whitespace')\n\nexports.transforms = [transformGfmAutolinkLiterals]\nexports.enter = {\n  literalAutolink: enterLiteralAutolink,\n  literalAutolinkEmail: enterLiteralAutolinkValue,\n  literalAutolinkHttp: enterLiteralAutolinkValue,\n  literalAutolinkWww: enterLiteralAutolinkValue\n}\nexports.exit = {\n  literalAutolink: exitLiteralAutolink,\n  literalAutolinkEmail: exitLiteralAutolinkEmail,\n  literalAutolinkHttp: exitLiteralAutolinkHttp,\n  literalAutolinkWww: exitLiteralAutolinkWww\n}\n\nfunction enterLiteralAutolink(token) {\n  this.enter({type: 'link', title: null, url: '', children: []}, token)\n}\n\nfunction enterLiteralAutolinkValue(token) {\n  this.config.enter.autolinkProtocol.call(this, token)\n}\n\nfunction exitLiteralAutolinkHttp(token) {\n  this.config.exit.autolinkProtocol.call(this, token)\n}\n\nfunction exitLiteralAutolinkWww(token) {\n  this.config.exit.data.call(this, token)\n  this.stack[this.stack.length - 1].url = 'http://' + this.sliceSerialize(token)\n}\n\nfunction exitLiteralAutolinkEmail(token) {\n  this.config.exit.autolinkEmail.call(this, token)\n}\n\nfunction exitLiteralAutolink(token) {\n  this.exit(token)\n}\n\nfunction transformGfmAutolinkLiterals(tree) {\n  findAndReplace(\n    tree,\n    [\n      [/(https?:\\/\\/|www(?=\\.))([-.\\w]+)([^ \\t\\r\\n]*)/i, findUrl],\n      [/([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)/, findEmail]\n    ],\n    {ignore: ['link', 'linkReference']}\n  )\n}\n\nfunction findUrl($0, protocol, domain, path, match) {\n  var prefix = ''\n  var parts\n  var result\n\n  // Not an expected previous character.\n  if (!previous(match)) {\n    return false\n  }\n\n  // Treat `www` as part of the domain.\n  if (/^w/i.test(protocol)) {\n    domain = protocol + domain\n    protocol = ''\n    prefix = 'http://'\n  }\n\n  if (!isCorrectDomain(domain)) {\n    return false\n  }\n\n  parts = splitUrl(domain + path)\n\n  if (!parts[0]) return false\n\n  result = {\n    type: 'link',\n    title: null,\n    url: prefix + protocol + parts[0],\n    children: [{type: 'text', value: protocol + parts[0]}]\n  }\n\n  if (parts[1]) {\n    result = [result, {type: 'text', value: parts[1]}]\n  }\n\n  return result\n}\n\nfunction findEmail($0, atext, label, match) {\n  // Not an expected previous character.\n  if (!previous(match, true) || /[_-]$/.test(label)) {\n    return false\n  }\n\n  return {\n    type: 'link',\n    title: null,\n    url: 'mailto:' + atext + '@' + label,\n    children: [{type: 'text', value: atext + '@' + label}]\n  }\n}\n\nfunction isCorrectDomain(domain) {\n  var parts = domain.split('.')\n\n  if (\n    parts.length < 2 ||\n    (parts[parts.length - 1] &&\n      (/_/.test(parts[parts.length - 1]) ||\n        !/[a-zA-Z\\d]/.test(parts[parts.length - 1]))) ||\n    (parts[parts.length - 2] &&\n      (/_/.test(parts[parts.length - 2]) ||\n        !/[a-zA-Z\\d]/.test(parts[parts.length - 2])))\n  ) {\n    return false\n  }\n\n  return true\n}\n\nfunction splitUrl(url) {\n  var trail = /[!\"&'),.:;<>?\\]}]+$/.exec(url)\n  var closingParenIndex\n  var openingParens\n  var closingParens\n\n  if (trail) {\n    url = url.slice(0, trail.index)\n    trail = trail[0]\n    closingParenIndex = trail.indexOf(')')\n    openingParens = ccount(url, '(')\n    closingParens = ccount(url, ')')\n\n    while (closingParenIndex !== -1 && openingParens > closingParens) {\n      url += trail.slice(0, closingParenIndex + 1)\n      trail = trail.slice(closingParenIndex + 1)\n      closingParenIndex = trail.indexOf(')')\n      closingParens++\n    }\n  }\n\n  return [url, trail]\n}\n\nfunction previous(match, email) {\n  var code = match.input.charCodeAt(match.index - 1)\n  return (\n    (code !== code || unicodeWhitespace(code) || unicodePunctuation(code)) &&\n    (!email || code !== 47)\n  )\n}\n","'use strict'\n\nmodule.exports = ccount\n\nfunction ccount(source, character) {\n  var value = String(source)\n  var count = 0\n  var index\n\n  if (typeof character !== 'string') {\n    throw new Error('Expected character')\n  }\n\n  index = value.indexOf(character)\n\n  while (index !== -1) {\n    count++\n    index = value.indexOf(character, index + character.length)\n  }\n\n  return count\n}\n","'use strict'\n\nmodule.exports = findAndReplace\n\nvar visit = require('unist-util-visit-parents')\nvar convert = require('unist-util-is/convert')\nvar escape = require('escape-string-regexp')\n\nvar splice = [].splice\n\nfunction findAndReplace(tree, find, replace, options) {\n  var settings\n  var schema\n\n  if (typeof find === 'string' || (find && typeof find.exec === 'function')) {\n    schema = [[find, replace]]\n  } else {\n    schema = find\n    options = replace\n  }\n\n  settings = options || {}\n\n  search(tree, settings, handlerFactory(toPairs(schema)))\n\n  return tree\n\n  function handlerFactory(pairs) {\n    var pair = pairs[0]\n\n    return handler\n\n    function handler(node, parent) {\n      var find = pair[0]\n      var replace = pair[1]\n      var nodes = []\n      var start = 0\n      var index = parent.children.indexOf(node)\n      var position\n      var match\n      var subhandler\n      var value\n\n      find.lastIndex = 0\n\n      match = find.exec(node.value)\n\n      while (match) {\n        position = match.index\n        value = replace.apply(\n          null,\n          [].concat(match, {index: match.index, input: match.input})\n        )\n\n        if (value !== false) {\n          if (start !== position) {\n            nodes.push({type: 'text', value: node.value.slice(start, position)})\n          }\n\n          if (typeof value === 'string' && value.length > 0) {\n            value = {type: 'text', value: value}\n          }\n\n          if (value) {\n            nodes = [].concat(nodes, value)\n          }\n\n          start = position + match[0].length\n        }\n\n        if (!find.global) {\n          break\n        }\n\n        match = find.exec(node.value)\n      }\n\n      if (position === undefined) {\n        nodes = [node]\n        index--\n      } else {\n        if (start < node.value.length) {\n          nodes.push({type: 'text', value: node.value.slice(start)})\n        }\n\n        nodes.unshift(index, 1)\n        splice.apply(parent.children, nodes)\n      }\n\n      if (pairs.length > 1) {\n        subhandler = handlerFactory(pairs.slice(1))\n        position = -1\n\n        while (++position < nodes.length) {\n          node = nodes[position]\n\n          if (node.type === 'text') {\n            subhandler(node, parent)\n          } else {\n            search(node, settings, subhandler)\n          }\n        }\n      }\n\n      return index + nodes.length + 1\n    }\n  }\n}\n\nfunction search(tree, settings, handler) {\n  var ignored = convert(settings.ignore || [])\n  var result = []\n\n  visit(tree, 'text', visitor)\n\n  return result\n\n  function visitor(node, parents) {\n    var index = -1\n    var parent\n    var grandparent\n\n    while (++index < parents.length) {\n      parent = parents[index]\n\n      if (\n        ignored(\n          parent,\n          grandparent ? grandparent.children.indexOf(parent) : undefined,\n          grandparent\n        )\n      ) {\n        return\n      }\n\n      grandparent = parent\n    }\n\n    return handler(node, grandparent)\n  }\n}\n\nfunction toPairs(schema) {\n  var result = []\n  var key\n  var index\n\n  if (typeof schema !== 'object') {\n    throw new Error('Expected array or object as schema')\n  }\n\n  if ('length' in schema) {\n    index = -1\n\n    while (++index < schema.length) {\n      result.push([\n        toExpression(schema[index][0]),\n        toFunction(schema[index][1])\n      ])\n    }\n  } else {\n    for (key in schema) {\n      result.push([toExpression(key), toFunction(schema[key])])\n    }\n  }\n\n  return result\n}\n\nfunction toExpression(find) {\n  return typeof find === 'string' ? new RegExp(escape(find), 'g') : find\n}\n\nfunction toFunction(replace) {\n  return typeof replace === 'function' ? replace : returner\n\n  function returner() {\n    return replace\n  }\n}\n","'use strict';\n\nmodule.exports = string => {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\t// Escape characters with special meaning either inside or outside character sets.\n\t// Use a simple backslash escape when its always valid, and a \\unnnn escape when the simpler form would be disallowed by Unicode patterns stricter grammar.\n\treturn string\n\t\t.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\n\t\t.replace(/-/g, '\\\\x2d');\n};\n","exports.canContainEols = ['delete']\nexports.enter = {strikethrough: enterStrikethrough}\nexports.exit = {strikethrough: exitStrikethrough}\n\nfunction enterStrikethrough(token) {\n  this.enter({type: 'delete', children: []}, token)\n}\n\nfunction exitStrikethrough(token) {\n  this.exit(token)\n}\n","exports.enter = {\n  table: enterTable,\n  tableData: enterCell,\n  tableHeader: enterCell,\n  tableRow: enterRow\n}\nexports.exit = {\n  codeText: exitCodeText,\n  table: exitTable,\n  tableData: exit,\n  tableHeader: exit,\n  tableRow: exit\n}\n\nfunction enterTable(token) {\n  this.enter({type: 'table', align: token._align, children: []}, token)\n  this.setData('inTable', true)\n}\n\nfunction exitTable(token) {\n  this.exit(token)\n  this.setData('inTable')\n}\n\nfunction enterRow(token) {\n  this.enter({type: 'tableRow', children: []}, token)\n}\n\nfunction exit(token) {\n  this.exit(token)\n}\n\nfunction enterCell(token) {\n  this.enter({type: 'tableCell', children: []}, token)\n}\n\n// Overwrite the default code text data handler to unescape escaped pipes when\n// they are in tables.\nfunction exitCodeText(token) {\n  var value = this.resume()\n\n  if (this.getData('inTable')) {\n    value = value.replace(/\\\\([\\\\|])/g, replace)\n  }\n\n  this.stack[this.stack.length - 1].value = value\n  this.exit(token)\n}\n\nfunction replace($0, $1) {\n  // Pipes work, backslashes dont (but cant escape pipes).\n  return $1 === '|' ? $1 : $0\n}\n","exports.exit = {\n  taskListCheckValueChecked: exitCheck,\n  taskListCheckValueUnchecked: exitCheck,\n  paragraph: exitParagraphWithTaskListItem\n}\n\nfunction exitCheck(token) {\n  // Were always in a paragraph, in a list item.\n  this.stack[this.stack.length - 2].checked =\n    token.type === 'taskListCheckValueChecked'\n}\n\nfunction exitParagraphWithTaskListItem(token) {\n  var parent = this.stack[this.stack.length - 2]\n  var node = this.stack[this.stack.length - 1]\n  var siblings = parent.children\n  var head = node.children[0]\n  var index = -1\n  var firstParaghraph\n\n  if (\n    parent &&\n    parent.type === 'listItem' &&\n    typeof parent.checked === 'boolean' &&\n    head &&\n    head.type === 'text'\n  ) {\n    while (++index < siblings.length) {\n      if (siblings[index].type === 'paragraph') {\n        firstParaghraph = siblings[index]\n        break\n      }\n    }\n\n    if (firstParaghraph === node) {\n      // Must start with a space or a tab.\n      head.value = head.value.slice(1)\n\n      if (head.value.length === 0) {\n        node.children.shift()\n      } else {\n        head.position.start.column++\n        head.position.start.offset++\n        node.position.start = Object.assign({}, head.position.start)\n      }\n    }\n  }\n\n  this.exit(token)\n}\n","var autolinkLiteral = require('mdast-util-gfm-autolink-literal/to-markdown')\nvar strikethrough = require('mdast-util-gfm-strikethrough/to-markdown')\nvar table = require('mdast-util-gfm-table/to-markdown')\nvar taskListItem = require('mdast-util-gfm-task-list-item/to-markdown')\nvar configure = require('mdast-util-to-markdown/lib/configure')\n\nmodule.exports = toMarkdown\n\nfunction toMarkdown(options) {\n  var config = configure(\n    {handlers: {}, join: [], unsafe: [], options: {}},\n    {\n      extensions: [autolinkLiteral, strikethrough, table(options), taskListItem]\n    }\n  )\n\n  return Object.assign(config.options, {\n    handlers: config.handlers,\n    join: config.join,\n    unsafe: config.unsafe\n  })\n}\n","var inConstruct = 'phrasing'\nvar notInConstruct = ['autolink', 'link', 'image', 'label']\n\nexports.unsafe = [\n  {\n    character: '@',\n    before: '[+\\\\-.\\\\w]',\n    after: '[\\\\-.\\\\w]',\n    inConstruct: inConstruct,\n    notInConstruct: notInConstruct\n  },\n  {\n    character: '.',\n    before: '[Ww]',\n    after: '[\\\\-.\\\\w]',\n    inConstruct: inConstruct,\n    notInConstruct: notInConstruct\n  },\n  {\n    character: ':',\n    before: '[ps]',\n    after: '\\\\/',\n    inConstruct: inConstruct,\n    notInConstruct: notInConstruct\n  }\n]\n","var phrasing = require('mdast-util-to-markdown/lib/util/container-phrasing')\n\nexports.unsafe = [{character: '~', inConstruct: 'phrasing'}]\nexports.handlers = {delete: handleDelete}\n\nhandleDelete.peek = peekDelete\n\nfunction handleDelete(node, _, context) {\n  var exit = context.enter('emphasis')\n  var value = phrasing(node, context, {before: '~', after: '~'})\n  exit()\n  return '~~' + value + '~~'\n}\n\nfunction peekDelete() {\n  return '~'\n}\n","var phrasing = require('mdast-util-to-markdown/lib/util/container-phrasing')\nvar defaultInlineCode = require('mdast-util-to-markdown/lib/handle/inline-code')\nvar markdownTable = require('markdown-table')\n\nmodule.exports = toMarkdown\n\nfunction toMarkdown(options) {\n  var settings = options || {}\n  var padding = settings.tableCellPadding\n  var alignDelimiters = settings.tablePipeAlign\n  var stringLength = settings.stringLength\n  var around = padding ? ' ' : '|'\n\n  return {\n    unsafe: [\n      {character: '\\r', inConstruct: 'tableCell'},\n      {character: '\\n', inConstruct: 'tableCell'},\n      // A pipe, when followed by a tab or space (padding), or a dash or colon\n      // (unpadded delimiter row), could result in a table.\n      {atBreak: true, character: '|', after: '[\\t :-]'},\n      // A pipe in a cell must be encoded.\n      {character: '|', inConstruct: 'tableCell'},\n      // A colon must be followed by a dash, in which case it could start a\n      // delimiter row.\n      {atBreak: true, character: ':', after: '-'},\n      // A delimiter row can also start with a dash, when followed by more\n      // dashes, a colon, or a pipe.\n      // This is a stricter version than the built in check for lists, thematic\n      // breaks, and setex heading underlines though:\n      // <https://github.com/syntax-tree/mdast-util-to-markdown/blob/51a2038/lib/unsafe.js#L57>\n      {atBreak: true, character: '-', after: '[:|-]'}\n    ],\n    handlers: {\n      table: handleTable,\n      tableRow: handleTableRow,\n      tableCell: handleTableCell,\n      inlineCode: inlineCodeWithTable\n    }\n  }\n\n  function handleTable(node, _, context) {\n    return serializeData(handleTableAsData(node, context), node.align)\n  }\n\n  // This function isnt really used normally, because we handle rows at the\n  // table level.\n  // But, if someone passes in a table row, this ensures we make somewhat sense.\n  function handleTableRow(node, _, context) {\n    var row = handleTableRowAsData(node, context)\n    // `markdown-table` will always add an align row\n    var value = serializeData([row])\n    return value.slice(0, value.indexOf('\\n'))\n  }\n\n  function handleTableCell(node, _, context) {\n    var exit = context.enter('tableCell')\n    var value = phrasing(node, context, {before: around, after: around})\n    exit()\n    return value\n  }\n\n  function serializeData(matrix, align) {\n    return markdownTable(matrix, {\n      align: align,\n      alignDelimiters: alignDelimiters,\n      padding: padding,\n      stringLength: stringLength\n    })\n  }\n\n  function handleTableAsData(node, context) {\n    var children = node.children\n    var index = -1\n    var length = children.length\n    var result = []\n    var subexit = context.enter('table')\n\n    while (++index < length) {\n      result[index] = handleTableRowAsData(children[index], context)\n    }\n\n    subexit()\n\n    return result\n  }\n\n  function handleTableRowAsData(node, context) {\n    var children = node.children\n    var index = -1\n    var length = children.length\n    var result = []\n    var subexit = context.enter('tableRow')\n\n    while (++index < length) {\n      result[index] = handleTableCell(children[index], node, context)\n    }\n\n    subexit()\n\n    return result\n  }\n\n  function inlineCodeWithTable(node, parent, context) {\n    var value = defaultInlineCode(node, parent, context)\n\n    if (context.stack.indexOf('tableCell') !== -1) {\n      value = value.replace(/\\|/g, '\\\\$&')\n    }\n\n    return value\n  }\n}\n","module.exports = inlineCode\ninlineCode.peek = inlineCodePeek\n\nvar patternCompile = require('../util/pattern-compile')\n\nfunction inlineCode(node, parent, context) {\n  var value = node.value || ''\n  var sequence = '`'\n  var index = -1\n  var pattern\n  var expression\n  var match\n  var position\n\n  // If there is a single grave accent on its own in the code, use a fence of\n  // two.\n  // If there are two in a row, use one.\n  while (new RegExp('(^|[^`])' + sequence + '([^`]|$)').test(value)) {\n    sequence += '`'\n  }\n\n  // If this is not just spaces or eols (tabs dont count), and either the\n  // first or last character are a space, eol, or tick, then pad with spaces.\n  if (\n    /[^ \\r\\n]/.test(value) &&\n    (/[ \\r\\n`]/.test(value.charAt(0)) ||\n      /[ \\r\\n`]/.test(value.charAt(value.length - 1)))\n  ) {\n    value = ' ' + value + ' '\n  }\n\n  // We have a potential problem: certain characters after eols could result in\n  // blocks being seen.\n  // For example, if someone injected the string `'\\n# b'`, then that would\n  // result in an ATX heading.\n  // We cant escape characters in `inlineCode`, but because eols are\n  // transformed to spaces when going from markdown to HTML anyway, we can swap\n  // them out.\n  while (++index < context.unsafe.length) {\n    pattern = context.unsafe[index]\n\n    // Only look for `atBreak`s.\n    // Btw: note that `atBreak` patterns will always start the regex at LF or\n    // CR.\n    if (!pattern.atBreak) continue\n\n    expression = patternCompile(pattern)\n\n    while ((match = expression.exec(value))) {\n      position = match.index\n\n      // Support CRLF (patterns only look for one of the characters).\n      if (\n        value.charCodeAt(position) === 10 /* `\\n` */ &&\n        value.charCodeAt(position - 1) === 13 /* `\\r` */\n      ) {\n        position--\n      }\n\n      value = value.slice(0, position) + ' ' + value.slice(match.index + 1)\n    }\n  }\n\n  return sequence + value + sequence\n}\n\nfunction inlineCodePeek() {\n  return '`'\n}\n","module.exports = patternCompile\n\nfunction patternCompile(pattern) {\n  var before\n  var after\n\n  if (!pattern._compiled) {\n    before = pattern.before ? '(?:' + pattern.before + ')' : ''\n    after = pattern.after ? '(?:' + pattern.after + ')' : ''\n\n    if (pattern.atBreak) {\n      before = '[\\\\r\\\\n][\\\\t ]*' + before\n    }\n\n    pattern._compiled = new RegExp(\n      (before ? '(' + before + ')' : '') +\n        (/[|\\\\{}()[\\]^$+*?.-]/.test(pattern.character) ? '\\\\' : '') +\n        pattern.character +\n        (after || ''),\n      'g'\n    )\n  }\n\n  return pattern._compiled\n}\n","'use strict'\n\nvar repeat = require('repeat-string')\n\nmodule.exports = markdownTable\n\nvar trailingWhitespace = / +$/\n\n// Characters.\nvar space = ' '\nvar lineFeed = '\\n'\nvar dash = '-'\nvar colon = ':'\nvar verticalBar = '|'\n\nvar x = 0\nvar C = 67\nvar L = 76\nvar R = 82\nvar c = 99\nvar l = 108\nvar r = 114\n\n// Create a table from a matrix of strings.\nfunction markdownTable(table, options) {\n  var settings = options || {}\n  var padding = settings.padding !== false\n  var start = settings.delimiterStart !== false\n  var end = settings.delimiterEnd !== false\n  var align = (settings.align || []).concat()\n  var alignDelimiters = settings.alignDelimiters !== false\n  var alignments = []\n  var stringLength = settings.stringLength || defaultStringLength\n  var rowIndex = -1\n  var rowLength = table.length\n  var cellMatrix = []\n  var sizeMatrix = []\n  var row = []\n  var sizes = []\n  var longestCellByColumn = []\n  var mostCellsPerRow = 0\n  var cells\n  var columnIndex\n  var columnLength\n  var largest\n  var size\n  var cell\n  var lines\n  var line\n  var before\n  var after\n  var code\n\n  // This is a superfluous loop if we dont align delimiters, but otherwise wed\n  // do superfluous work when aligning, so optimize for aligning.\n  while (++rowIndex < rowLength) {\n    cells = table[rowIndex]\n    columnIndex = -1\n    columnLength = cells.length\n    row = []\n    sizes = []\n\n    if (columnLength > mostCellsPerRow) {\n      mostCellsPerRow = columnLength\n    }\n\n    while (++columnIndex < columnLength) {\n      cell = serialize(cells[columnIndex])\n\n      if (alignDelimiters === true) {\n        size = stringLength(cell)\n        sizes[columnIndex] = size\n\n        largest = longestCellByColumn[columnIndex]\n\n        if (largest === undefined || size > largest) {\n          longestCellByColumn[columnIndex] = size\n        }\n      }\n\n      row.push(cell)\n    }\n\n    cellMatrix[rowIndex] = row\n    sizeMatrix[rowIndex] = sizes\n  }\n\n  // Figure out which alignments to use.\n  columnIndex = -1\n  columnLength = mostCellsPerRow\n\n  if (typeof align === 'object' && 'length' in align) {\n    while (++columnIndex < columnLength) {\n      alignments[columnIndex] = toAlignment(align[columnIndex])\n    }\n  } else {\n    code = toAlignment(align)\n\n    while (++columnIndex < columnLength) {\n      alignments[columnIndex] = code\n    }\n  }\n\n  // Inject the alignment row.\n  columnIndex = -1\n  columnLength = mostCellsPerRow\n  row = []\n  sizes = []\n\n  while (++columnIndex < columnLength) {\n    code = alignments[columnIndex]\n    before = ''\n    after = ''\n\n    if (code === l) {\n      before = colon\n    } else if (code === r) {\n      after = colon\n    } else if (code === c) {\n      before = colon\n      after = colon\n    }\n\n    // There *must* be at least one hyphen-minus in each alignment cell.\n    size = alignDelimiters\n      ? Math.max(\n          1,\n          longestCellByColumn[columnIndex] - before.length - after.length\n        )\n      : 1\n\n    cell = before + repeat(dash, size) + after\n\n    if (alignDelimiters === true) {\n      size = before.length + size + after.length\n\n      if (size > longestCellByColumn[columnIndex]) {\n        longestCellByColumn[columnIndex] = size\n      }\n\n      sizes[columnIndex] = size\n    }\n\n    row[columnIndex] = cell\n  }\n\n  // Inject the alignment row.\n  cellMatrix.splice(1, 0, row)\n  sizeMatrix.splice(1, 0, sizes)\n\n  rowIndex = -1\n  rowLength = cellMatrix.length\n  lines = []\n\n  while (++rowIndex < rowLength) {\n    row = cellMatrix[rowIndex]\n    sizes = sizeMatrix[rowIndex]\n    columnIndex = -1\n    columnLength = mostCellsPerRow\n    line = []\n\n    while (++columnIndex < columnLength) {\n      cell = row[columnIndex] || ''\n      before = ''\n      after = ''\n\n      if (alignDelimiters === true) {\n        size = longestCellByColumn[columnIndex] - (sizes[columnIndex] || 0)\n        code = alignments[columnIndex]\n\n        if (code === r) {\n          before = repeat(space, size)\n        } else if (code === c) {\n          if (size % 2 === 0) {\n            before = repeat(space, size / 2)\n            after = before\n          } else {\n            before = repeat(space, size / 2 + 0.5)\n            after = repeat(space, size / 2 - 0.5)\n          }\n        } else {\n          after = repeat(space, size)\n        }\n      }\n\n      if (start === true && columnIndex === 0) {\n        line.push(verticalBar)\n      }\n\n      if (\n        padding === true &&\n        // Dont add the opening space if were not aligning and the cell is\n        // empty: there will be a closing space.\n        !(alignDelimiters === false && cell === '') &&\n        (start === true || columnIndex !== 0)\n      ) {\n        line.push(space)\n      }\n\n      if (alignDelimiters === true) {\n        line.push(before)\n      }\n\n      line.push(cell)\n\n      if (alignDelimiters === true) {\n        line.push(after)\n      }\n\n      if (padding === true) {\n        line.push(space)\n      }\n\n      if (end === true || columnIndex !== columnLength - 1) {\n        line.push(verticalBar)\n      }\n    }\n\n    line = line.join('')\n\n    if (end === false) {\n      line = line.replace(trailingWhitespace, '')\n    }\n\n    lines.push(line)\n  }\n\n  return lines.join(lineFeed)\n}\n\nfunction serialize(value) {\n  return value === null || value === undefined ? '' : String(value)\n}\n\nfunction defaultStringLength(value) {\n  return value.length\n}\n\nfunction toAlignment(value) {\n  var code = typeof value === 'string' ? value.charCodeAt(0) : x\n\n  return code === L || code === l\n    ? l\n    : code === R || code === r\n    ? r\n    : code === C || code === c\n    ? c\n    : x\n}\n","var defaultListItem = require('mdast-util-to-markdown/lib/handle/list-item')\n\nexports.unsafe = [{atBreak: true, character: '-', after: '[:|-]'}]\n\nexports.handlers = {\n  listItem: listItemWithTaskListItem\n}\n\nfunction listItemWithTaskListItem(node, parent, context) {\n  var value = defaultListItem(node, parent, context)\n  var head = node.children[0]\n\n  if (typeof node.checked === 'boolean' && head && head.type === 'paragraph') {\n    value = value.replace(/^(?:[*+-]|\\d+\\.)([\\r\\n]| {1,3})/, check)\n  }\n\n  return value\n\n  function check($0) {\n    return $0 + '[' + (node.checked ? 'x' : ' ') + '] '\n  }\n}\n","module.exports = listItem\n\nvar repeat = require('repeat-string')\nvar checkBullet = require('../util/check-bullet')\nvar checkListItemIndent = require('../util/check-list-item-indent')\nvar flow = require('../util/container-flow')\nvar indentLines = require('../util/indent-lines')\n\nfunction listItem(node, parent, context) {\n  var bullet = checkBullet(context)\n  var listItemIndent = checkListItemIndent(context)\n  var size\n  var value\n  var exit\n\n  if (parent && parent.ordered) {\n    bullet =\n      (parent.start > -1 ? parent.start : 1) +\n      (context.options.incrementListMarker === false\n        ? 0\n        : parent.children.indexOf(node)) +\n      '.'\n  }\n\n  size = bullet.length + 1\n\n  if (\n    listItemIndent === 'tab' ||\n    (listItemIndent === 'mixed' && ((parent && parent.spread) || node.spread))\n  ) {\n    size = Math.ceil(size / 4) * 4\n  }\n\n  exit = context.enter('listItem')\n  value = indentLines(flow(node, context), map)\n  exit()\n\n  return value\n\n  function map(line, index, blank) {\n    if (index) {\n      return (blank ? '' : repeat(' ', size)) + line\n    }\n\n    return (blank ? bullet : bullet + repeat(' ', size - bullet.length)) + line\n  }\n}\n","module.exports = checkBullet\n\nfunction checkBullet(context) {\n  var marker = context.options.bullet || '*'\n\n  if (marker !== '*' && marker !== '+' && marker !== '-') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        marker +\n        '` for `options.bullet`, expected `*`, `+`, or `-`'\n    )\n  }\n\n  return marker\n}\n","module.exports = checkListItemIndent\n\nfunction checkListItemIndent(context) {\n  var style = context.options.listItemIndent || 'tab'\n\n  if (style === 1 || style === '1') {\n    return 'one'\n  }\n\n  if (style !== 'tab' && style !== 'one' && style !== 'mixed') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        style +\n        '` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`'\n    )\n  }\n\n  return style\n}\n","module.exports = flow\n\nvar repeat = require('repeat-string')\n\nfunction flow(parent, context) {\n  var children = parent.children || []\n  var results = []\n  var index = -1\n  var child\n\n  while (++index < children.length) {\n    child = children[index]\n\n    results.push(\n      context.handle(child, parent, context, {before: '\\n', after: '\\n'})\n    )\n\n    if (index + 1 < children.length) {\n      results.push(between(child, children[index + 1]))\n    }\n  }\n\n  return results.join('')\n\n  function between(left, right) {\n    var index = -1\n    var result\n\n    while (++index < context.join.length) {\n      result = context.join[index](left, right, parent, context)\n\n      if (result === true || result === 1) {\n        break\n      }\n\n      if (typeof result === 'number') {\n        return repeat('\\n', 1 + Number(result))\n      }\n\n      if (result === false) {\n        return '\\n\\n<!---->\\n\\n'\n      }\n    }\n\n    return '\\n\\n'\n  }\n}\n","module.exports = indentLines\n\nvar eol = /\\r?\\n|\\r/g\n\nfunction indentLines(value, map) {\n  var result = []\n  var start = 0\n  var line = 0\n  var match\n\n  while ((match = eol.exec(value))) {\n    one(value.slice(start, match.index))\n    result.push(match[0])\n    start = match.index + match[0].length\n    line++\n  }\n\n  one(value.slice(start))\n\n  return result.join('')\n\n  function one(value) {\n    result.push(map(value, line, !value))\n  }\n}\n","module.exports = configure\n\nfunction configure(base, extension) {\n  var index = -1\n  var key\n\n  // First do subextensions.\n  if (extension.extensions) {\n    while (++index < extension.extensions.length) {\n      configure(base, extension.extensions[index])\n    }\n  }\n\n  for (key in extension) {\n    if (key === 'extensions') {\n      // Empty.\n    } else if (key === 'unsafe' || key === 'join') {\n      base[key] = base[key].concat(extension[key] || [])\n    } else if (key === 'handlers') {\n      base[key] = Object.assign(base[key], extension[key] || {})\n    } else {\n      base.options[key] = extension[key]\n    }\n  }\n\n  return base\n}\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t? self // if in worker\n\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self){\n\n// Private helper vars\nvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\nvar uniqueId = 0;\n\n\nvar _ = {\n\t/**\n\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t * additional languages or plugins yourself.\n\t *\n\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t *\n\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t * empty Prism object into the global scope before loading the Prism script like this:\n\t *\n\t * ```js\n\t * window.Prism = window.Prism || {};\n\t * Prism.manual = true;\n\t * // add a new <script> to load Prism's script\n\t * ```\n\t *\n\t * @default false\n\t * @type {boolean}\n\t * @memberof Prism\n\t * @public\n\t */\n\tmanual: _self.Prism && _self.Prism.manual,\n\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t/**\n\t * A namespace for utility methods.\n\t *\n\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t * change or disappear at any time.\n\t *\n\t * @namespace\n\t * @memberof Prism\n\t */\n\tutil: {\n\t\tencode: function encode(tokens) {\n\t\t\tif (tokens instanceof Token) {\n\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\treturn tokens.map(encode);\n\t\t\t} else {\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the name of the type of the given value.\n\t\t *\n\t\t * @param {any} o\n\t\t * @returns {string}\n\t\t * @example\n\t\t * type(null)      === 'Null'\n\t\t * type(undefined) === 'Undefined'\n\t\t * type(123)       === 'Number'\n\t\t * type('foo')     === 'String'\n\t\t * type(true)      === 'Boolean'\n\t\t * type([1, 2])    === 'Array'\n\t\t * type({})        === 'Object'\n\t\t * type(String)    === 'Function'\n\t\t * type(/abc+/)    === 'RegExp'\n\t\t */\n\t\ttype: function (o) {\n\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t},\n\n\t\t/**\n\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t *\n\t\t * @param {Object} obj\n\t\t * @returns {number}\n\t\t */\n\t\tobjId: function (obj) {\n\t\t\tif (!obj['__id']) {\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t}\n\t\t\treturn obj['__id'];\n\t\t},\n\n\t\t/**\n\t\t * Creates a deep clone of the given object.\n\t\t *\n\t\t * The main intended use of this function is to clone language definitions.\n\t\t *\n\t\t * @param {T} o\n\t\t * @param {Record<number, any>} [visited]\n\t\t * @returns {T}\n\t\t * @template T\n\t\t */\n\t\tclone: function deepClone(o, visited) {\n\t\t\tvisited = visited || {};\n\n\t\t\tvar clone, id;\n\t\t\tswitch (_.util.type(o)) {\n\t\t\t\tcase 'Object':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = [];\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn o;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t *\n\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t *\n\t\t * @param {Element} element\n\t\t * @returns {string}\n\t\t */\n\t\tgetLanguage: function (element) {\n\t\t\twhile (element && !lang.test(element.className)) {\n\t\t\t\telement = element.parentElement;\n\t\t\t}\n\t\t\tif (element) {\n\t\t\t\treturn (element.className.match(lang) || [, 'none'])[1].toLowerCase();\n\t\t\t}\n\t\t\treturn 'none';\n\t\t},\n\n\t\t/**\n\t\t * Returns the script element that is currently executing.\n\t\t *\n\t\t * This does __not__ work for line script element.\n\t\t *\n\t\t * @returns {HTMLScriptElement | null}\n\t\t */\n\t\tcurrentScript: function () {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t}\n\n\t\t\t// IE11 workaround\n\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t// this will not work for inline scripts\n\n\t\t\ttry {\n\t\t\t\tthrow new Error();\n\t\t\t} catch (err) {\n\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t// A stack will look like this:\n\t\t\t\t//\n\t\t\t\t// Error\n\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):.+:.+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\tif (src) {\n\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns whether a given class is active for `element`.\n\t\t *\n\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t * given class is just the given class with a `no-` prefix.\n\t\t *\n\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t *\n\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t * version of it, the class is considered active.\n\t\t *\n\t\t * @param {Element} element\n\t\t * @param {string} className\n\t\t * @param {boolean} [defaultActivation=false]\n\t\t * @returns {boolean}\n\t\t */\n\t\tisActive: function (element, className, defaultActivation) {\n\t\t\tvar no = 'no-' + className;\n\n\t\t\twhile (element) {\n\t\t\t\tvar classList = element.classList;\n\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telement = element.parentElement;\n\t\t\t}\n\t\t\treturn !!defaultActivation;\n\t\t}\n\t},\n\n\t/**\n\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t *\n\t * @namespace\n\t * @memberof Prism\n\t * @public\n\t */\n\tlanguages: {\n\t\t/**\n\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t *\n\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t * will be overwritten at its original position.\n\t\t *\n\t\t * ## Best practices\n\t\t *\n\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t *\n\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t *\n\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t * @param {Grammar} redef The new tokens to append.\n\t\t * @returns {Grammar} The new language created.\n\t\t * @public\n\t\t * @example\n\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t *     // at its original position\n\t\t *     'comment': { ... },\n\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t * });\n\t\t */\n\t\textend: function (id, redef) {\n\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\tfor (var key in redef) {\n\t\t\t\tlang[key] = redef[key];\n\t\t\t}\n\n\t\t\treturn lang;\n\t\t},\n\n\t\t/**\n\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t *\n\t\t * ## Usage\n\t\t *\n\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t * this:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.markup.style = {\n\t\t *     // token\n\t\t * };\n\t\t * ```\n\t\t *\n\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t *     'style': {\n\t\t *         // token\n\t\t *     }\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * ## Special cases\n\t\t *\n\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t * will be ignored.\n\t\t *\n\t\t * This behavior can be used to insert tokens after `before`:\n\t\t *\n\t\t * ```js\n\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t *     'comment': Prism.languages.markup.comment,\n\t\t *     // tokens after 'comment'\n\t\t * });\n\t\t * ```\n\t\t *\n\t\t * ## Limitations\n\t\t *\n\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t *\n\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t *\n\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t *\n\t\t * ```js\n\t\t * var oldMarkup = Prism.languages.markup;\n\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t *\n\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t * ```\n\t\t *\n\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t * object to be modified.\n\t\t * @param {string} before The key to insert before.\n\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t * object to be modified.\n\t\t *\n\t\t * Defaults to `Prism.languages`.\n\t\t * @returns {Grammar} The new grammar object.\n\t\t * @public\n\t\t */\n\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\tvar grammar = root[inside];\n\t\t\t/** @type {Grammar} */\n\t\t\tvar ret = {};\n\n\t\t\tfor (var token in grammar) {\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar old = root[inside];\n\t\t\troot[inside] = ret;\n\n\t\t\t// Update references in other language definitions\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\n\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\tthis[key] = ret;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn ret;\n\t\t},\n\n\t\t// Traverse a language definition with Depth First Search\n\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\tvisited = visited || {};\n\n\t\t\tvar objId = _.util.objId;\n\n\t\t\tfor (var i in o) {\n\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\tvar property = o[i],\n\t\t\t\t\t    propertyType = _.util.type(property);\n\n\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t}\n\t\t\t\t\telse if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tplugins: {},\n\n\t/**\n\t * This is the most high-level function in Prisms API.\n\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t * each one of them.\n\t *\n\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t *\n\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightAll: function(async, callback) {\n\t\t_.highlightAllUnder(document, async, callback);\n\t},\n\n\t/**\n\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t * {@link Prism.highlightElement} on each one of them.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-highlightall`\n\t * 2. `before-all-elements-highlight`\n\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t *\n\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightAllUnder: function(container, async, callback) {\n\t\tvar env = {\n\t\t\tcallback: callback,\n\t\t\tcontainer: container,\n\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t};\n\n\t\t_.hooks.run('before-highlightall', env);\n\n\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\tfor (var i = 0, element; element = env.elements[i++];) {\n\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t}\n\t},\n\n\t/**\n\t * Highlights the code inside a single element.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-sanity-check`\n\t * 2. `before-highlight`\n\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t * 4. `before-insert`\n\t * 5. `after-highlight`\n\t * 6. `complete`\n\t *\n\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t * the element's language.\n\t *\n\t * @param {Element} element The element containing the code.\n\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t *\n\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t * asynchronous highlighting to work. You can build your own bundle on the\n\t * [Download page](https://prismjs.com/download.html).\n\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t * @memberof Prism\n\t * @public\n\t */\n\thighlightElement: function(element, async, callback) {\n\t\t// Find language\n\t\tvar language = _.util.getLanguage(element);\n\t\tvar grammar = _.languages[language];\n\n\t\t// Set language on the element, if not present\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\n\t\t// Set language on the parent, for styling\n\t\tvar parent = element.parentElement;\n\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\t\t}\n\n\t\tvar code = element.textContent;\n\n\t\tvar env = {\n\t\t\telement: element,\n\t\t\tlanguage: language,\n\t\t\tgrammar: grammar,\n\t\t\tcode: code\n\t\t};\n\n\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t}\n\n\t\t_.hooks.run('before-sanity-check', env);\n\n\t\tif (!env.code) {\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t\treturn;\n\t\t}\n\n\t\t_.hooks.run('before-highlight', env);\n\n\t\tif (!env.grammar) {\n\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\treturn;\n\t\t}\n\n\t\tif (async && _self.Worker) {\n\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\tworker.onmessage = function(evt) {\n\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t};\n\n\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\tlanguage: env.language,\n\t\t\t\tcode: env.code,\n\t\t\t\timmediateClose: true\n\t\t\t}));\n\t\t}\n\t\telse {\n\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t}\n\t},\n\n\t/**\n\t * Low-level function, only use if you know what youre doing. It accepts a string of text as input\n\t * and the language definitions to use, and returns a string with the HTML produced.\n\t *\n\t * The following hooks will be run:\n\t * 1. `before-tokenize`\n\t * 2. `after-tokenize`\n\t * 3. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string} text A string with the code to be highlighted.\n\t * @param {Grammar} grammar An object containing the tokens to use.\n\t *\n\t * Usually a language definition like `Prism.languages.markup`.\n\t * @param {string} language The name of the language definition passed to `grammar`.\n\t * @returns {string} The highlighted HTML.\n\t * @memberof Prism\n\t * @public\n\t * @example\n\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t */\n\thighlight: function (text, grammar, language) {\n\t\tvar env = {\n\t\t\tcode: text,\n\t\t\tgrammar: grammar,\n\t\t\tlanguage: language\n\t\t};\n\t\t_.hooks.run('before-tokenize', env);\n\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t_.hooks.run('after-tokenize', env);\n\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t},\n\n\t/**\n\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t * and the language definitions to use, and returns an array with the tokenized code.\n\t *\n\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t *\n\t * This method could be useful in other contexts as well, as a very crude parser.\n\t *\n\t * @param {string} text A string with the code to be highlighted.\n\t * @param {Grammar} grammar An object containing the tokens to use.\n\t *\n\t * Usually a language definition like `Prism.languages.markup`.\n\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t * @memberof Prism\n\t * @public\n\t * @example\n\t * let code = `var foo = 0;`;\n\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t * tokens.forEach(token => {\n\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t *         console.log(`Found numeric literal: ${token.content}`);\n\t *     }\n\t * });\n\t */\n\ttokenize: function(text, grammar) {\n\t\tvar rest = grammar.rest;\n\t\tif (rest) {\n\t\t\tfor (var token in rest) {\n\t\t\t\tgrammar[token] = rest[token];\n\t\t\t}\n\n\t\t\tdelete grammar.rest;\n\t\t}\n\n\t\tvar tokenList = new LinkedList();\n\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\treturn toArray(tokenList);\n\t},\n\n\t/**\n\t * @namespace\n\t * @memberof Prism\n\t * @public\n\t */\n\thooks: {\n\t\tall: {},\n\n\t\t/**\n\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t *\n\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t *\n\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t *\n\t\t * @param {string} name The name of the hook.\n\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t * @public\n\t\t */\n\t\tadd: function (name, callback) {\n\t\t\tvar hooks = _.hooks.all;\n\n\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\thooks[name].push(callback);\n\t\t},\n\n\t\t/**\n\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t *\n\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t *\n\t\t * @param {string} name The name of the hook.\n\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t * @public\n\t\t */\n\t\trun: function (name, env) {\n\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\n\t\t\t\tcallback(env);\n\t\t\t}\n\t\t}\n\t},\n\n\tToken: Token\n};\n_self.Prism = _;\n\n\n// Typescript note:\n// The following can be used to import the Token type in JSDoc:\n//\n//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n/**\n * Creates a new token.\n *\n * @param {string} type See {@link Token#type type}\n * @param {string | TokenStream} content See {@link Token#content content}\n * @param {string|string[]} [alias] The alias(es) of the token.\n * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n * @class\n * @global\n * @public\n */\nfunction Token(type, content, alias, matchedStr) {\n\t/**\n\t * The type of the token.\n\t *\n\t * This is usually the key of a pattern in a {@link Grammar}.\n\t *\n\t * @type {string}\n\t * @see GrammarToken\n\t * @public\n\t */\n\tthis.type = type;\n\t/**\n\t * The strings or tokens contained by this token.\n\t *\n\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t *\n\t * @type {string | TokenStream}\n\t * @public\n\t */\n\tthis.content = content;\n\t/**\n\t * The alias(es) of the token.\n\t *\n\t * @type {string|string[]}\n\t * @see GrammarToken\n\t * @public\n\t */\n\tthis.alias = alias;\n\t// Copy of the full string this token was created from\n\tthis.length = (matchedStr || '').length | 0;\n}\n\n/**\n * A token stream is an array of strings and {@link Token Token} objects.\n *\n * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n * them.\n *\n * 1. No adjacent strings.\n * 2. No empty strings.\n *\n *    The only exception here is the token stream that only contains the empty string and nothing else.\n *\n * @typedef {Array<string | Token>} TokenStream\n * @global\n * @public\n */\n\n/**\n * Converts the given token or token stream to an HTML representation.\n *\n * The following hooks will be run:\n * 1. `wrap`: On each {@link Token}.\n *\n * @param {string | Token | TokenStream} o The token or token stream to be converted.\n * @param {string} language The name of current language.\n * @returns {string} The HTML representation of the token or token stream.\n * @memberof Token\n * @static\n */\nToken.stringify = function stringify(o, language) {\n\tif (typeof o == 'string') {\n\t\treturn o;\n\t}\n\tif (Array.isArray(o)) {\n\t\tvar s = '';\n\t\to.forEach(function (e) {\n\t\t\ts += stringify(e, language);\n\t\t});\n\t\treturn s;\n\t}\n\n\tvar env = {\n\t\ttype: o.type,\n\t\tcontent: stringify(o.content, language),\n\t\ttag: 'span',\n\t\tclasses: ['token', o.type],\n\t\tattributes: {},\n\t\tlanguage: language\n\t};\n\n\tvar aliases = o.alias;\n\tif (aliases) {\n\t\tif (Array.isArray(aliases)) {\n\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t} else {\n\t\t\tenv.classes.push(aliases);\n\t\t}\n\t}\n\n\t_.hooks.run('wrap', env);\n\n\tvar attributes = '';\n\tfor (var name in env.attributes) {\n\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t}\n\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n};\n\n/**\n * @param {string} text\n * @param {LinkedList<string | Token>} tokenList\n * @param {any} grammar\n * @param {LinkedListNode<string | Token>} startNode\n * @param {number} startPos\n * @param {RematchOptions} [rematch]\n * @returns {void}\n * @private\n *\n * @typedef RematchOptions\n * @property {string} cause\n * @property {number} reach\n */\nfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\tfor (var token in grammar) {\n\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvar patterns = grammar[token];\n\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar patternObj = patterns[j],\n\t\t\t\tinside = patternObj.inside,\n\t\t\t\tlookbehind = !!patternObj.lookbehind,\n\t\t\t\tgreedy = !!patternObj.greedy,\n\t\t\t\tlookbehindLength = 0,\n\t\t\t\talias = patternObj.alias;\n\n\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t}\n\n\t\t\t/** @type {RegExp} */\n\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t) {\n\n\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\n\t\t\t\tif (greedy && currentNode != tokenList.tail.prev) {\n\t\t\t\t\tpattern.lastIndex = pos;\n\t\t\t\t\tvar match = pattern.exec(text);\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar from = match.index + (lookbehind && match[1] ? match[1].length : 0);\n\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t}\n\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\tpos = p;\n\n\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\tfor (\n\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\tk = k.next\n\t\t\t\t\t) {\n\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t}\n\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t// replace with the new match\n\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t} else {\n\t\t\t\t\tpattern.lastIndex = 0;\n\n\t\t\t\t\tvar match = pattern.exec(str);\n\t\t\t\t}\n\n\t\t\t\tif (!match) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (lookbehind) {\n\t\t\t\t\tlookbehindLength = match[1] ? match[1].length : 0;\n\t\t\t\t}\n\n\t\t\t\tvar from = match.index + lookbehindLength,\n\t\t\t\t\tmatchStr = match[0].slice(lookbehindLength),\n\t\t\t\t\tto = from + matchStr.length,\n\t\t\t\t\tbefore = str.slice(0, from),\n\t\t\t\t\tafter = str.slice(to);\n\n\t\t\t\tvar reach = pos + str.length;\n\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\trematch.reach = reach;\n\t\t\t\t}\n\n\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\tif (before) {\n\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\tpos += before.length;\n\t\t\t\t}\n\n\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\tif (after) {\n\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t}\n\n\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t// this can only happen if the current pattern is greedy\n\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, {\n\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\treach: reach\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @typedef LinkedListNode\n * @property {T} value\n * @property {LinkedListNode<T> | null} prev The previous node.\n * @property {LinkedListNode<T> | null} next The next node.\n * @template T\n * @private\n */\n\n/**\n * @template T\n * @private\n */\nfunction LinkedList() {\n\t/** @type {LinkedListNode<T>} */\n\tvar head = { value: null, prev: null, next: null };\n\t/** @type {LinkedListNode<T>} */\n\tvar tail = { value: null, prev: head, next: null };\n\thead.next = tail;\n\n\t/** @type {LinkedListNode<T>} */\n\tthis.head = head;\n\t/** @type {LinkedListNode<T>} */\n\tthis.tail = tail;\n\tthis.length = 0;\n}\n\n/**\n * Adds a new node with the given value to the list.\n * @param {LinkedList<T>} list\n * @param {LinkedListNode<T>} node\n * @param {T} value\n * @returns {LinkedListNode<T>} The added node.\n * @template T\n */\nfunction addAfter(list, node, value) {\n\t// assumes that node != list.tail && values.length >= 0\n\tvar next = node.next;\n\n\tvar newNode = { value: value, prev: node, next: next };\n\tnode.next = newNode;\n\tnext.prev = newNode;\n\tlist.length++;\n\n\treturn newNode;\n}\n/**\n * Removes `count` nodes after the given node. The given node will not be removed.\n * @param {LinkedList<T>} list\n * @param {LinkedListNode<T>} node\n * @param {number} count\n * @template T\n */\nfunction removeRange(list, node, count) {\n\tvar next = node.next;\n\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\tnext = next.next;\n\t}\n\tnode.next = next;\n\tnext.prev = node;\n\tlist.length -= i;\n}\n/**\n * @param {LinkedList<T>} list\n * @returns {T[]}\n * @template T\n */\nfunction toArray(list) {\n\tvar array = [];\n\tvar node = list.head.next;\n\twhile (node !== list.tail) {\n\t\tarray.push(node.value);\n\t\tnode = node.next;\n\t}\n\treturn array;\n}\n\n\nif (!_self.document) {\n\tif (!_self.addEventListener) {\n\t\t// in Node.js\n\t\treturn _;\n\t}\n\n\tif (!_.disableWorkerMessageHandler) {\n\t\t// In worker\n\t\t_self.addEventListener('message', function (evt) {\n\t\t\tvar message = JSON.parse(evt.data),\n\t\t\t\tlang = message.language,\n\t\t\t\tcode = message.code,\n\t\t\t\timmediateClose = message.immediateClose;\n\n\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\tif (immediateClose) {\n\t\t\t\t_self.close();\n\t\t\t}\n\t\t}, false);\n\t}\n\n\treturn _;\n}\n\n// Get current script and highlight\nvar script = _.util.currentScript();\n\nif (script) {\n\t_.filename = script.src;\n\n\tif (script.hasAttribute('data-manual')) {\n\t\t_.manual = true;\n\t}\n}\n\nfunction highlightAutomaticallyCallback() {\n\tif (!_.manual) {\n\t\t_.highlightAll();\n\t}\n}\n\nif (!_.manual) {\n\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t// See https://github.com/PrismJS/prism/issues/2102\n\tvar readyState = document.readyState;\n\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t} else {\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t}\n\t}\n}\n\nreturn _;\n\n})(_self);\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n*/\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n*/\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': /<!--[\\s\\S]*?-->/,\n\t'prolog': /<\\?[\\s\\S]+?\\?>/,\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(\"|')(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: /@[\\w-]+[\\s\\S]*?(?:;|(?=\\s*\\{))/,\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\((?!\\s*\\))\\s*)(?:[^()]|\\((?:[^()]|\\([^()]*\\))*\\))+?(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': RegExp('[^{}\\\\s](?:[^{};\"\\']|' + string.source + ')*?(?=\\\\s*\\\\{)'),\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': /[-_a-z\\xA0-\\uFFFF][-\\w\\xA0-\\uFFFF]*(?=\\s*:)/i,\n\t\t'important': /!important\\b/i,\n\t\t'function': /[-a-z0-9]+(?=\\()/i,\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\n\t\tPrism.languages.insertBefore('inside', 'attr-value', {\n\t\t\t'style-attr': {\n\t\t\t\tpattern: /\\s*style=(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'attr-name': {\n\t\t\t\t\t\tpattern: /^\\s*style/i,\n\t\t\t\t\t\tinside: markup.tag.inside\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n\t\t\t\t\t'attr-value': {\n\t\t\t\t\t\tpattern: /.+/i,\n\t\t\t\t\t\tinside: Prism.languages.css\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\talias: 'language-css'\n\t\t\t}\n\t\t}, markup.tag);\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n\t'boolean': /\\b(?:true|false)\\b/,\n\t'function': /\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])[_$A-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\.(?:prototype|constructor))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|})\\s*)(?:catch|finally)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\\s*[\\[$\\w\\xA0-\\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t'number': /\\b(?:(?:0[xX](?:[\\dA-Fa-f](?:_[\\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\\d(?:_\\d)?)+n|NaN|Infinity)\\b|(?:\\b(?:\\d(?:_\\d)?)+\\.?(?:\\d(?:_\\d)?)*|\\B\\.(?:\\d(?:_\\d)?)+)(?:[Ee][+-]?(?:\\d(?:_\\d)?)+)?/,\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|interface|extends|implements|instanceof|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)\\/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[gimyus]{0,6}(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-flags': /[a-z]+$/,\n\t\t\t'regex-delimiter': /^\\/|\\/$/\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)?\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*=>)/i,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\\${)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\${|}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t}\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\tif (typeof self === 'undefined' || !self.Prism || !self.document) {\n\t\treturn;\n\t}\n\n\tvar Prism = window.Prism;\n\n\tvar LOADING_MESSAGE = 'Loading';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn ' Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = ' Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\tvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n\n\t/**\n\t * Sets the Prism `language-xxxx` or `lang-xxxx` class to the given language.\n\t *\n\t * @param {HTMLElement} element\n\t * @param {string} language\n\t * @returns {void}\n\t */\n\tfunction setLanguageClass(element, language) {\n\t\tvar className = element.className;\n\t\tclassName = className.replace(lang, ' ') + ' language-' + language;\n\t\telement.className = className.replace(/\\s+/g, ' ').trim();\n\t}\n\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tsetLanguageClass(code, language);\n\t\t\tsetLanguageClass(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\txhr.open('GET', src, true);\n\t\t\txhr.onreadystatechange = function () {\n\t\t\t\tif (xhr.readyState == 4) {\n\t\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\t\t// mark as loaded\n\t\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t\t// highlight code\n\t\t\t\t\t\tcode.textContent = xhr.responseText;\n\t\t\t\t\t\tPrism.highlightElement(code);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// mark as failed\n\t\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\t\tcode.textContent = FAILURE_MESSAGE(xhr.status, xhr.statusText);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcode.textContent = FAILURE_EMPTY_MESSAGE;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr.send(null);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; element = elements[i++];) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t}\n\n})();\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _warning = require(\"rc-util/lib/warning\");\n\nvar generateConfig = {\n  // get\n  getNow: function getNow() {\n    return (0, _moment.default)();\n  },\n  getFixedDate: function getFixedDate(string) {\n    return (0, _moment.default)(string, 'YYYY-MM-DD');\n  },\n  getEndDate: function getEndDate(date) {\n    var clone = date.clone();\n    return clone.endOf('month');\n  },\n  getWeekDay: function getWeekDay(date) {\n    var clone = date.clone().locale('en_US');\n    return clone.weekday() + clone.localeData().firstDayOfWeek();\n  },\n  getYear: function getYear(date) {\n    return date.year();\n  },\n  getMonth: function getMonth(date) {\n    return date.month();\n  },\n  getDate: function getDate(date) {\n    return date.date();\n  },\n  getHour: function getHour(date) {\n    return date.hour();\n  },\n  getMinute: function getMinute(date) {\n    return date.minute();\n  },\n  getSecond: function getSecond(date) {\n    return date.second();\n  },\n  // set\n  addYear: function addYear(date, diff) {\n    var clone = date.clone();\n    return clone.add(diff, 'year');\n  },\n  addMonth: function addMonth(date, diff) {\n    var clone = date.clone();\n    return clone.add(diff, 'month');\n  },\n  addDate: function addDate(date, diff) {\n    var clone = date.clone();\n    return clone.add(diff, 'day');\n  },\n  setYear: function setYear(date, year) {\n    var clone = date.clone();\n    return clone.year(year);\n  },\n  setMonth: function setMonth(date, month) {\n    var clone = date.clone();\n    return clone.month(month);\n  },\n  setDate: function setDate(date, num) {\n    var clone = date.clone();\n    return clone.date(num);\n  },\n  setHour: function setHour(date, hour) {\n    var clone = date.clone();\n    return clone.hour(hour);\n  },\n  setMinute: function setMinute(date, minute) {\n    var clone = date.clone();\n    return clone.minute(minute);\n  },\n  setSecond: function setSecond(date, second) {\n    var clone = date.clone();\n    return clone.second(second);\n  },\n  // Compare\n  isAfter: function isAfter(date1, date2) {\n    return date1.isAfter(date2);\n  },\n  isValidate: function isValidate(date) {\n    return date.isValid();\n  },\n  locale: {\n    getWeekFirstDay: function getWeekFirstDay(locale) {\n      var date = (0, _moment.default)().locale(locale);\n      return date.localeData().firstDayOfWeek();\n    },\n    getWeekFirstDate: function getWeekFirstDate(locale, date) {\n      var clone = date.clone();\n      var result = clone.locale(locale);\n      return result.weekday(0);\n    },\n    getWeek: function getWeek(locale, date) {\n      var clone = date.clone();\n      var result = clone.locale(locale);\n      return result.week();\n    },\n    getShortWeekDays: function getShortWeekDays(locale) {\n      var date = (0, _moment.default)().locale(locale);\n      return date.localeData().weekdaysMin();\n    },\n    getShortMonths: function getShortMonths(locale) {\n      var date = (0, _moment.default)().locale(locale);\n      return date.localeData().monthsShort();\n    },\n    format: function format(locale, date, _format) {\n      var clone = date.clone();\n      var result = clone.locale(locale);\n      return result.format(_format);\n    },\n    parse: function parse(locale, text, formats) {\n      var fallbackFormatList = [];\n\n      for (var i = 0; i < formats.length; i += 1) {\n        var format = formats[i];\n        var formatText = text;\n\n        if (format.includes('wo') || format.includes('Wo')) {\n          format = format.replace(/wo/g, 'w').replace(/Wo/g, 'W');\n          var matchFormat = format.match(/[-YyMmDdHhSsWwGg]+/g);\n          var matchText = formatText.match(/[-\\d]+/g);\n\n          if (matchFormat && matchText) {\n            format = matchFormat.join('');\n            formatText = matchText.join('');\n          } else {\n            fallbackFormatList.push(format.replace(/o/g, ''));\n          }\n        }\n\n        var date = (0, _moment.default)(formatText, format, locale, true);\n\n        if (date.isValid()) {\n          return date;\n        }\n      } // Fallback to fuzzy matching, this should always not reach match or need fire a issue\n\n\n      for (var _i = 0; _i < fallbackFormatList.length; _i += 1) {\n        var _date = (0, _moment.default)(text, fallbackFormatList[_i], locale, false);\n        /* istanbul ignore next */\n\n\n        if (_date.isValid()) {\n          (0, _warning.noteOnce)(false, 'Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this.');\n          return _date;\n        }\n      }\n\n      return null;\n    }\n  }\n};\nvar _default = generateConfig;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = PickerButton;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _button = _interopRequireDefault(require(\"../button\"));\n\nfunction PickerButton(props) {\n  return /*#__PURE__*/React.createElement(_button[\"default\"], (0, _extends2[\"default\"])({\n    size: \"small\",\n    type: \"primary\"\n  }, props));\n}","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = PickerTag;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _tag = _interopRequireDefault(require(\"../tag\"));\n\nfunction PickerTag(props) {\n  return /*#__PURE__*/React.createElement(_tag[\"default\"], (0, _extends2[\"default\"])({\n    color: \"blue\"\n  }, props));\n}","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar CheckableTag = function CheckableTag(_a) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      className = _a.className,\n      checked = _a.checked,\n      onChange = _a.onChange,\n      onClick = _a.onClick,\n      restProps = __rest(_a, [\"prefixCls\", \"className\", \"checked\", \"onChange\", \"onClick\"]);\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var handleClick = function handleClick(e) {\n    if (onChange) {\n      onChange(!checked);\n    }\n\n    if (onClick) {\n      onClick(e);\n    }\n  };\n\n  var prefixCls = getPrefixCls('tag', customizePrefixCls);\n  var cls = (0, _classnames[\"default\"])(prefixCls, (_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-checkable\"), true), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-checkable-checked\"), checked), _classNames), className);\n  return /*#__PURE__*/React.createElement(\"span\", (0, _extends2[\"default\"])({}, restProps, {\n    className: cls,\n    onClick: handleClick\n  }));\n};\n\nvar _default = CheckableTag;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = generatePicker;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _CalendarOutlined = _interopRequireDefault(require(\"@ant-design/icons/CalendarOutlined\"));\n\nvar _ClockCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/ClockCircleOutlined\"));\n\nvar _CloseCircleFilled = _interopRequireDefault(require(\"@ant-design/icons/CloseCircleFilled\"));\n\nvar _rcPicker = _interopRequireDefault(require(\"rc-picker\"));\n\nvar _en_US = _interopRequireDefault(require(\"../locale/en_US\"));\n\nvar _util = require(\"../util\");\n\nvar _devWarning = _interopRequireDefault(require(\"../../_util/devWarning\"));\n\nvar _configProvider = require(\"../../config-provider\");\n\nvar _LocaleReceiver = _interopRequireDefault(require(\"../../locale-provider/LocaleReceiver\"));\n\nvar _SizeContext = _interopRequireDefault(require(\"../../config-provider/SizeContext\"));\n\nvar _ = require(\".\");\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nfunction generatePicker(generateConfig) {\n  function getPicker(picker, displayName) {\n    var Picker = /*#__PURE__*/function (_React$Component) {\n      (0, _inherits2[\"default\"])(Picker, _React$Component);\n\n      var _super = (0, _createSuper2[\"default\"])(Picker);\n\n      function Picker(props) {\n        var _this;\n\n        (0, _classCallCheck2[\"default\"])(this, Picker);\n        _this = _super.call(this, props);\n        _this.pickerRef = /*#__PURE__*/React.createRef();\n\n        _this.focus = function () {\n          if (_this.pickerRef.current) {\n            _this.pickerRef.current.focus();\n          }\n        };\n\n        _this.blur = function () {\n          if (_this.pickerRef.current) {\n            _this.pickerRef.current.blur();\n          }\n        };\n\n        _this.getDefaultLocale = function () {\n          var locale = _this.props.locale;\n          var result = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, _en_US[\"default\"]), locale);\n          result.lang = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, result.lang), (locale || {}).lang);\n          return result;\n        };\n\n        _this.renderPicker = function (locale) {\n          var _this$context = _this.context,\n              getPrefixCls = _this$context.getPrefixCls,\n              direction = _this$context.direction,\n              getPopupContainer = _this$context.getPopupContainer;\n\n          var _a = _this.props,\n              customizePrefixCls = _a.prefixCls,\n              customizeGetPopupContainer = _a.getPopupContainer,\n              className = _a.className,\n              customizeSize = _a.size,\n              _a$bordered = _a.bordered,\n              bordered = _a$bordered === void 0 ? true : _a$bordered,\n              placeholder = _a.placeholder,\n              restProps = __rest(_a, [\"prefixCls\", \"getPopupContainer\", \"className\", \"size\", \"bordered\", \"placeholder\"]);\n\n          var _this$props = _this.props,\n              format = _this$props.format,\n              showTime = _this$props.showTime;\n          var prefixCls = getPrefixCls('picker', customizePrefixCls);\n          var additionalProps = {\n            showToday: true\n          };\n          var additionalOverrideProps = {};\n\n          if (picker) {\n            additionalOverrideProps.picker = picker;\n          }\n\n          var mergedPicker = picker || _this.props.picker;\n          additionalOverrideProps = (0, _extends2[\"default\"])((0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, additionalOverrideProps), showTime ? (0, _.getTimeProps)((0, _extends2[\"default\"])({\n            format: format,\n            picker: mergedPicker\n          }, showTime)) : {}), mergedPicker === 'time' ? (0, _.getTimeProps)((0, _extends2[\"default\"])((0, _extends2[\"default\"])({\n            format: format\n          }, _this.props), {\n            picker: mergedPicker\n          })) : {});\n          return /*#__PURE__*/React.createElement(_SizeContext[\"default\"].Consumer, null, function (size) {\n            var _classNames;\n\n            var mergedSize = customizeSize || size;\n            return /*#__PURE__*/React.createElement(_rcPicker[\"default\"], (0, _extends2[\"default\"])({\n              ref: _this.pickerRef,\n              placeholder: (0, _util.getPlaceholder)(mergedPicker, locale, placeholder),\n              suffixIcon: mergedPicker === 'time' ? /*#__PURE__*/React.createElement(_ClockCircleOutlined[\"default\"], null) : /*#__PURE__*/React.createElement(_CalendarOutlined[\"default\"], null),\n              clearIcon: /*#__PURE__*/React.createElement(_CloseCircleFilled[\"default\"], null),\n              allowClear: true,\n              transitionName: \"slide-up\"\n            }, additionalProps, restProps, additionalOverrideProps, {\n              locale: locale.lang,\n              className: (0, _classnames[\"default\"])((_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-\").concat(mergedSize), mergedSize), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-borderless\"), !bordered), _classNames), className),\n              prefixCls: prefixCls,\n              getPopupContainer: customizeGetPopupContainer || getPopupContainer,\n              generateConfig: generateConfig,\n              prevIcon: /*#__PURE__*/React.createElement(\"span\", {\n                className: \"\".concat(prefixCls, \"-prev-icon\")\n              }),\n              nextIcon: /*#__PURE__*/React.createElement(\"span\", {\n                className: \"\".concat(prefixCls, \"-next-icon\")\n              }),\n              superPrevIcon: /*#__PURE__*/React.createElement(\"span\", {\n                className: \"\".concat(prefixCls, \"-super-prev-icon\")\n              }),\n              superNextIcon: /*#__PURE__*/React.createElement(\"span\", {\n                className: \"\".concat(prefixCls, \"-super-next-icon\")\n              }),\n              components: _.Components,\n              direction: direction\n            }));\n          });\n        };\n\n        (0, _devWarning[\"default\"])(picker !== 'quarter', displayName, \"DatePicker.\".concat(displayName, \" is legacy usage. Please use DatePicker[picker='\").concat(picker, \"'] directly.\"));\n        return _this;\n      }\n\n      (0, _createClass2[\"default\"])(Picker, [{\n        key: \"render\",\n        value: function render() {\n          return /*#__PURE__*/React.createElement(_LocaleReceiver[\"default\"], {\n            componentName: \"DatePicker\",\n            defaultLocale: this.getDefaultLocale\n          }, this.renderPicker);\n        }\n      }]);\n      return Picker;\n    }(React.Component);\n\n    Picker.contextType = _configProvider.ConfigContext;\n\n    if (displayName) {\n      Picker.displayName = displayName;\n    }\n\n    return Picker;\n  }\n\n  var DatePicker = getPicker();\n  var WeekPicker = getPicker('week', 'WeekPicker');\n  var MonthPicker = getPicker('month', 'MonthPicker');\n  var YearPicker = getPicker('year', 'YearPicker');\n  var TimePicker = getPicker('time', 'TimePicker');\n  var QuarterPicker = getPicker('quarter', 'QuarterPicker');\n  return {\n    DatePicker: DatePicker,\n    WeekPicker: WeekPicker,\n    MonthPicker: MonthPicker,\n    YearPicker: YearPicker,\n    TimePicker: TimePicker,\n    QuarterPicker: QuarterPicker\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _CalendarOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/CalendarOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar CalendarOutlined = function CalendarOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _CalendarOutlined.default\n  }));\n};\n\nCalendarOutlined.displayName = 'CalendarOutlined';\n\nvar _default = /*#__PURE__*/React.forwardRef(CalendarOutlined);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CalendarOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z\" } }] }, \"name\": \"calendar\", \"theme\": \"outlined\" };\nexports.default = CalendarOutlined;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _ClockCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/ClockCircleOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar ClockCircleOutlined = function ClockCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _ClockCircleOutlined.default\n  }));\n};\n\nClockCircleOutlined.displayName = 'ClockCircleOutlined';\n\nvar _default = /*#__PURE__*/React.forwardRef(ClockCircleOutlined);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ClockCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z\" } }] }, \"name\": \"clock-circle\", \"theme\": \"outlined\" };\nexports.default = ClockCircleOutlined;\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = generateRangePicker;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _CalendarOutlined = _interopRequireDefault(require(\"@ant-design/icons/CalendarOutlined\"));\n\nvar _ClockCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/ClockCircleOutlined\"));\n\nvar _CloseCircleFilled = _interopRequireDefault(require(\"@ant-design/icons/CloseCircleFilled\"));\n\nvar _SwapRightOutlined = _interopRequireDefault(require(\"@ant-design/icons/SwapRightOutlined\"));\n\nvar _rcPicker = require(\"rc-picker\");\n\nvar _en_US = _interopRequireDefault(require(\"../locale/en_US\"));\n\nvar _configProvider = require(\"../../config-provider\");\n\nvar _SizeContext = _interopRequireDefault(require(\"../../config-provider/SizeContext\"));\n\nvar _LocaleReceiver = _interopRequireDefault(require(\"../../locale-provider/LocaleReceiver\"));\n\nvar _util = require(\"../util\");\n\nvar _ = require(\".\");\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nfunction generateRangePicker(generateConfig) {\n  var RangePicker = /*#__PURE__*/function (_React$Component) {\n    (0, _inherits2[\"default\"])(RangePicker, _React$Component);\n\n    var _super = (0, _createSuper2[\"default\"])(RangePicker);\n\n    function RangePicker() {\n      var _this;\n\n      (0, _classCallCheck2[\"default\"])(this, RangePicker);\n      _this = _super.apply(this, arguments);\n      _this.pickerRef = /*#__PURE__*/React.createRef();\n\n      _this.focus = function () {\n        if (_this.pickerRef.current) {\n          _this.pickerRef.current.focus();\n        }\n      };\n\n      _this.blur = function () {\n        if (_this.pickerRef.current) {\n          _this.pickerRef.current.blur();\n        }\n      };\n\n      _this.getDefaultLocale = function () {\n        var locale = _this.props.locale;\n        var result = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, _en_US[\"default\"]), locale);\n        result.lang = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, result.lang), (locale || {}).lang);\n        return result;\n      };\n\n      _this.renderPicker = function (locale) {\n        var _this$context = _this.context,\n            getPrefixCls = _this$context.getPrefixCls,\n            direction = _this$context.direction,\n            getPopupContainer = _this$context.getPopupContainer;\n\n        var _a = _this.props,\n            customizePrefixCls = _a.prefixCls,\n            customGetPopupContainer = _a.getPopupContainer,\n            className = _a.className,\n            customizeSize = _a.size,\n            _a$bordered = _a.bordered,\n            bordered = _a$bordered === void 0 ? true : _a$bordered,\n            placeholder = _a.placeholder,\n            restProps = __rest(_a, [\"prefixCls\", \"getPopupContainer\", \"className\", \"size\", \"bordered\", \"placeholder\"]);\n\n        var _this$props = _this.props,\n            format = _this$props.format,\n            showTime = _this$props.showTime,\n            picker = _this$props.picker;\n        var prefixCls = getPrefixCls('picker', customizePrefixCls);\n        var additionalOverrideProps = {};\n        additionalOverrideProps = (0, _extends2[\"default\"])((0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, additionalOverrideProps), showTime ? (0, _.getTimeProps)((0, _extends2[\"default\"])({\n          format: format,\n          picker: picker\n        }, showTime)) : {}), picker === 'time' ? (0, _.getTimeProps)((0, _extends2[\"default\"])((0, _extends2[\"default\"])({\n          format: format\n        }, _this.props), {\n          picker: picker\n        })) : {});\n        return /*#__PURE__*/React.createElement(_SizeContext[\"default\"].Consumer, null, function (size) {\n          var _classNames;\n\n          var mergedSize = customizeSize || size;\n          return /*#__PURE__*/React.createElement(_rcPicker.RangePicker, (0, _extends2[\"default\"])({\n            separator: /*#__PURE__*/React.createElement(\"span\", {\n              \"aria-label\": \"to\",\n              className: \"\".concat(prefixCls, \"-separator\")\n            }, /*#__PURE__*/React.createElement(_SwapRightOutlined[\"default\"], null)),\n            ref: _this.pickerRef,\n            placeholder: (0, _util.getRangePlaceholder)(picker, locale, placeholder),\n            suffixIcon: picker === 'time' ? /*#__PURE__*/React.createElement(_ClockCircleOutlined[\"default\"], null) : /*#__PURE__*/React.createElement(_CalendarOutlined[\"default\"], null),\n            clearIcon: /*#__PURE__*/React.createElement(_CloseCircleFilled[\"default\"], null),\n            allowClear: true,\n            transitionName: \"slide-up\"\n          }, restProps, additionalOverrideProps, {\n            className: (0, _classnames[\"default\"])((_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-\").concat(mergedSize), mergedSize), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-borderless\"), !bordered), _classNames), className),\n            locale: locale.lang,\n            prefixCls: prefixCls,\n            getPopupContainer: customGetPopupContainer || getPopupContainer,\n            generateConfig: generateConfig,\n            prevIcon: /*#__PURE__*/React.createElement(\"span\", {\n              className: \"\".concat(prefixCls, \"-prev-icon\")\n            }),\n            nextIcon: /*#__PURE__*/React.createElement(\"span\", {\n              className: \"\".concat(prefixCls, \"-next-icon\")\n            }),\n            superPrevIcon: /*#__PURE__*/React.createElement(\"span\", {\n              className: \"\".concat(prefixCls, \"-super-prev-icon\")\n            }),\n            superNextIcon: /*#__PURE__*/React.createElement(\"span\", {\n              className: \"\".concat(prefixCls, \"-super-next-icon\")\n            }),\n            components: _.Components,\n            direction: direction\n          }));\n        });\n      };\n\n      return _this;\n    }\n\n    (0, _createClass2[\"default\"])(RangePicker, [{\n      key: \"render\",\n      value: function render() {\n        return /*#__PURE__*/React.createElement(_LocaleReceiver[\"default\"], {\n          componentName: \"DatePicker\",\n          defaultLocale: this.getDefaultLocale\n        }, this.renderPicker);\n      }\n    }]);\n    return RangePicker;\n  }(React.Component);\n\n  RangePicker.contextType = _configProvider.ConfigContext;\n  return RangePicker;\n}","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _SwapRightOutlined = _interopRequireDefault(require('./lib/icons/SwapRightOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _SwapRightOutlined;\n  exports.default = _default;\n  module.exports = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _SwapRightOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/SwapRightOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar SwapRightOutlined = function SwapRightOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _SwapRightOutlined.default\n  }));\n};\n\nSwapRightOutlined.displayName = 'SwapRightOutlined';\n\nvar _default = /*#__PURE__*/React.forwardRef(SwapRightOutlined);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SwapRightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z\" } }] }, \"name\": \"swap-right\", \"theme\": \"outlined\" };\nexports.default = SwapRightOutlined;\n","'use strict'\n\nfunction markdownLineEnding(code) {\n  return code < -2\n}\n\nmodule.exports = markdownLineEnding\n","'use strict'\n\nvar markdownSpace = require('../character/markdown-space.js')\n\nfunction spaceFactory(effects, ok, type, max) {\n  var limit = max ? max - 1 : Infinity\n  var size = 0\n  return start\n\n  function start(code) {\n    if (markdownSpace(code)) {\n      effects.enter(type)\n      return prefix(code)\n    }\n\n    return ok(code)\n  }\n\n  function prefix(code) {\n    if (markdownSpace(code) && size++ < limit) {\n      effects.consume(code)\n      return prefix\n    }\n\n    effects.exit(type)\n    return ok(code)\n  }\n}\n\nmodule.exports = spaceFactory\n","'use strict'\n\nfunction markdownSpace(code) {\n  return code === -2 || code === -1 || code === 32\n}\n\nmodule.exports = markdownSpace\n","'use strict'\n\nvar splice = require('../constant/splice.js')\n\n// causes a stack overflow in V8 when trying to insert 100k items for instance.\n\nfunction chunkedSplice(list, start, remove, items) {\n  var end = list.length\n  var chunkStart = 0\n  var parameters // Make start between zero and `end` (included).\n\n  if (start < 0) {\n    start = -start > end ? 0 : end + start\n  } else {\n    start = start > end ? end : start\n  }\n\n  remove = remove > 0 ? remove : 0 // No need to chunk the items if theres only a couple (10k) items.\n\n  if (items.length < 10000) {\n    parameters = Array.from(items)\n    parameters.unshift(start, remove)\n    splice.apply(list, parameters)\n  } else {\n    // Delete `remove` items starting from `start`\n    if (remove) splice.apply(list, [start, remove]) // Insert the items in chunks to not cause stack overflows.\n\n    while (chunkStart < items.length) {\n      parameters = items.slice(chunkStart, chunkStart + 10000)\n      parameters.unshift(start, 0)\n      splice.apply(list, parameters)\n      chunkStart += 10000\n      start += 10000\n    }\n  }\n}\n\nmodule.exports = chunkedSplice\n","'use strict'\n\nfunction markdownLineEndingOrSpace(code) {\n  return code < 0 || code === 32\n}\n\nmodule.exports = markdownLineEndingOrSpace\n","'use strict'\n\nvar fromCharCode = require('../constant/from-char-code.js')\n\nfunction regexCheck(regex) {\n  return check\n\n  function check(code) {\n    return regex.test(fromCharCode(code))\n  }\n}\n\nmodule.exports = regexCheck\n","'use strict'\n\nvar assign = require('../constant/assign.js')\n\nfunction shallow(object) {\n  return assign({}, object)\n}\n\nmodule.exports = shallow\n","'use strict'\n\nvar assign = Object.assign\n\nmodule.exports = assign\n","'use strict'\n\nvar sizeChunks = require('./size-chunks.js')\n\nfunction prefixSize(events, type) {\n  var tail = events[events.length - 1]\n  if (!tail || tail[1].type !== type) return 0\n  return sizeChunks(tail[2].sliceStream(tail[1]))\n}\n\nmodule.exports = prefixSize\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiAlphanumeric = regexCheck(/[\\dA-Za-z]/)\n\nmodule.exports = asciiAlphanumeric\n","Prism.languages.markup = {\n\t'comment': /<!--[\\s\\S]*?-->/,\n\t'prolog': /<\\?[\\s\\S]+?\\?>/,\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n  // Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           // Unique ID\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(prev) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = prev ? prev.undoDepth : Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head || ranges[i].anchor)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  // doesn't cross line boundaries), \"word\" (across next word), or\n  // \"group\" (to the start of next group of word or\n  // non-word-non-whitespace chars). The visually param controls\n  // whether, in right-to-left text, direction 1 means to move towards\n  // the next index in the string, or towards the character to the right\n  // of the current position. The resulting position will have a\n  // hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    div.contentEditable = true;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = document.activeElement == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || document.activeElement != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, */) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.60.0\";\n\n  return CodeMirror;\n\n})));\n","'use strict'\n\nvar fromCharCode = String.fromCharCode\n\nmodule.exports = fromCharCode\n","'use strict'\n\nvar markdownLineEnding = require('../character/markdown-line-ending.js')\nvar factorySpace = require('./factory-space.js')\n\nvar partialBlankLine = {\n  tokenize: tokenizePartialBlankLine,\n  partial: true\n}\n\nfunction tokenizePartialBlankLine(effects, ok, nok) {\n  return factorySpace(effects, afterWhitespace, 'linePrefix')\n\n  function afterWhitespace(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code)\n  }\n}\n\nmodule.exports = partialBlankLine\n","'use strict'\n\nfunction resolveAll(constructs, events, context) {\n  var called = []\n  var index = -1\n  var resolve\n\n  while (++index < constructs.length) {\n    resolve = constructs[index].resolveAll\n\n    if (resolve && called.indexOf(resolve) < 0) {\n      events = resolve(events, context)\n      called.push(resolve)\n    }\n  }\n\n  return events\n}\n\nmodule.exports = resolveAll\n","'use strict'\n\nvar regexCheck = require('../util/regex-check.js')\n\nvar asciiAlpha = regexCheck(/[A-Za-z]/)\n\nmodule.exports = asciiAlpha\n","'use strict'\n\nmodule.exports = visit\n\nvar visitParents = require('unist-util-visit-parents')\n\nvar CONTINUE = visitParents.CONTINUE\nvar SKIP = visitParents.SKIP\nvar EXIT = visitParents.EXIT\n\nvisit.CONTINUE = CONTINUE\nvisit.SKIP = SKIP\nvisit.EXIT = EXIT\n\nfunction visit(tree, test, visitor, reverse) {\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    visitor = test\n    test = null\n  }\n\n  visitParents(tree, test, overload, reverse)\n\n  function overload(node, parents) {\n    var parent = parents[parents.length - 1]\n    var index = parent ? parent.children.indexOf(node) : null\n    return visitor(node, index, parent)\n  }\n}\n"],"sourceRoot":""}